{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-procedure/lib/Procedures.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-procedure/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-procedure/client/react/ProcedureDetail.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-procedure/client/react/ProceduresPage.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-procedure/client/react/ProceduresTable.js"],"names":["SimpleSchema","module","link","v","Procedure","BaseModel","extend","prototype","_collection","Procedures","Package","Mongo","Collection","connection","_transform","document","ProcedureDstu2","type","String","defaultValue","optional","Array","IdentifierSchema","ReferenceSchema","Code","allowedValues","CodeableConceptSchema","Boolean","Object","Date","PeriodSchema","AnnotationSchema","ProcedureStu3","ProcedureSchema","BaseSchema","DomainResourceSchema","attachSchema","exportDefault","export","SidebarElements","DynamicRoutes","ProceduresPage","ProceduresTable","ProcedureDetail","CardActions","CardText","DatePicker","RaisedButton","TextField","Toggle","Row","Col","React","ReactMeteorData","ReactMixin","browserHistory","get","set","PropTypes","styles","block","maxWidth","toggle","marginTop","thumbOff","backgroundColor","trackOff","thumbSwitched","trackSwitched","labelStyle","color","props","state","procedureId","procedure","resourceType","identifier","coding","system","code","text","value","status","notPerformed","use","subject","reference","display","performer","bodySite","category","notes","time","form","categoryCode","categoryDisplay","procedureCode","procedureCodeDisplay","bodySiteDisplay","bodySiteReference","performedDate","performedTime","performerDisplay","performerReference","subjectDisplay","subjectReference","noteTime","noteText","dehydrateFhirResource","formData","assign","shouldComponentUpdate","nextProps","process","env","NODE_ENV","console","log","shouldUpdate","setState","getMeteorData","data","showDatePicker","renderDatePicker","datePickerValue","changeState","bind","setHint","showHints","render","id","determineButtons","handleSaveButton","marginRight","handleDeleteButton","updateFormData","field","textValue","updateProcedure","procedureData","telecomArray","event","self","fhirProcedureData","procedureValidator","newContext","validate","isValid","validationErrors","_id","update","$set","error","result","Bert","alert","reason","HipaaLogger","logEvent","eventType","userId","Meteor","userName","user","fullName","collectionName","recordId","Session","insert","handleCancelButton","remove","Component","propTypes","string","fhirVersion","oneOfType","bool","object","showPatientInputs","onInsert","func","onUpdate","onRemove","onCancel","CardTitle","Tab","Tabs","GlassCard","VerticalCanvas","Glass","setDefault","style","opacity","tab","borderBottom","borderRight","tabIndex","procedureSearchFilter","selectedProcedureId","selectedProcedure","findOne","blur","appbar","darkroom","handleTabChange","index","onNewTab","handleActive","Card","CardMedia","Table","moment","FaTags","FaCode","FaPuzzlePiece","FaLock","GoTrashcan","selected","procedures","displayToggle","displayDates","displayToggles","find","count","fetch","displayOnMobile","width","includes","window","navigator","platform","renderToggleHeader","hideToggle","renderToggle","patientId","renderDateHeader","renderDate","hideDates","renderIdentifierHeader","hideIdentifier","renderIdentifier","renderActionIconsHeader","hideActionIcons","removeRecord","showSecurityDialog","renderActionIcons","iconStyle","marginLeft","fontSize","minWidth","renderCategoryHeader","hideCategory","renderCategory","renderPerformerHeader","renderPerformer","bodysite","renderBodySiteHeader","renderBodySite","renderSubjectHeader","hideSubject","renderSubject","rowClick","tableRows","i","length","newRow","notesCount","push","cursor","array","query","paginationLimit","number","hidePerformer","hideBodySite","enteredInError"],"mappings":"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","file":"/packages/clinical_hl7-resource-procedure.js","sourcesContent":["import SimpleSchema from 'simpl-schema';\n\n// create the object using our BaseModel\nProcedure = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nProcedure.prototype._collection = Procedures;\n\n// Create a persistent data store for addresses to be stored.\n// HL7.Resources.Patients = new Mongo.Collection('HL7.Resources.Patients');\n\nif(typeof Procedures === 'undefined'){\n  if(Package['clinical:autopublish']){\n    Procedures = new Mongo.Collection('Procedures');\n  } else if(Package['clinical:desktop-publish']){    \n    Procedures = new Mongo.Collection('Procedures');\n  } else {\n    Procedures = new Mongo.Collection('Procedures', {connection: null});\n  }\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nProcedures._transform = function (document) {\n  return new Procedure(document);\n};\n\n\n\nProcedureDstu2 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Procedure\"\n  },\n\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"subject\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"status\" : {\n    type: Code,\n    allowedValues: [ 'in-progress', 'aborted', 'completed', 'entered-in-error'],\n    defaultValue: 'completed'\n  },\n  \"category\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"code\" : {\n    type: CodeableConceptSchema\n  },\n  \"notPerformed\" : {\n    optional: true,\n    type: Boolean,\n    defaultValue: true\n  },\n  \"reasonNotPerformed\" : {\n    optional: true,\n    type: Array\n  },\n  \"reasonNotPerformed.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"bodySite\" : {\n    optional: true,\n    type: Array\n  },\n  \"bodySite.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"reasonCodeableConceptSchema\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"reasonReference\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"performer\" : {\n    optional: true,\n    type:  Array\n    },\n  \"performer.$\" : {\n    optional: true,\n    type:  Object \n    },  \n  \"performer.$.actor\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"performer.$.role\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"performedDateTime\" : {\n    optional: true,\n    type: Date\n  },\n  \"performedPeriod\" : {\n    optional: true,\n    type: PeriodSchema\n  },\n  \"encounter\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"location\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"outcome\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"report\" : {\n    optional: true,\n    type: Array\n  },\n  \"report.$\" : {\n    optional: true,\n    type: ReferenceSchema \n  },\n  \"complication\" : {\n    optional: true,\n    type: Array\n  },\n  \"complication.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"followUp\" : {\n    optional: true,\n    type: Array\n  },\n  \"followUp.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"request\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"notes\" : {\n    optional: true,\n    type: Array\n  },\n  \"notes.$\" : {\n    optional: true,\n    type: AnnotationSchema \n  },\n  \"focalDevice\" : {\n    optional: true,\n    type:  Array\n    },\n  \"focalDevice.$\" : {\n    optional: true,\n    type:  Object \n    },  \n  \"focalDevice.$.action\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"focalDevice.$.manipulated\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"used\" : {\n    optional: true,\n    type: Array\n  },\n  \"used.$\" : {\n    optional: true,\n    type: ReferenceSchema \n  }\n});\n\n\nProcedureStu3 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Procedure\"\n  },\n\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"definition\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"basedOn\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"partOf\" : {\n    optional: true,\n    type: ReferenceSchema\n  },  \n  \"status\" : {\n    type: Code,\n    allowedValues: [ 'preparation', 'in-progress', 'suspended', 'aborted', 'completed', 'entered-in-error', 'unknown'],\n    defaultValue: 'completed'\n  },\n  \"notDone\" : {\n    optional: true,\n    type: Boolean,\n    defaultValue: true\n  },\n  \"notDoneReason\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"category\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"code\" : {\n    type: CodeableConceptSchema\n  },\n  \"subject\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"context\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"performedDateTime\" : {\n    optional: true,\n    type: Date\n  },\n  \"performedPeriod\" : {\n    optional: true,\n    type: PeriodSchema\n  },\n  \"performer\" : {\n    optional: true,\n    type:  Array\n    },\n  \"performer.$\" : {\n    optional: true,\n    type:  Object \n    },  \n  \"performer.$.role\" : {\n      optional: true,\n      type: CodeableConceptSchema\n    },\n  \"performer.$.actor\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"performer.$.onBehalfOf\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"location\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"reasonCode\" : {\n    optional: true,\n    type: Array\n  },\n  \"reasonCode.$\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"reasonReference\" : {\n    optional: true,\n    type: Array\n  },\n  \"reasonReference.$\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"bodySite\" : {\n    optional: true,\n    type: Array\n  },\n  \"bodySite.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n\n  \"outcome\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"report\" : {\n    optional: true,\n    type: Array\n  },\n  \"report.$\" : {\n    optional: true,\n    type: ReferenceSchema \n  },\n  \"complication\" : {\n    optional: true,\n    type: Array\n  },\n  \"complication.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"complicationDetail\" : {\n    optional: true,\n    type: Array\n  },\n  \"complicationDetail.$\" : {\n    optional: true,\n    type: ReferenceSchema \n  },\n  \"followUp\" : {\n    optional: true,\n    type: Array\n  },\n  \"followUp.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  },\n  \"note\" : {\n    optional: true,\n    type: Array\n  },\n  \"note.$\" : {\n    optional: true,\n    type: AnnotationSchema \n  },\n  \"focalDevice\" : {\n    optional: true,\n    type:  Array\n    },\n  \"focalDevice.$\" : {\n    optional: true,\n    type:  Object \n    },  \n  \"focalDevice.$.action\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  \"focalDevice.$.manipulated\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"usedReference\" : {\n    optional: true,\n    type: Array\n  },\n  \"usedReference.$\" : {\n    optional: true,\n    type: ReferenceSchema \n  },\n  \"usedCode\" : {\n    optional: true,\n    type: Array\n  },\n  \"usedCode.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  }\n});\n\nProcedureSchema = ProcedureDstu2;\n\nBaseSchema.extend(ProcedureSchema);\nDomainResourceSchema.extend(ProcedureSchema);\n\nProcedures.attachSchema(ProcedureSchema);\n\nexport default { Procedure, Procedures, ProcedureSchema, ProcedureDstu2, ProcedureStu3 };","\n\nimport ProcedureDetail from './client/react/ProcedureDetail';\nimport ProceduresPage from './client/react/ProceduresPage';\nimport ProceduresTable from './client/react/ProceduresTable';\nimport { Procedure, Procedures, ProcedureSchema } from './lib/Procedures';\n\nvar DynamicRoutes = [{\n  'name': 'ProceduresPage',\n  'path': '/procedures',\n  'component': ProceduresPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'Procedures',\n  'to': '/procedures',\n  'href': '/procedures'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  ProceduresPage,\n  ProceduresTable,\n  ProcedureDetail\n};\n\n\n","import { CardActions, CardText, DatePicker, RaisedButton, TextField, Toggle } from 'material-ui';\nimport { Row, Col } from 'react-bootstrap';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { browserHistory } from 'react-router';\nimport { get, set } from 'lodash';\nimport PropTypes from 'prop-types';\n\n\nconst styles = {\n  block: {\n    maxWidth: 250,\n  },\n  toggle: {\n    marginTop: 16,\n  },\n  thumbOff: {\n    backgroundColor: '#ffcccc',\n  },\n  trackOff: {\n    backgroundColor: '#ff9d9d',\n  },\n  thumbSwitched: {\n    backgroundColor: 'red',\n  },\n  trackSwitched: {\n    backgroundColor: '#ff9d9d',\n  },\n  labelStyle: {\n    color: 'red',\n  },\n};\n\n\nexport class ProcedureDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      procedureId: false,\n      procedure: {\n        resourceType: 'Procedure',\n        identifier: [{\n          type: {\n            coding: [\n              {\n                system: \"\",\n                code: \"\"\n              }\n            ],\n            text: \"Serial Number\"\n          },\n          value: \"\"\n        }],\n        status: 'unknown',\n        notPerformed: false,\n        identifier: [{\n          use: 'official',\n          value: ''\n        }],\n        subject: {\n          reference: '',\n          display: ''\n        },\n        performer:{\n          reference: '',\n          display: ''\n        },\n        bodySite:{\n          reference: '',\n          display: ''\n        },\n        code: {\n          text: '',\n          coding: [{\n            system: '',\n            code: '',\n            display: ''\n          }]\n        },\n        category: {\n          text: '',\n          coding: [{\n            system: '',\n            code: '',\n            display: ''\n          }]\n        },\n        notes: [{\n          time: null,\n          text: ''\n        }]\n      },\n      form: {\n        identifier: '',\n        categoryCode: '',\n        categoryDisplay: '',\n        procedureCode: '',\n        procedureCodeDisplay: '',\n        bodySiteDisplay: '',\n        bodySiteReference: '',\n        performedDate: null,\n        performedTime: null,\n        notPerformed: false,\n        performerDisplay: '',\n        performerReference: '',\n        subjectDisplay: '',\n        subjectReference: '',\n        noteTime: '',\n        noteText: ''\n      }\n    }\n  }\n  dehydrateFhirResource(procedure) {\n    let formData = Object.assign({}, this.state.form);\n\n    formData.identifier = get(procedure, 'identifier[0].value')\n    formData.categoryCode = get(procedure, 'category.coding[0].code')\n    formData.categoryDisplay = get(procedure, 'category.coding[0].display')    \n    formData.procedureCode = get(procedure, 'code.coding[0].code')\n    formData.procedureCodeDisplay = get(procedure, 'code.coding[0].display')\n    formData.bodySiteDisplay = get(procedure, 'bodySite.display')\n    formData.bodySiteReference = get(procedure, 'bodySite.reference')\n    formData.performedDate = get(procedure, 'performedDate')\n    formData.performedTime = get(procedure, 'performedTime')\n    formData.notPerformed = get(procedure, 'notPerformed')\n    formData.performerDisplay = get(procedure, 'performer.display')\n    formData.performerReference = get(procedure, 'performer.reference')\n    formData.subjectDisplay = get(procedure, 'subject.display')\n    formData.subjectReference = get(procedure, 'subject.reference')\n    formData.noteTime = get(procedure, 'notes[0].time')\n    formData.noteText = get(procedure, 'notes[0].text')\n\n    return formData;\n  }\n  shouldComponentUpdate(nextProps){\n    process.env.NODE_ENV === \"test\" && console.log('ProcedureDetail.shouldComponentUpdate()', nextProps, this.state)\n    let shouldUpdate = true;\n\n    // both false; don't take any more updates\n    if(nextProps.procedure === this.state.procedure){\n      shouldUpdate = false;\n    }\n\n    // received an procedure from the table; okay lets update again\n    if(nextProps.procedureId !== this.state.procedureId){\n      this.setState({procedureId: nextProps.procedureId})\n      \n      if(nextProps.procedure){\n        this.setState({procedure: nextProps.procedure})     \n        this.setState({form: this.dehydrateFhirResource(nextProps.procedure)})       \n      }\n      shouldUpdate = true;\n    }\n \n    return shouldUpdate;\n  }\n  getMeteorData() {\n    let data = {\n      procedureId: this.props.procedureId,\n      procedure: false,\n      showDatePicker: false\n    };\n\n    if(this.props.showDatePicker){\n      data.showDatePicker = this.props.showDatePicker;\n    }\n\n    if(this.props.procedure){\n      data.procedure = this.props.procedure;\n      data.form = this.dehydrateFhirResource(this.props.procedure);\n    }  \n\n    console.log('ProcedureDetail[data]', data);\n    return data;\n  }\n\n  renderDatePicker(showDatePicker, datePickerValue){\n    if (showDatePicker) {\n      return (\n        <DatePicker \n          name='performedDateTime'\n          hintText=\"Performed Date/Time\" \n          container=\"inline\" \n          mode=\"landscape\"\n          value={ datePickerValue ? datePickerValue : ''}    \n          onChange={ this.changeState.bind(this, 'performedDateTime')}      \n          />\n      );\n    }\n  }\n  setHint(text){\n    if(this.props.showHints !== false){\n      return text;\n    } else {\n      return '';\n    }\n  }\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('ProcedureDetail.render()', this.state)\n    let formData = this.data.form;\n\n    return (\n      <div id={this.props.id} className=\"procedureDetail\">\n        <CardText>\n          <Row>\n            <Col md={4}>\n              <TextField\n                id='identifierInput'\n                ref='identifier'\n                name='identifier'\n                floatingLabelText='Identifier'\n                value={  get(formData, 'identifier') }\n                onChange={ this.changeState.bind(this, 'identifier')}\n                hintText={this.setHint('IR-28376481')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={4}>\n              <TextField\n                id='categoryDisplayInput'\n                ref='categoryDisplay'\n                name='categoryDisplay'\n                floatingLabelText='Procedure Category'\n                value={  get(formData, 'categoryDisplay') }\n                onChange={ this.changeState.bind(this, 'categoryDisplay')}\n                hintText={this.setHint('Interventional Radiology')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='categoryCodeInput'\n                ref='categoryCode'\n                name='categoryCode'\n                floatingLabelText='Category Code'\n                value={  get(formData, 'categoryCode') }\n                onChange={ this.changeState.bind(this, 'categoryCode')}\n                hintText={this.setHint('240917005')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={4}>\n              <TextField\n                id='procedureCodeDisplayInput'\n                ref='procedureCodeDisplay'\n                name='procedureCodeDisplay'\n                floatingLabelText='Procedure'\n                value={  get(formData, 'procedureCodeDisplay') }\n                onChange={ this.changeState.bind(this, 'procedureCodeDisplay')}\n                hintText={this.setHint('Biliary drainage intervention')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='procedureCodeInput'\n                ref='procedureCode'\n                name='procedureCode'\n                floatingLabelText='Procedure Code'\n                value={  get(formData, 'procedureCode') }\n                onChange={ this.changeState.bind(this, 'procedureCode')}\n                hintText={this.setHint('277566006')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={4}>\n              <TextField\n                id='subjectDisplayInput'\n                ref='subjectDisplay'\n                name='subjectDisplay'\n                floatingLabelText='Subject'\n                value={  get(formData, 'subjectDisplay') }\n                onChange={ this.changeState.bind(this, 'subjectDisplay')}\n                hintText={this.setHint('Jane Doe')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='subjectReferenceInput'\n                ref='subjectReference'\n                name='subjectReference'\n                floatingLabelText='Subject Reference'\n                value={  get(formData, 'subjectReference') }\n                onChange={ this.changeState.bind(this, 'subjectReference')}\n                hintText={this.setHint('Patient/12345')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n\n            <Col md={4}>\n              <TextField\n                id='bodySiteDisplayInput'\n                ref='bodySiteDisplay'\n                name='bodySiteDisplay'\n                floatingLabelText='Body Site'\n                value={  get(formData, 'bodySiteDisplay') }\n                onChange={ this.changeState.bind(this, 'bodySiteDisplay')}\n                hintText={this.setHint('Billiary Ducts')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='bodySiteReferenceInput'\n                ref='bodySiteReference'\n                name='bodySiteReference'\n                floatingLabelText='Body Site Reference'\n                value={  get(formData, 'bodySiteReference') }\n                onChange={ this.changeState.bind(this, 'bodySiteReference')}\n                hintText={this.setHint('BodySite/222244')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n\n          </Row>\n          <Row>\n            <Col md={4}>\n              <TextField\n                id='performerDisplayInput'\n                ref='performerDisplay'\n                name='performerDisplay'\n                floatingLabelText='Performed By'\n                value={  get(formData, 'performerDisplay') }\n                onChange={ this.changeState.bind(this, 'performerDisplay')}\n                floatingLabelFixed={true}\n                hintText={this.setHint('Chris Taub')}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='performerReferenceInput'\n                ref='performerReference'\n                name='performerReference'\n                floatingLabelText='Performer Reference'\n                value={  get(formData, 'performerReference') }\n                onChange={ this.changeState.bind(this, 'performerReference')}\n                hintText={this.setHint('Practitioner/77777')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='performedDateInput'\n                ref='performedDate'\n                name='performedDate'\n                type='date'\n                floatingLabelText='Performed Date'\n                value={  get(formData, 'performedDate') }\n                onChange={ this.changeState.bind(this, 'performedDate')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='performedTimeInput'\n                ref='performedTime'\n                name='performedTime'\n                type='time'\n                floatingLabelText='Performed Date'\n                value={  get(formData, 'performedTime') }\n                onChange={ this.changeState.bind(this, 'performedTime')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>      \n            <Col md={2} >\n              <br />\n              <Toggle\n                label=\"Not Performed\"\n                labelPosition=\"right\"\n                defaultToggled={false}\n                style={styles.toggle}\n              />\n            </Col>      \n          </Row>\n          <Row>\n            <Col md={2}>\n              <TextField\n                id='noteTimeInput'\n                ref='noteTime'\n                name='noteTime'\n                type='date'\n                floatingLabelText='Time'\n                value={  get(formData, 'noteTime') }\n                onChange={ this.changeState.bind(this, 'noteTime')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={12}>\n              <TextField\n                id='noteTextInput'\n                ref='noteText'\n                name='noteText'\n                floatingLabelText='Subject Reference'\n                value={  get(formData, 'noteText') }\n                onChange={ this.changeState.bind(this, 'noteText')}\n                floatingLabelFixed={true}\n                hintText={this.setHint('Routine follow-up.  No complications.')}\n                multiLine={true}          \n                rows={5}\n                fullWidth\n                /><br/>  \n            </Col>\n          </Row>\n\n\n          <a href='http://browser.ihtsdotools.org/?perspective=full&conceptId1=404684003&edition=us-edition&release=v20180301&server=https://prod-browser-exten.ihtsdotools.org/api/snomed&langRefset=900000000000509007'>Lookup codes with the SNOMED CT Browser</a>\n\n            <br/>\n          { this.renderDatePicker(this.data.showDatePicker, get(this, 'data.procedure.performedDateTime') ) }\n          <br/>\n\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.procedureId) }\n        </CardActions>\n      </div>\n    );\n  }\n\n\n \n  determineButtons(procedureId){\n    if (procedureId) {\n      return (\n        <div>\n          <RaisedButton id=\"updateProcedureButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}}  />\n          <RaisedButton id=\"deleteProcedureButton\" label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id=\"saveProcedureButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n\n  updateFormData(formData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"PatientDetail.updateFormData\", formData, field, textValue);\n\n    switch (field) {\n      case \"identifier\":\n        set(formData, 'identifier', textValue)\n        break;\n      case \"categoryCode\":\n        set(formData, 'categoryCode', textValue)\n        break;\n      case \"categoryDisplay\":\n        set(formData, 'categoryDisplay', textValue)\n        break;        \n      case \"procedureCode\":\n        set(formData, 'procedureCode', textValue)\n        break;\n      case \"procedureCodeDisplay\":\n        set(formData, 'procedureCodeDisplay', textValue)\n        break;\n      case \"bodySiteDisplay\":\n        set(formData, 'bodySiteDisplay', textValue)\n        break;\n      case \"bodySiteReference\":\n        set(formData, 'bodySiteReference', textValue)\n        break;\n      case \"notPerformed\":\n        set(formData, 'notPerformed', textValue)\n        break;\n      case \"performerDisplay\":\n        set(formData, 'performerDisplay', textValue)\n        break;\n      case \"performerReference\":\n        set(formData, 'performerReference', textValue)\n        break;\n      case \"subjectDisplay\":\n        set(formData, 'subjectDisplay', textValue)\n        break;\n      case \"subjectReference\":\n        set(formData, 'subjectReference', textValue)\n        break;\n      case \"noteTime\":\n        set(formData, 'noteTime', textValue)\n        break;\n      case \"noteText\":\n        set(formData, 'noteText', textValue)\n        break;\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n    return formData;\n  }\n\n  updateProcedure(procedureData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"PatientDetail.updateProcedure\", procedureData, field, textValue);\n\n    let telecomArray = get(procedureData, 'telecom');\n\n    switch (field) {\n      case \"identifier\":\n        set(procedureData, 'identifier[0].value', textValue)\n        break;\n      case \"categoryCode\":\n        set(procedureData, 'category.coding[0].code', textValue)\n        break;\n      case \"categoryDisplay\":\n        set(procedureData, 'category.coding[0].display', textValue)\n        break;        \n      case \"procedureCode\":\n        set(procedureData, 'code.coding[0].code', textValue)\n        break;\n      case \"procedureCodeDisplay\":\n        set(procedureData, 'code.coding[0].display', textValue)\n        break;\n      case \"bodySiteDisplay\":\n        set(procedureData, 'bodySite.display', textValue)\n        break;\n      case \"bodySiteReference\":\n        set(procedureData, 'bodySite.reference', )\n        break;\n      case \"notPerformed\":\n        set(procedureData, 'notPerformed', textValue)\n        break;\n      case \"performerDisplay\":\n        set(procedureData, 'performer.display', textValue)\n        break;\n      case \"performerReference\":\n        set(procedureData, 'performer.reference', textValue)\n        break;\n      case \"subjectDisplay\":\n        set(procedureData, 'subject.display', textValue)\n        break;\n      case \"subjectReference\":\n        set(procedureData, 'subject.reference', textValue)\n        break;\n      case \"noteTime\":\n        set(procedureData, 'notes[0].time', textValue)\n        break;\n      case \"noteText\":\n        set(procedureData, 'notes[0].text', textValue)\n        break;\n    }\n    return procedureData;\n  }\n\n  changeState(field, event, textValue){\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"   \");\n    if(process.env.NODE_ENV === \"test\") console.log(\"ProcedureDetail.changeState\", field, textValue);\n    if(process.env.NODE_ENV === \"test\") console.log(\"this.state\", this.state);\n\n    let formData = Object.assign({}, this.state.form);\n    let procedureData = Object.assign({}, this.state.procedure);\n\n    formData = this.updateFormData(formData, field, textValue);\n    procedureData = this.updateProcedure(procedureData, field, textValue);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"procedureData\", procedureData);\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n\n    this.setState({procedure: procedureData})\n    this.setState({form: formData})\n  }\n\n\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&&')\n    console.log('Saving a new Procedure...', this.state)\n\n    let self = this;\n    let fhirProcedureData = Object.assign({}, this.state.procedure);\n\n    if(process.env.NODE_ENV === \"test\") console.log('fhirProcedureData', fhirProcedureData);\n\n\n    let procedureValidator = ProcedureSchema.newContext();\n    procedureValidator.validate(fhirProcedureData)\n\n    console.log('IsValid: ', procedureValidator.isValid())\n    console.log('ValidationErrors: ', procedureValidator.validationErrors());\n\n\n    if (this.state.procedureId) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating Procedure...\");\n      delete fhirProcedureData._id;\n\n      // not sure why we're having to respecify this; fix for a bug elsewhere\n      fhirProcedureData.resourceType = 'Procedure';\n\n      Procedures._collection.update(\n        {_id: this.state.procedureId}, {$set: fhirProcedureData }, function(error, result) {\n          if (error) {\n            console.log(\"error\", error);\n\n            Bert.alert(error.reason, 'danger');\n          }\n          if (result) {\n            HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Procedures\", recordId: self.state.procedureId });\n            Session.set('procedurePageTabIndex', 1);\n            Session.set('selectedProcedureId', false);\n            Session.set('procedureUpsert', false);\n            Bert.alert('Procedure updated!', 'success');\n          }\n        });\n    } else {\n\n      if(process.env.NODE_ENV === \"test\") console.log(\"create a new procedure\", fhirProcedureData);\n\n      Procedures._collection.insert(fhirProcedureData, function(error, result) {\n        if (error) {\n          console.log(\"error\", error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Procedures\", recordId: self.state.procedureId });\n          Session.set('procedurePageTabIndex', 1);\n          Session.set('selectedProcedureId', false);\n          Session.set('procedureUpsert', false);\n          Bert.alert('Procedure added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('procedurePageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    let self = this;\n    Procedures._collection.remove({_id: this.state.procedureId}, function(error, result){\n      if (error) {\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Procedures\", recordId: self.state.procedureId});\n        Session.set('procedurePageTabIndex', 1);\n        Session.set('selectedProcedureId', false);\n        Bert.alert('Procedure removed!', 'success');\n      }\n    });\n  }\n}\n\n\nProcedureDetail.propTypes = {\n  id: PropTypes.string,\n  fhirVersion: PropTypes.string,\n  procedureId: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  procedure: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  showPatientInputs: PropTypes.bool,\n  showHints: PropTypes.bool,\n  onInsert: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func\n};\nReactMixin(ProcedureDetail.prototype, ReactMeteorData);\nexport default ProcedureDetail;","import { CardText, CardTitle } from 'material-ui/Card';\nimport {Tab, Tabs} from 'material-ui/Tabs';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport ProcedureDetail from './ProcedureDetail';\nimport ProceduresTable from './ProceduresTable';\n\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nSession.setDefault('selectedProcedureId', false);\nSession.setDefault('fhirVersion', 'v1.0.2');\n\nexport class ProceduresPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('procedurePageTabIndex'),\n      procedureSearchFilter: Session.get('procedureSearchFilter'),\n      selectedProcedureId: Session.get('selectedProcedureId'),\n      fhirVersion: Session.get('fhirVersion'),\n      selectedProcedure: false\n    };\n\n    if (Session.get('selectedProcedureId')){\n      data.selectedProcedure = Procedures.findOne({_id: Session.get('selectedProcedureId')});\n    } else {\n      data.selectedProcedure = false;\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('procedurePageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedProcedureId', false);\n    Session.set('procedureUpsert', false);\n  }\n\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('In ProceduresPage render');\n    return (\n      <div id='proceduresPage'>\n        <VerticalCanvas>\n          <GlassCard height='auto'>\n            <CardTitle title='Procedures' />\n            <CardText>\n              <Tabs id=\"proceduresPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n               <Tab className='newProcedureTab' label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0}>\n                 <ProcedureDetail \n                  id='newProcedure' \n                  fhirVersion={ this.data.fhirVersion }\n                  procedure={ this.data.selectedProcedure }\n                  procedureId={ this.data.selectedProcedureId } \n                />\n               </Tab>\n               <Tab className=\"procedureListTab\" label='Procedures' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                <ProceduresTable \n                  noDataMessagePadding={100}\n                  displayDates={true} />\n               </Tab>\n               <Tab className=\"procedureDetailsTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                 <ProcedureDetail \n                  id='procedureDetails'\n                  showDatePicker={true} \n                  fhirVersion={ this.data.fhirVersion }\n                  procedure={ this.data.selectedProcedure }\n                  procedureId={ this.data.selectedProcedureId } />  \n               </Tab>\n             </Tabs>\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\nReactMixin(ProceduresPage.prototype, ReactMeteorData);\n\nexport default ProceduresPage;","import { Card, CardActions, CardMedia, CardText, CardTitle, Toggle } from 'material-ui';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\nimport { get } from 'lodash';\nimport { moment } from 'meteor/momentjs:moment';\nimport PropTypes from 'prop-types';\n\nimport { FaTags, FaCode, FaPuzzlePiece, FaLock  } from 'react-icons/fa';\nimport { GoTrashcan } from 'react-icons/go'\n\nexport class ProceduresTable extends React.Component {\n\n  getMeteorData() {\n\n    // this should all be handled by props\n    // or a mixin!\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity')\n      },\n      selected: [],\n      procedures: [],\n      displayToggle: false,\n      displayDates: false\n    }\n\n    if(this.props.displayToggles){\n      data.displayToggle = this.props.displayToggles;\n    }\n    if(this.props.displayDates){\n      data.displayDates = this.props.displayDates;\n    }\n    if(this.props.data){\n      data.procedures = this.props.data;\n    } else {\n      if(Procedures.find().count() > 0){\n        data.procedures = Procedures.find().fetch();\n      }  \n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ProceduresTable[data]\", data);\n    return data;\n  };\n  displayOnMobile(width){\n    let style = {};\n    if(['iPhone'].includes(window.navigator.platform)){\n      style.display = \"none\";\n    }\n    if(width){\n      style.width = width;\n    }\n    return style;\n  }\n  renderToggleHeader(){\n    if (!this.props.hideToggle) {\n      return (\n        <th className=\"toggle\" style={{width: '60px'}} >Toggle</th>\n      );\n    }\n  }\n  renderToggle(patientId ){\n    if (!this.props.hideToggle) {\n      return (\n        <td className=\"toggle\">\n            <Toggle\n              defaultToggled={true}\n              //style={styles.toggle}\n            />\n          </td>\n      );\n    }\n  }\n  renderDateHeader(displayDates){\n    if (displayDates) {\n      return (\n        <th className='performedDate'>Date</th>\n        // <th className='performedTime'>Time</th>\n      );\n    }\n  }\n  renderDate(performedDate, performedTime ){\n    if (!this.props.hideDates) {\n      return (\n        // <td className='date'>{ moment(performedDate).format('YYYY-MM-DD') }</td>\n        // <td className='time'>{ moment(newDate).format('YYYY-MM-DD') }</td>\n        <td className='date'>{ performedDate }</td>\n        // <td className='time'>{ performedTime }</td>\n      );\n    }\n  }\n  renderIdentifierHeader(){\n    if (!this.props.hideIdentifier) {\n      return (\n        <th className='identifier'>Identifier</th>\n      );\n    }\n  }\n  renderIdentifier(identifier ){\n    if (!this.props.hideIdentifier) {\n      return (\n        <td className='identifier'>{ identifier }</td>\n      );\n    }\n  } \n  renderActionIconsHeader(){\n    if (!this.props.hideActionIcons) {\n      return (\n        <th className='actionIcons'>Actions</th>\n      );\n    }\n  }\n  removeRecord(_id){\n    console.log('Remove procedure ', _id)\n    Procedures._collection.remove({_id: _id})\n  }\n  showSecurityDialog(procedure){\n    console.log('showSecurityDialog', procedure)\n\n    Session.set('securityDialogResourceJson', Procedures.findOne(get(procedure, '_id')));\n    Session.set('securityDialogResourceType', 'Procedure');\n    Session.set('securityDialogResourceId', get(procedure, '_id'));\n    Session.set('securityDialogOpen', true);\n  }\n  renderActionIcons( procedure ){\n    if (!this.props.hideActionIcons) {\n\n      let iconStyle = {\n        marginLeft: '4px', \n        marginRight: '4px', \n        marginTop: '4px', \n        fontSize: '120%'\n      }\n\n      return (\n        <td className='actionIcons' style={{minWidth: '120px'}}>\n          <FaTags style={iconStyle} onClick={this.showSecurityDialog.bind(this, procedure)} />\n          <GoTrashcan style={iconStyle} onClick={this.removeRecord.bind(this, procedure._id)} />  \n        </td>\n      );\n    }\n  } \n  renderCategoryHeader(){\n    if (!this.props.hideCategory) {\n      return (\n        <th className=\"categoryDisplay\">Category</th>\n      );\n    }\n  }\n  renderCategory(category ){\n    if (!this.props.hideCategory) {\n      return (\n        <td className='categoryDisplay'>{ category }</td>       );\n    }\n  }\n  renderIdentifierHeader(){\n    if (!this.props.hideIdentifier) {\n      return (\n        <th className='identifier'>Identifier</th>\n      );\n    }\n  }\n  renderIdentifier(identifier ){\n    if (!this.props.hideIdentifier) {\n      return (\n        <td className='identifier'>{ identifier }</td>\n      );\n    }\n  } \n  renderCategoryHeader(){\n    if (!this.props.hideCategory) {\n      return (\n        <th className=\"categoryDisplay\">Category</th>\n      );\n    }\n  }\n  renderCategory(category ){\n    if (!this.props.hideCategory) {\n      return (\n        <td className='categoryDisplay'>{ category }</td>       );\n    }\n  }\n  renderPerformerHeader(){\n    if (!this.props.hideCategory) {\n      return (\n        <th className=\"performerDisplay\">Performer</th>\n      );\n    }\n  }\n  renderPerformer(bodysite ){\n    if (!this.props.hideCategory) {\n      return (\n        <td className='performerDisplay'>{ bodysite }</td>       );\n    }\n  }\n  renderBodySiteHeader(){\n    if (!this.props.hideCategory) {\n      return (\n        <th className=\"bodySiteDisplay\">Body Site</th>\n      );\n    }\n  }\n  renderBodySite(bodySite ){\n    if (!this.props.hideCategory) {\n      return (\n        <td className='bodySiteDisplay'>{ bodySite }</td>       );\n    }\n  }\n  renderSubjectHeader(){\n    if (!this.props.hideSubject) {\n      return (\n        <th className='subjectDisplay'>patient</th>\n      );\n    }\n  }\n  renderSubject(subject ){\n    if (!this.props.hideSubject) {\n      return (\n        <td className='subjectDisplay' style={{minWidth: '140px'}}>{ subject }</td>\n      );\n    }\n  }\n  rowClick(id){\n    Session.set('proceduresUpsert', false);\n    Session.set('selectedProcedureId', id);\n    Session.set('procedurePageTabIndex', 2);\n  };\n  render () {\n    let tableRows = [];\n    for (var i = 0; i < this.data.procedures.length; i++) {\n      var newRow = {\n        identifier: '',\n        status: '',\n        code: ''        \n      };\n      newRow.identifier = get(this.data.procedures[i], 'identifier[0].value');\n      newRow.categoryDisplay = get(this.data.procedures[i], 'category.coding[0].display')    \n      newRow.procedureCode = get(this.data.procedures[i], 'code.coding[0].code');\n      newRow.procedureCodeDisplay = get(this.data.procedures[i], 'code.coding[0].display');\n      newRow.performedDate = get(this.data.procedures[i], 'performedDate');\n      newRow.performedTime = get(this.data.procedures[i], 'performedTime');\n      newRow.subjectDisplay = get(this.data.procedures[i], 'subject.display');\n      newRow.subjectReference = get(this.data.procedures[i], 'subject.reference');\n      newRow.performerDisplay = get(this.data.procedures[i], 'performer.display');\n      newRow.performerReference = get(this.data.procedures[i], 'performer.reference');\n      newRow.bodySiteDisplay = get(this.data.procedures[i], 'bodySite.display');\n\n      let notes = get(this.data.procedures[i], 'notes')\n      if(notes && notes.length){\n        newRow.notesCount = notes.length;\n      } else {\n        newRow.notesCount = 0;\n      }\n\n      console.log('newRow', newRow)\n\n      \n      tableRows.push(\n        <tr key={i} className=\"procedureRow\" style={{cursor: \"pointer\"}} onClick={ this.rowClick.bind('this', this.data.procedures[i]._id)} >\n          { this.renderToggle() }\n          { this.renderActionIcons(this.data.procedures[i]) }\n          { this.renderIdentifier(newRow.identifier ) }\n          { this.renderCategory(newRow.categoryDisplay) }\n          {/* <td className='categoryDisplay'>{ newRow.categoryDisplay }</td> */}\n          <td className='procedureCodeDisplay'>{ newRow.procedureCodeDisplay }</td>\n          <td className='procedureCode'>{ newRow.procedureCode }</td>\n          {/* <td className='subjectDisplay' style={this.displayOnMobile()} >{ newRow.subjectDisplay }</td> */}\n          {/* <td className='performerDisplay' style={this.displayOnMobile()} >{ newRow.performerDisplay }</td>\n          <td className='bodySiteDisplay' style={this.displayOnMobile()} >{ newRow.bodySiteDisplay }</td> */}\n          { this.renderSubject( newRow.subjectDisplay ) } \n          { this.renderPerformer(newRow.performerDisplay) }\n          { this.renderBodySite(newRow.bodySiteDisplay) }\n          { this.renderDate(this.data.displayDates, newRow.performedDate, newRow.performedTime) }\n          <td className='notesCount'>{ newRow.notesCount }</td>\n        </tr>\n      )\n    }\n\n    return(\n      <Table id='proceduresTable' hover >\n        <thead>\n          <tr>\n            { this.renderToggleHeader() }\n            { this.renderActionIconsHeader() }\n            { this.renderIdentifierHeader() }\n            { this.renderCategoryHeader() }\n            {/* <th className='categoryDisplay'>Category</th> */}\n            <th className='procedureCodeDisplay'>Procedure</th>\n            <th className='procedureCode'>Code</th>\n            {/* <th className='subjectDisplay' style={this.displayOnMobile()} >Subject</th> */}\n            {/* <th className='performerDisplay' style={this.displayOnMobile()} >Performer</th>\n            <th className='bodySiteDisplay' style={this.displayOnMobile()} >Body Site</th> */}\n\n            { this.renderSubjectHeader() }\n            { this.renderPerformerHeader() }\n            { this.renderBodySiteHeader() }\n            { this.renderDateHeader(this.data.displayDates) }\n            <th className='notesCount'>Notes</th>\n          </tr>\n        </thead>\n        <tbody>\n          { tableRows }\n        </tbody>\n      </Table>\n    );\n  }\n}\n\n\nProceduresTable.propTypes = {\n  data: PropTypes.array,\n  query: PropTypes.object,\n  paginationLimit: PropTypes.number,\n  hideIdentifier: PropTypes.bool,\n  hideToggle: PropTypes.bool,\n  hideActionIcons: PropTypes.bool,\n  hideSubject: PropTypes.bool,\n  hidePerformer: PropTypes.bool,\n  hideBodySite: PropTypes.bool,\n  enteredInError: PropTypes.bool\n};\nReactMixin(ProceduresTable.prototype, ReactMeteorData);\nexport default ProceduresTable;"]}