{"version":3,"sources":["meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/lib/MedicalRecordImporter.js","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/lib/collections.js","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/index.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/BiometricsDashboardPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/CarePlanDesignerPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/CollectionManagement.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ContinuityOfCarePage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ConversationalSignin.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/DataImportPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ExportComponent.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ExportPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/FiltersPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/FormDesignerPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/HealthCardPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ImportComponent.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ImportPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/ObservationsGraphPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/SupportPage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/Timeline.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/TimelinePage.jsx","meteor://ðŸ’»app/packages/symptomatic:continuity-of-care/client/TimelineSidescrollPage.jsx"],"names":["get","module","link","v","Mongo","Meteor","callback","msg","setTimeout","console","log","JSON","stringify","MedicalRecordImporter","healthRecord","window","plugins","healthkit","available","requestAuthorization","readTypes","writeTypes","queryForClinicalRecordsWithFHIRResourceType","fhirResourceType","sampleType","results","forEach","record","AllergyIntolerances","_collection","insert","Conditions","Immunizations","Observations","MedicationOrders","Procedures","importRecordEvent","Date","userId","user","fullName","absoluteUrl","HipaaLogger","logAuditEvent","validate","error","result","invalidKeys","coreBiomarkers","readDateOfBirth","data","Session","set","readGender","readBloodType","readFitzpatrickSkinType","readWheelchairUse","pluralizeResourceName","resourceType","pluralized","importBundle","dataContent","self","entry","length","newRecord","resource","id","_id","newId","Random","process","env","NODE_ENV","Collection","subscriptionActivated","Object","keys","default_connection","_subscriptions","key","name","findOne","filter","exportDefault","Practitioners","isClient","subscribe","isServer","startup","publish","argument","currentUser","users","roles","includes","find","AuditEvents","export","DynamicRoutes","AdminDynamicRoutes","AdminSidebarElements","ContinuityOfCarePage","HealthCardPage","TimelinePage","TimelineSidescrollPage","DataImportPage","CarePlanDesignerPage","FormDesignerPage","FiltersPage","ExportPage","ImportPage","ObservationsGraphPage","BiometricsDashboardPage","ConversationalSignin","SupportPage","CardMedia","CardText","CardTitle","CardHeader","GlassCard","VerticalCanvas","FullPageCanvas","Glass","DynamicSpacer","Col","Grid","Row","React","ReactMeteorData","ReactMixin","browserHistory","has","uniq","uniqBy","moment","ObservationsTable","Line","render","Select","MenuItem","faker","setDefault","props","getMeteorData","imgHeight","chart","width","height","style","title","darkroom","subtitle","tableCol","display","marginBottom","uniqueCodes","currentObservationType","cohort","findName","patientReference","biomarkerSwimlanes","navHeight","n","indexCard","observations","map","page","top","transform","position","count","recentPulse","sort","issued","fetch","navigator","platform","selectObservationType","event","value","children","menuItems","code","integer","push","fontSize","currentSelectIndex","indexOf","biometricSwimlanes","patient","index","$and","observation","x","format","y","openLink","url","Component","prototype","CardActions","Tab","Tabs","FlatButton","sortBy","ConditionsTable","GoalsTable","MedicationsTable","tab","borderBottom","borderRight","tabIndex","ccd","timelineEntries","blur","appbar","handleTabChange","CollectionManagement","Toggle","DropzoneComponent","Table","FaHubspot","componentConfig","allowedFiletypes","iconFiletypes","showFiletypeIcon","postUrl","djsConfig","autoProcessQueue","addRemoveLinks","eventHandlers","init","drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecomplete","importToggles","importsAll","allergies","appointments","bundles","careplans","claims","conditions","consents","contracts","communications","clinicalImpressions","devices","diagnosticReports","endpoints","familyMemberHistories","goals","immunizations","imagingStudies","lists","locations","medications","medicationOrders","medicationStatements","messageHeaders","questionnaires","questionnaireResponses","patients","persons","practitioners","procedures","procedureRequests","relatedPersons","riskAssessments","organizations","schedules","serviceRequests","sequences","zero","exportToggles","exportsAll","call","isAdmin","collections","toggled","toggledExports","local","datalake","pubsub","Appointments","Bundles","CarePlans","Claims","Consents","Contracts","Communications","ClinicalImpressions","Devices","DiagnosticReports","Endpoints","FamilyMemberHistories","familyMemberHistory","Goals","ImagingStudies","Lists","Locations","Medications","MedicationStatements","Organizations","ProcedureRequests","Patients","Questionnaires","QuestionnaireResponses","RiskAssessments","Persons","RelatedPersons","Schedules","ServiceRequests","Sequences","datalakeStats","counts","role","isPractitioner","isPatient","setToggleState","collection","isInputChecked","toggleStates","setToggleExportState","toggleExportStates","toggleAllImports","toggleAllergies","toggleAppointments","toggleBundles","toggleCarePlans","toggleClaims","toggleConditions","toggleConsents","toggleContracts","toggleCommunications","toggleClinicalImpressions","toggleDevices","toggleDiagnosticReports","toggleEndpoints","toggleFamilyMemberHistories","toggleGoals","toggleImmunizations","toggleImmagingStudies","toggleLists","toggleLocations","toggleMedications","toggleMedicationOrders","toggleMedicationStatements","toggleMessageHeaders","toggleObservations","toggleOrganizations","togglePatients","togglePersons","togglePractitioners","toggleProcedures","toggleProcedureRequests","toggleQuestionnaires","toggleQuestionnaireResponses","toggleRelatedPersons","toggleRiskAssessments","toggleSchedules","toggleServiceRequests","toggleSequences","toggleAllExports","toggleAllergiesExport","toggleAppointmentsExport","toggleBundlesExport","toggleCarePlansExport","toggleClaimsExport","toggleConditionsExport","toggleConsentsExport","toggleContractsExport","toggleCommunicationsExport","toggleClinicalImpressionsExport","toggleDevicesExport","toggleDiagnosticReportsExport","toggleEndpointsExport","toggleFamilyMemberHistoriesExport","toggleGoalsExport","toggleImmunizationsExport","toggleImmagingStudiesExport","toggleListsExport","toggleLocationsExport","toggleMedicationsExport","toggleMedicationOrdersExport","toggleMedicationStatementsExport","toggleMessageHeadersExport","toggleObservationsExport","toggleOrganizationsExport","togglePatientsExport","togglePersonsExport","togglePractitionersExport","toggleProceduresExport","toggleProcedureRequestsExport","toggleQuestionnairesExport","toggleQuestionnaireResponsesExport","toggleRelatedPersonsExport","toggleRiskAssessmentsExport","toggleSchedulesExport","toggleServiceRequestsExport","toggleSequencesExport","handleToggle","singularizeResourceName","resourceTypeString","singularized","substring","exportCollection","collectionName","collectionBundle","recordId","_document","fullUrl","dataString","encodeURIComponent","downloadAnchorElement","document","getElementById","setAttribute","click","drawPubSubIcon","subSubExists","bind","cursor","color","callMethod","dropCollection","initializeCollection","confirm","signature","Card","RaisedButton","TableBody","TableHeader","TableHeaderColumn","TableRow","TableRowColumn","AllergyIntolerancesTable","ImmunizationsTable","CarePlansTable","MedicationStatementsTable","MedicationOrdersTable","DiagnosticReportsTable","PatientsTable","ProceduresTable","Avatar","allergyIntolerances","minimongo","query","hidePatientName","hideToggles","hideActionIcons","carePlans","verificationStatus","$nin","filters","remove","$nor","term","mustHave","$or","openFastImport","openSignup","deduplicate","importHealthRecord","allergiesCard","carePlansCard","conditionsCard","diagnosticReportsCard","immunizationsCard","medicationsCard","medicationOrdersCard","medicationStatementsCard","observationsCard","proceduresCard","patientsCard","chartIsEmpty","importWidget","importStyle","textAlign","isCordova","fontWeight","TextField","lightBaseTheme","darkBaseTheme","Package","OAuth","conversationalExchanges","question","context","hint","action","textColor","palette","inputStyle","bottom","errorStyle","accent1Color","hintStyle","secondaryTextColor","underlineStyle","borderColor","floatingLabelStyle","floatingLabelFocusStyle","pageBackground","services","conversationalIndex","conversationalInputText","$regex","$options","ServiceConfiguration","configurations","getContextImage","handleSubmit","preventDefault","forgotPasswordRoute","registerRoute","handleTouchTap","foo","refs","conversationalInput","input","loginWithPassword","Bert","alert","reason","state","nextPathname","location","Roles","userIsInRole","newUserData","email","password","profile","given","split","family","text","accessCode","Accounts","createUser","handleKeyPress","handleOnChange","newValue","handleSearch","serviceName","glassColor","cardStyle","border","boxShadow","conversationalQuestion","conversationalContext","conversationalHint","conversationalId","conversationalAction","conversationalInputType","toString","SelectField","blue500","orange500","blue600","gray600","green600","orange600","red600","yellow600","ActionAlarm","ActionAndroid","ActionFavorite","ActionFavoriteBorder","Dialog","parseString","ImportComponent","ExportComponent","handleChange","setState","handleImportChange","importValue","handleExportChange","exportValue","encryptExport","opacity","dialog","open","upstreamSync","fileExtension","dataManagement","syncSourceItem","import","changeInput","variable","clearLocalCache","resourceTypes","clearExportBuffer","downloadContinuityOfCareDoc","continuityOfCareDoc","jsonFile","CryptoJS","AES","encrypt","exportBuffer","focus","select","execCommand","blob","Blob","type","URL","createObjectURL","filename","patientName","displayName","visibility","body","appendChild","removeChild","exportContinuityOfCareDoc","fhirEntries","newComposition","allergy","section","reference","careplan","condition","consent","contract","communication","device","goal","immunization","imagingStudy","medication","medicationOrder","medicationStatement","organization","person","practitioner","procedure","riskAssessment","sequence","serviceRequest","fhirResource","handleChangeSyncSource","handleTextareaUpdate","toggleEncryptExport","downloadLabel","inputCardLayout","processingCardLayout","outputCardLayout","innerHeight","innerWidth","autoheight","overflow","Typography","PropTypes","AccountCircle","onDeviceReady","writeToFile","errorHandler","fileName","e","FileError","QUOTA_EXCEEDED_ERR","NOT_FOUND_ERR","SECURITY_ERR","INVALID_MODIFICATION_ERR","INVALID_STATE_ERR","cordova","file","syncedDataDirectory","WebAppLocalServer","localFileSystemUrl","resolveLocalFileSystemURL","directoryEntry","getFile","create","fileEntry","nativeURL","createWriter","fileWriter","onwriteend","onerror","write","addEventListener","TabContainer","propTypes","node","isRequired","exportFileType","relayAlgorithm","downloadDisabled","downloadAnchor","margin","relayTab","subject","author","claim","ClinicalImpressionss","clinicalImpression","diagnosticReport","questionnaire","questionnaireResponse","exportCcd","exportGeojson","newFeatureCollection","newFeature","features","exportFile","changeFileName","sendToBundleService","validation","handleChangeExportFileType","handleChangeRelayAlgorithm","fileNameInput","relayControl","handleOpenPatients","minHeight","backgroundColor","borderRadius","lineHeight","Chip","chipStyles","theme","root","justifyContent","flexWrap","chip","spacing","unit","removeFilterInput","mustHaveInput","toggles","uteroToggled","pubertyToggled","menopauseToggled","hospiceToggled","riskAssessmentToggled","substanceAbuseToggled","mentalHealthToggled","sexualHealthToggled","hideEnteredInError","handleDelete","saveRemoveFilter","update","$addToSet","saveMustUseFilter","handleAddRemoveFilter","proxy","handleAddMustUseFilter","handleDeleteRemove","newTags","currentTags","tag","$set","handleDeleteMustHave","toggleFilterInProfile","$pull","toggleUtero","toggle","togglePuberty","toggleMenopause","toggleHospice","toggleRiskAssessment","toggleSubstanceAbuse","substanceAbuseValue","toggleMentalHealth","mentalHealthValue","toggleSexualHealth","sexualHealthValue","toggleEnteredInError","togglePatientNameColumn","toggleSessionVar","sessionVar","removeChips","marginRight","mustHaveChips","allergiesToggled","carePlansToggled","conditionsToggled","immunizationsToggled","medicationOrdersToggled","medicationStatementsToggled","observationsToggled","patientsToggled","proceduresToggled","right","marginTop","zIndex","PatientCard","PersonsDirectory","PersonTable","familiy","avatar","zip","longitude","latitude","profileImage","birthdate","gender","patientsTableCard","personsCard","relatedPersonsCard","marginLeft","XLSX","algorithmCount","dictDefaultMessage","extension","pop","toLowerCase","reader","FileReader","rABS","readAsBinaryString","onload","err","dir","decryptedData","decrypt","utf8Data","enc","Utf8","decodedData","decodeURI","parse","target","Uint8Array","wb","ws","Sheets","SheetNames","a1","readAsText","readAsArrayBuffer","mappingAlgorithm","parseFacebookProfile","address_book","nameText","nameArray","facebookAddres","$unset","city","country_code","region","zipCode","street","gender_option","birthDate","emails","emailAddress","family_members","familyMember","relation","relationship","parseChicagoGrocersFile","newLocation","description","address","line","postalCode","identifier","system","parseExcelWorkbook","worksheet","orgs","cell","rowIndex","replace","row","newOrganization","active","telecom","contact","endpoint","orgAddress","use","country","cmioContact","website","endpointId","zipcode","cmio","cmio_linkedin","orgId","endpointString","newOrg","managingOrganization","packageCardinalityIndex","cardinality","packageName","ImportAlgorithm","importAlgorithm","run","importFile","clearImportBuffer","handleChangeMappingAlgorithm","classes","importBtnStyle","dynamicAlgorithmItems","incrementer","image","bmi","weight","hoverColor","elementId","normalColor","linkStyle","textDecoration","Timeline","vis","difference","intersection","each","assign","omit","noop","events","eventPropTypes","eventDefaultProps","func","componentWillMount","customTimes","componentWillUnmount","$el","destroy","handleRotate","setOptions","redraw","componentDidMount","container","undefined","options","on","componentDidUpdate","shouldComponentUpdate","nextProps","items","groups","selection","itemsChange","groupsChange","optionsChange","customTimesChange","selectionChange","selectionOptions","animate","currentTime","timelineOptions","setWindow","start","end","animation","groupsDataset","DataSet","add","setGroups","setItems","setSelection","setCurrentTime","customTimeKeysPrev","customTimeKeysNew","customTimeKeysToAdd","customTimeKeysToRemove","customTimeKeysToUpdate","removeCustomTime","datetime","addCustomTime","setCustomTime","array","object","shape","instanceOf","string","oneOfType","bool","number","defaultProps","TimelineEvent","i","date","icon","s","padding","containerBefore","left","borderLeft","containerAfter","content","clear","ObservationDetail","CarePlanDetail","ConditionDetail","ImmunizationDetail","MedicationOrderDetail","ProcedureDetail","dataSet","timeLineEvents","timeline","openDialog","preventRedraw","currentPatient","timelineDialogOpen","autoResize","dataAttributes","stack","showMajorLabels","showCurrentTime","zoomMin","min","max","groupOrder","activeTimelineResource","activeTimelineResourceType","activeTimelineResourceDescription","subtract","genderColor","continuityOfCare","inUtero","mongoId","puberty","menarche","adjustedRisk","pointStyle","rangeStyle","newAllergy","group","carePlan","newCarePlan","addresses","conditionReference","newCondition","newImmunization","newMedicationOrder","newMedicationStatement","newObservation","className","newProcedure","names","g","handleCloseDialog","activeTimelineItem","activeTimelineRecord","stopPropagation","catchActions","dialogContent","dialogTitle","paddingTop","paddingBottom"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,CAArC;AAAwC,IAAIC,KAAJ;AAAUH,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACE,OAAD,YAAOD,CAAP,EAAS;AAACC,SAAK,GAACD,CAAN;AAAQ;AAAlB,CAA3B,EAA+C,CAA/C;AAAkD,IAAIE,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,CAAlD;;AAOvH,IAAIG,QAAQ,GAAG,UAAUC,GAAV,EAAe;AAC5B;AACAC,YAAU,CAAC,YAAY;AACrB;AACAC,WAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAAZ;AACD,GAHS,EAGP,CAHO,CAAV;AAID,CAND;;AAQAM,qBAAqB,GAAG;AACtBC,cAAY,EAAE,YAAU;AACtBL,WAAO,CAACC,GAAR,CAAY,uDAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDC,IAAI,CAACC,SAAL,CAAeG,MAAM,CAACC,OAAtB,CAApD;AAEED,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBC,SAAzB,CACIZ,QADJ,EAEIA,QAFJ,EAJoB,CASpB;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAS,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBE,oBAAzB,CACI;AACEC,eAAS,EAAE,CACT,uCADS,EAET,yCAFS,EAGT,4CAHS,EAIT,yCAJS,EAKT,0CALS,EAOT,yCAPS,EAQT,yCARS,CADb;AAWEC,gBAAU,EAAE;AAXd,KADJ,EAcI,UAASd,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCH,GAAvC;AAA4C,KAd9D,EAeI,UAASA,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCH,GAAxC;AAA6C,KAf/D,EA1BoB,CA4CpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAE,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,sCAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACEC,sBAAgB,EAAE,sCADpB;AAEEC,gBAAU,EAAE;AAFd,KADF,EAKE,UAASC,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDC,IAAI,CAACC,SAAL,CAAea,OAAf,CAAvD;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,oBAArD,EAA0E;AACxEC,6BAAmB,CAACC,WAApB,CAAgCC,MAAhC,CAAuC9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAA1C;AACD;AACF,OAJD;AAKD,KAZH,EAaA,UAASpB,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDH,GAAxD;AAA6D,KAb3E;AAgBAE,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,6BAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACEC,sBAAgB,EAAE,6BADpB;AAEEC,gBAAU,EAAE;AAFd,KADF,EAKE,UAASC,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CC,IAAI,CAACC,SAAL,CAAea,OAAf,CAA9C;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,WAArD,EAAiE;AAC/DI,oBAAU,CAACF,WAAX,CAAuBC,MAAvB,CAA8B9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAAjC;AACD;AACF,OAJD;AAKD,KAZH,EAaE,UAASpB,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CH,GAA/C;AAAoD,KAbpE;AAgBAE,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,gCAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACEC,sBAAgB,EAAE,gCADpB;AAEEC,gBAAU,EAAE;AAFd,KADF,EAKE,UAASC,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDC,IAAI,CAACC,SAAL,CAAea,OAAf,CAAjD;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,cAArD,EAAoE;AAClEK,uBAAa,CAACH,WAAd,CAA0BC,MAA1B,CAAiC9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAApC;AACD;AACF,OAJD;AAKD,KAZH,EAaE,UAASpB,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDH,GAAlD;AAAuD,KAbvE;AAiBAE,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,+BAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACE,0BAAoB,+BADtB;AAEE,oBAAc,yCAFhB,CAGE;AACA;;AAJF,KADF,EAOE,UAASG,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0DC,IAAI,CAACC,SAAL,CAAea,OAAf,CAA1D;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,aAArD,EAAmE;AACjEM,sBAAY,CAACJ,WAAb,CAAyBC,MAAzB,CAAgC9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAAnC;AACD;AACF,OAJD;AAKD,KAdH,EAeE,YAAU;AAAClB,aAAO,CAACC,GAAR,CAAY,mCAAZ;AAAiD,KAf9D;AAkBAD,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,mCAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACE,0BAAoB,mCADtB;AAEE,oBAAc;AAFhB,KADF,EAKE,UAASG,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDC,IAAI,CAACC,SAAL,CAAea,OAAf,CAApD;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,iBAArD,EAAuE;AACrEO,0BAAgB,CAACL,WAAjB,CAA6BC,MAA7B,CAAoC9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAAvC;AACD;AACF,OAJD;AAKD,KAZH,EAaE,YAAU;AAAClB,aAAO,CAACC,GAAR,CAAY,uCAAZ;AAAqD,KAblE;AAgBAD,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,uCAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACE,0BAAoB,uCADtB;AAEE,oBAAc;AAFhB,KADF,EAKE,UAASG,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDC,IAAI,CAACC,SAAL,CAAea,OAAf,CAAxD;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,qBAArD,EAA2E;AACzEO,0BAAgB,CAACL,WAAjB,CAA6BC,MAA7B,CAAoC9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAAvC;AACD;AACF,OAJD;AAKD,KAZH,EAaE,YAAU;AAAClB,aAAO,CAACC,GAAR,CAAY,2CAAZ;AAAyD,KAbtE;AAgBAD,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,6BAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CACE;AACEC,sBAAgB,EAAE,6BADpB;AAEEC,gBAAU,EAAE;AAFd,KADF,EAKE,UAASC,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CC,IAAI,CAACC,SAAL,CAAea,OAAf,CAA9C;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,WAArD,EAAiE;AAC/DQ,oBAAU,CAACN,WAAX,CAAuBC,MAAvB,CAA8B9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAAjC;AACD;AACF,OAJD;AAKD,KAZH,EAaE,YAAU;AAAClB,aAAO,CAACC,GAAR,CAAY,iCAAZ;AAA+C,KAb5D;AAgBAD,WAAO,CAACC,GAAR,CAAY,6CAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,yCAAZ;AACAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBK,2CAAzB,CAAqE;AACnE,0BAAoB,+BAD+C;AAEnE,oBAAc;AAFqD,KAArE,EAIE,UAASG,OAAT,EAAiB;AACfhB,aAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDC,IAAI,CAACC,SAAL,CAAea,OAAf,CAAhD;AACAA,aAAO,CAACC,OAAR,CAAgB,UAASC,MAAT,EAAgB;AAC9B,YAAG3B,GAAG,CAAC2B,MAAD,EAAS,gCAAT,CAAH,KAAkD,aAArD,EAAmE;AACjEM,sBAAY,CAACJ,WAAb,CAAyBC,MAAzB,CAAgC9B,GAAG,CAAC2B,MAAD,EAAS,mBAAT,CAAnC;AACD;AACF,OAJD;AAKD,KAXH,EAYE,YAAU;AAAClB,aAAO,CAACC,GAAR,CAAY,mCAAZ;AAAiD,KAZ9D,EAnMoB,CAkNpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAI0B,iBAAiB,GAAG;AACtB,sBAAiB,YADK;AAEtB,gBAAW,wBAFW;AAGtB,kBAAa,IAAIC,IAAJ,EAHS;AAItB,iBAAY,SAJU;AAKtB,qBAAgB,kDALM;AAMtB,eAAU,CAAC;AACT,iBAAUhC,MAAM,CAACiC,MAAP,KAAkBjC,MAAM,CAACiC,MAAP,EAAlB,GAAoC,EADrC;AACyC;AAClD,gBAASjC,MAAM,CAACkC,IAAP,KAAgBlC,MAAM,CAACkC,IAAP,GAAcC,QAAd,EAAhB,GAA2C,EAF3C;AAE+C;AACxD,qBAAc;AAHL,OAAD,CANY;AAWtB,gBAAW;AACT,gBAASnC,MAAM,CAACoC,WAAP,EADA;AAET,sBAAc;AACZ,mBAAS;AADG;AAFL,OAXW;AAiBtB,gBAAU,EAjBY,CAoBxB;;AApBwB,KAAxB;AAqBAC,eAAW,CAACC,aAAZ,CAA0BP,iBAA1B,EAA6C;AAACQ,cAAQ,EAAE5C,GAAG,CAACK,MAAD,EAAS,2CAAT,EAAsD,KAAtD;AAAd,KAA7C,EAA0H,UAASwC,KAAT,EAAgBC,MAAhB,EAAuB;AAC/I,UAAGD,KAAH,EAAUpC,OAAO,CAACoC,KAAR,CAAc,wCAAd,EAAwDA,KAAK,CAACE,WAA9D;AACV,UAAGD,MAAH,EAAWrC,OAAO,CAACoC,KAAR,CAAcC,MAAd;AACZ,KAHD;AAMH,GA7RqB;AA8RtBE,gBAAc,EAAE,YAAU;AACxBvC,WAAO,CAACC,GAAR,CAAY,uDAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDK,MAAM,CAACC,OAA7D;AAEED,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBC,SAAzB,CACIZ,QADJ,EAEIA,QAFJ,EAJsB,CAQtB;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAS,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBE,oBAAzB,CACI;AACEC,eAAS,EAAE,CACT,uCADS,EAET,yCAFS,EAGT,4CAHS,EAIT,yCAJS,EAKT,0CALS,EAOT,yCAPS,EAQT,yCARS,EAUT,2CAVS,EAWT,6CAXS,EAYT,yCAZS,EAaT,mDAbS,EAcT,6CAdS,CADb;AAiBEC,gBAAU,EAAE;AAjBd,KADJ,EAoBI,UAASd,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCH,GAAvC;AAA4C,KApB9D,EAqBI,UAASA,GAAT,EAAa;AAACE,aAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCH,GAAxC;AAA6C,KArB/D,EAxBsB,CAgDtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAQ,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBgC,eAAzB,CACE,UAASC,IAAT,EAAc;AACZzC,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCC,IAAI,CAACC,SAAL,CAAesC,IAAf,CAAlC;AACAC,aAAO,CAACC,GAAR,CAAY,2CAAZ,EAAyDF,IAAzD;AACD,KAJH,EAKE,YAAU;AAACzC,aAAO,CAACC,GAAR,CAAY,qBAAZ;AAAmC,KALhD;AAOAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBoC,UAAzB,CACE,UAASH,IAAT,EAAc;AACZzC,aAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BC,IAAI,CAACC,SAAL,CAAesC,IAAf,CAA7B;AACAC,aAAO,CAACC,GAAR,CAAY,6CAAZ,EAA2DF,IAA3D;;AAEA,UAAGA,IAAI,KAAK,MAAZ,EAAmB;AACjBC,eAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,IAA7B;AACAD,eAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,IAAjC;AAEAD,eAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,KAA/B;AACAD,eAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,KAA/B;AACD;;AACD,UAAGF,IAAI,KAAK,QAAZ,EAAqB;AACnBC,eAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,IAA/B;AACAD,eAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,IAA/B;AAEAD,eAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAA7B;AACAD,eAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,KAAjC;AACD;AACF,KAnBH,EAoBE,YAAU;AAAC3C,aAAO,CAACC,GAAR,CAAY,gBAAZ;AAA8B,KApB3C;AAsBAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBqC,aAAzB,CACE,UAASJ,IAAT,EAAc;AACZzC,aAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCC,IAAI,CAACC,SAAL,CAAesC,IAAf,CAAhC;AACAC,aAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDF,IAAvD;AACD,KAJH,EAKE,YAAU;AAACzC,aAAO,CAACC,GAAR,CAAY,mBAAZ;AAAiC,KAL9C;AAOAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBsC,uBAAzB,CACE,UAASL,IAAT,EAAc;AACZzC,aAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CC,IAAI,CAACC,SAAL,CAAesC,IAAf,CAA1C;AACAC,aAAO,CAACC,GAAR,CAAY,mDAAZ,EAAiEF,IAAjE;AACAC,aAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,IAAnC;AACD,KALH,EAME,YAAU;AAACzC,aAAO,CAACC,GAAR,CAAY,6BAAZ;AAA2C,KANxD;AAQAK,UAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBuC,iBAAzB,CACE,UAASN,IAAT,EAAc;AACZzC,aAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCC,IAAI,CAACC,SAAL,CAAesC,IAAf,CAApC;AACAC,aAAO,CAACC,GAAR,CAAY,6CAAZ,EAA2DF,IAA3D;AACD,KAJH,EAKE,YAAU;AAACzC,aAAO,CAACC,GAAR,CAAY,uBAAZ;AAAqC,KALlD,EA3GsB,CAmHtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACH,GAjaqB;AAkatB+C,uBAAqB,EAAE,UAASC,YAAT,EAAsB;AAC3C,QAAIC,UAAU,GAAG,EAAjB;;AACA,YAAQD,YAAR;AACE,WAAK,QAAL;AACEC,kBAAU,GAAG,UAAb;AACA;;AACF,WAAK,SAAL;AACEA,kBAAU,GAAG,WAAb;AACA;;AACF,WAAK,gBAAL;AACEA,kBAAU,GAAG,kBAAb;AACA;;AACF,WAAK,cAAL;AACEA,kBAAU,GAAG,gBAAb;AACA;;AACF,WAAK,qBAAL;AACEA,kBAAU,GAAG,uBAAb;AACA;;AACF,WAAK,eAAL;AACEA,kBAAU,GAAG,iBAAb;AACA;;AACF;AACEA,kBAAU,GAAGD,YAAY,GAAG,GAA5B;AACA;AArBJ;;AAwBA,WAAOC,UAAP;AACD,GA7bqB;AA8btBC,cAAY,EAAE,UAASC,WAAT,EAAqB;AACjC,QAAIC,IAAI,GAAG,IAAX;;AAEA,QAAGD,WAAW,CAACH,YAAZ,KAA6B,QAAhC,EAAyC;AACvCjD,aAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,aAAO,CAACC,GAAR,CAAY,wBAAwBmD,WAAW,CAACE,KAAZ,CAAkBC,MAA1C,GAAmD,2BAA/D,EAFuC,CAIvC;AACA;;AACAH,iBAAW,CAACE,KAAZ,CAAkBrC,OAAlB,CAA0B,UAASqC,KAAT,EAAe;AACvC,YAAG/D,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAAN,EAAuC;AACrCtD,iBAAO,CAACC,GAAR,CAAY,aAAaV,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA5B;AACAtD,iBAAO,CAACC,GAAR,CAAY,aAAaV,GAAG,CAAC+D,KAAD,EAAQ,UAAR,CAA5B;AAEA,cAAIE,SAAS,GAAGF,KAAK,CAACG,QAAtB;AACAzD,iBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBuD,SAAzB;;AAEA,cAAG,CAACA,SAAS,CAACE,EAAd,EAAiB;AACf,gBAAGF,SAAS,CAACG,GAAb,EAAiB;AACfH,uBAAS,CAACE,EAAV,GAAeJ,KAAK,CAACG,QAAN,CAAeE,GAA9B;AACD,aAFD,MAEO;AACL,kBAAIC,KAAK,GAAGC,MAAM,CAACH,EAAP,EAAZ;AACAF,uBAAS,CAACE,EAAV,GAAeE,KAAf;AACAJ,uBAAS,CAACG,GAAV,GAAgBC,KAAhB;AACD;AACF;;AAEDE,iBAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,SAAzB,IAAsChE,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBuD,SAAzB,CAAtC,CAjBqC,CAkBrC;AACA;;AAEA,cAAG7D,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA9B,CAArB,CAAH,EAAyF;AAEvF;AACA,gBAAIY,qBAAqB,GAAG,KAA5B;AACAC,kBAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E,kBAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,kBAAGrD,MAAM,CAACsD,IAAP,KAAgBnB,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA9B,CAAnB,EAAmF;AACjFY,qCAAqB,GAAG,IAAxB;AACD;AACF,aALD;;AAOA,gBAAGA,qBAAH,EAAyB;AACvB;AACA,kBAAG,CAACvE,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA9B,CAArB,EAAsFmB,OAAtF,CAA8FjB,SAAS,CAACG,GAAxG,CAAJ,EAAiH;AAC/GhE,qBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA9B,CAArB,EAAsFjC,MAAtF,CAA6FmC,SAA7F,EAAwG,EAAxG,EAA4G;AAACrB,0BAAQ,EAAE,KAAX;AAAkBuC,wBAAM,EAAE;AAA1B,iBAA5G,EAA8I,UAAStC,KAAT,EAAe;AAC3J,sBAAGA,KAAH,EAAUpC,OAAO,CAACC,GAAR,CAAY,4FAAZ,EAA0GmC,KAA1G;AACX,iBAFD;AAGD;AACF,aAPD,MAOO;AACL;AACA,kBAAG,CAACzC,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA9B,CAArB,EAAsFlC,WAAtF,CAAkGqD,OAAlG,CAA0GjB,SAAS,CAACG,GAApH,CAAJ,EAA6H;AAC3HhE,qBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC+D,KAAD,EAAQ,uBAAR,CAA9B,CAArB,EAAsFlC,WAAtF,CAAkGC,MAAlG,CAAyGmC,SAAzG,EAAoH,EAApH,EAAwH;AAACrB,0BAAQ,EAAE,KAAX;AAAkBuC,wBAAM,EAAE;AAA1B,iBAAxH,EAA0J,UAAStC,KAAT,EAAe;AACvK,sBAAGA,KAAH,EAAUpC,OAAO,CAACC,GAAR,CAAY,wGAAZ,EAAsHmC,KAAtH;AACX,iBAFD;AAGD;AACF;AACF;AACF;AACF,OAlDD,EANuC,CA0DzC;AACC,KA3DD,MA2DO;AACL;AACA,UAAGzC,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAA9B,CAArB,CAAH,EAAsF;AAEpF;AACA,YAAGzD,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAA9B,CAArB,EAAmFhC,WAAnF,CAA+FqD,OAA/F,CAAuGlF,GAAG,CAAC6D,WAAD,EAAc,KAAd,CAA1G,CAAH,EAAmI;AACjIpD,iBAAO,CAACC,GAAR,CAAY,wCAAwCoD,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAA9B,CAAxC,GAAuG,+BAAnH;AACA;AACD;;AACD,YAAGzD,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAA9B,CAArB,EAAmFhC,WAAnF,CAA+FqD,OAA/F,CAAuGlF,GAAG,CAAC6D,WAAD,EAAc,IAAd,CAA1G,CAAH,EAAkI;AAChIpD,iBAAO,CAACC,GAAR,CAAY,wCAAwCoD,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAA9B,CAAxC,GAAuG,8BAAnH;AACA;AACD,SAVmF,CAYpF;;;AACAzD,aAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8D,IAAI,CAACL,qBAAL,CAA2BzD,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAA9B,CAArB,EAAmFhC,WAAnF,CAA+FC,MAA/F,CAAsG+B,WAAtG,EAAmH,UAAShB,KAAT,EAAe;AAChI,cAAGA,KAAH,EAAUpC,OAAO,CAACC,GAAR,CAAY,qGAAZ,EAAmHmC,KAAnH;AACX,SAFD;AAGD;AACF;AACF;AAhhBqB,CAAxB;AAfA5C,MAAM,CAACmF,aAAP,CAmiBevE,qBAniBf,E;;;;;;;;;;;ACAA,IAAIR,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,CAAlD;AAAqD,IAAIC,KAAJ;AAAUH,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACE,OAAD,YAAOD,CAAP,EAAS;AAACC,SAAK,GAACD,CAAN;AAAQ;AAAlB,CAA3B,EAA+C,CAA/C;AAAkD,IAAIkF,aAAJ;AAAkBpF,MAAM,CAACC,IAAP,CAAY,2CAAZ,EAAwD;AAACmF,eAAD,YAAelF,CAAf,EAAiB;AAACkF,iBAAa,GAAClF,CAAd;AAAgB;AAAlC,CAAxD,EAA4F,CAA5F;;AAM9I;AACA,IAAIE,MAAM,CAACiF,QAAX,EAAoB;AAClB7E,SAAO,CAACC,GAAR,CAAY,8CAAZ;AACAL,QAAM,CAACkF,SAAP,CAAiB,eAAjB;AAEA9E,SAAO,CAACC,GAAR,CAAY,yCAAZ;AACAL,QAAM,CAACkF,SAAP,CAAiB,mBAAjB;AACAlF,QAAM,CAACkF,SAAP,CAAiB,eAAjB,EANkB,CAQlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,C,CAED;;;AACA,IAAIlF,MAAM,CAACmF,QAAX,EAAoB;AAClBnF,QAAM,CAACoF,OAAP,CAAe,YAAU;AACrBhF,WAAO,CAACC,GAAR,CAAY,wCAAZ;AAEAL,UAAM,CAACqF,OAAP,CAAe,eAAf,EAAgC,UAAUC,QAAV,EAAmB;AACjD,UAAI,KAAKrD,MAAT,EAAiB;AACb,YAAIsD,WAAW,GAAGvF,MAAM,CAACwF,KAAP,CAAaX,OAAb,CAAqB;AAACd,aAAG,EAAE,KAAK9B;AAAX,SAArB,CAAlB;AACA7B,eAAO,CAACC,GAAR,CAAY,yEAAZ,EAFa,CAGb;;AAEA,YAAGkF,WAAW,CAACE,KAAZ,CAAkBC,QAAlB,CAA2B,cAA3B,CAAH,EAA8C;AAC1C,iBAAO1F,MAAM,CAACwF,KAAP,CAAaG,IAAb,EAAP;AACH;;AACD,YAAGJ,WAAW,CAACE,KAAZ,CAAkBC,QAAlB,CAA2B,UAA3B,CAAH,EAA0C;AACtC,iBAAO1F,MAAM,CAACwF,KAAP,CAAaG,IAAb,EAAP;AACH;AACF,OAXH,MAWS;AACL,eAAO,EAAP;AACD;AACJ,KAfD;AAiBA3F,UAAM,CAACqF,OAAP,CAAe,mBAAf,EAAoC,UAAUC,QAAV,EAAmB;AACrD,UAAI,KAAKrD,MAAT,EAAiB;AACb,YAAIsD,WAAW,GAAGvF,MAAM,CAACwF,KAAP,CAAaX,OAAb,CAAqB;AAACd,aAAG,EAAE,KAAK9B;AAAX,SAArB,CAAlB;AACA7B,eAAO,CAACC,GAAR,CAAY,oEAAZ,EAFa,CAGb;;AAEA,YAAGkF,WAAW,CAACE,KAAZ,CAAkBC,QAAlB,CAA2B,cAA3B,CAAH,EAA8C;AAC1C,iBAAOE,WAAW,CAACD,IAAZ,EAAP;AACH;;AACD,YAAGJ,WAAW,CAACE,KAAZ,CAAkBC,QAAlB,CAA2B,UAA3B,CAAH,EAA0C;AACtC,iBAAOE,WAAW,CAACD,IAAZ,EAAP;AACH;AACF,OAXH,MAWS;AACL,eAAO,EAAP;AACD;AACJ,KAfD;AAgBA3F,UAAM,CAACqF,OAAP,CAAe,eAAf,EAAgC,UAAUC,QAAV,EAAmB;AACjD,UAAI,KAAKrD,MAAT,EAAiB;AACb,YAAIsD,WAAW,GAAGvF,MAAM,CAACwF,KAAP,CAAaX,OAAb,CAAqB;AAACd,aAAG,EAAE,KAAK9B;AAAX,SAArB,CAAlB;AACA7B,eAAO,CAACC,GAAR,CAAY,oEAAZ,EAFa,CAGb;;AAEA,YAAGkF,WAAW,CAACE,KAAZ,CAAkBC,QAAlB,CAA2B,cAA3B,CAAH,EAA8C;AAC1C,iBAAOE,WAAW,CAACD,IAAZ,EAAP;AACH;;AACD,YAAGJ,WAAW,CAACE,KAAZ,CAAkBC,QAAlB,CAA2B,UAA3B,CAAH,EAA0C;AACtC,iBAAOE,WAAW,CAACD,IAAZ,EAAP;AACH;AACF,OAXH,MAWS;AACL,eAAO,EAAP;AACD;AACJ,KAfD;AAiBH,GArDD;AAsDD,C;;;;;;;;;;;AC5FD/F,MAAM,CAACiG,MAAP,CAAc;AAACC,eAAa,EAAC;AAAA,WAAIA,aAAJ;AAAA,GAAf;AAAiCC,oBAAkB,EAAC;AAAA,WAAIA,kBAAJ;AAAA,GAApD;AAA2EC,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA,GAAhG;AAAyHC,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA,GAA9I;AAAuKC,gBAAc,EAAC;AAAA,WAAIA,cAAJ;AAAA,GAAtL;AAAyMC,cAAY,EAAC;AAAA,WAAIA,YAAJ;AAAA,GAAtN;AAAuOC,wBAAsB,EAAC;AAAA,WAAIA,sBAAJ;AAAA,GAA9P;AAAyRC,gBAAc,EAAC;AAAA,WAAIA,cAAJ;AAAA,GAAxS;AAA2TC,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA,GAAhV;AAAyWC,kBAAgB,EAAC;AAAA,WAAIA,gBAAJ;AAAA,GAA1X;AAA+YC,aAAW,EAAC;AAAA,WAAIA,WAAJ;AAAA,GAA3Z;AAA2aC,YAAU,EAAC;AAAA,WAAIA,UAAJ;AAAA,GAAtb;AAAqcC,YAAU,EAAC;AAAA,WAAIA,UAAJ;AAAA,GAAhd;AAA+dC,uBAAqB,EAAC;AAAA,WAAIA,qBAAJ;AAAA,GAArf;AAA+gBC,yBAAuB,EAAC;AAAA,WAAIA,uBAAJ;AAAA,GAAviB;AAAmkBC,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA,GAAxlB;AAAinBrG,uBAAqB,EAAC;AAAA,WAAIA,qBAAJ;AAAA;AAAvoB,CAAd;AAAirB,IAAIyF,oBAAJ;AAAyBrG,MAAM,CAACC,IAAP,CAAY,+BAAZ,EAA4C;AAAA,uBAASC,CAAT,EAAW;AAACmG,wBAAoB,GAACnG,CAArB;AAAuB;AAAnC,CAA5C,EAAiF,CAAjF;AAAoF,IAAIoG,cAAJ;AAAmBtG,MAAM,CAACC,IAAP,CAAY,yBAAZ,EAAsC;AAAA,uBAASC,CAAT,EAAW;AAACoG,kBAAc,GAACpG,CAAf;AAAiB;AAA7B,CAAtC,EAAqE,CAArE;AAAwE,IAAIqG,YAAJ;AAAiBvG,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAAA,uBAASC,CAAT,EAAW;AAACqG,gBAAY,GAACrG,CAAb;AAAe;AAA3B,CAApC,EAAiE,CAAjE;AAAoE,IAAIsG,sBAAJ;AAA2BxG,MAAM,CAACC,IAAP,CAAY,iCAAZ,EAA8C;AAAA,uBAASC,CAAT,EAAW;AAACsG,0BAAsB,GAACtG,CAAvB;AAAyB;AAArC,CAA9C,EAAqF,CAArF;AAAwF,IAAIuG,cAAJ;AAAmBzG,MAAM,CAACC,IAAP,CAAY,yBAAZ,EAAsC;AAAA,uBAASC,CAAT,EAAW;AAACuG,kBAAc,GAACvG,CAAf;AAAiB;AAA7B,CAAtC,EAAqE,CAArE;AAAwE,IAAIwG,oBAAJ;AAAyB1G,MAAM,CAACC,IAAP,CAAY,+BAAZ,EAA4C;AAAA,uBAASC,CAAT,EAAW;AAACwG,wBAAoB,GAACxG,CAArB;AAAuB;AAAnC,CAA5C,EAAiF,CAAjF;AAAoF,IAAIyG,gBAAJ;AAAqB3G,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAAA,uBAASC,CAAT,EAAW;AAACyG,oBAAgB,GAACzG,CAAjB;AAAmB;AAA/B,CAAxC,EAAyE,CAAzE;AAA4E,IAAI0G,WAAJ;AAAgB5G,MAAM,CAACC,IAAP,CAAY,sBAAZ,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAAC0G,eAAW,GAAC1G,CAAZ;AAAc;AAA1B,CAAnC,EAA+D,CAA/D;AAAkE,IAAIgH,WAAJ;AAAgBlH,MAAM,CAACC,IAAP,CAAY,sBAAZ,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACgH,eAAW,GAAChH,CAAZ;AAAc;AAA1B,CAAnC,EAA+D,CAA/D;AAAkE,IAAI6G,qBAAJ;AAA0B/G,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAAA,uBAASC,CAAT,EAAW;AAAC6G,yBAAqB,GAAC7G,CAAtB;AAAwB;AAApC,CAA7C,EAAmF,CAAnF;AAAsF,IAAI8G,uBAAJ;AAA4BhH,MAAM,CAACC,IAAP,CAAY,kCAAZ,EAA+C;AAAA,uBAASC,CAAT,EAAW;AAAC8G,2BAAuB,GAAC9G,CAAxB;AAA0B;AAAtC,CAA/C,EAAuF,EAAvF;AAA2F,IAAI+G,oBAAJ;AAAyBjH,MAAM,CAACC,IAAP,CAAY,+BAAZ,EAA4C;AAAA,uBAASC,CAAT,EAAW;AAAC+G,wBAAoB,GAAC/G,CAArB;AAAuB;AAAnC,CAA5C,EAAiF,EAAjF;AAAqF,IAAI2G,UAAJ;AAAe7G,MAAM,CAACC,IAAP,CAAY,qBAAZ,EAAkC;AAAA,uBAASC,CAAT,EAAW;AAAC2G,cAAU,GAAC3G,CAAX;AAAa;AAAzB,CAAlC,EAA6D,EAA7D;AAAiE,IAAI4G,UAAJ;AAAe9G,MAAM,CAACC,IAAP,CAAY,qBAAZ,EAAkC;AAAA,uBAASC,CAAT,EAAW;AAAC4G,cAAU,GAAC5G,CAAX;AAAa;AAAzB,CAAlC,EAA6D,EAA7D;AAAiE,IAAIU,qBAAJ;AAA0BZ,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAAA,uBAASC,CAAT,EAAW;AAACU,yBAAqB,GAACV,CAAtB;AAAwB;AAApC,CAA7C,EAAmF,EAAnF;AAkB7hE,IAAIgG,aAAa,GAAG,CAAC;AACnB,UAAQ,eADW;AAEnB,UAAQ,gBAFW;AAGnB,eAAaS,gBAHM;AAInB,iBAAe;AAJI,CAAD,EAKjB;AACD,UAAQ,oBADP;AAED,UAAQ,wBAFP;AAGD,eAAaD,oBAHZ;AAID,iBAAe;AAJd,CALiB,EAUjB;AACD,UAAQ,yBADP;AAED,UAAQ,qBAFP;AAGD,eAAaL,oBAHZ;AAID,oBAAkB;AAJjB,CAViB,EAejB;AACD,UAAQ,UADP;AAED,UAAQ,WAFP;AAGD,eAAaE,YAHZ;AAID,oBAAkB,IAJjB;AAKD,iBAAe;AALd,CAfiB,EAqBjB;AACD,UAAQ,qBADP;AAED,UAAQ,sBAFP;AAGD,eAAaC;AAHZ,CArBiB,EAyBjB;AACD,UAAQ,iBADP;AAED,UAAQ,kBAFP;AAGD,eAAaC,cAHZ;AAID,iBAAe;AAJd,CAzBiB,EA8BjB;AACD,UAAQ,SADP;AAED,UAAQ,UAFP;AAGD,eAAaG,WAHZ;AAID,oBAAkB,IAJjB;AAKD,iBAAe;AALd,CA9BiB,EAoCjB;AACD,UAAQ,SADP;AAED,UAAQ,UAFP;AAGD,eAAaM;AAHZ,CApCiB,EAwCjB;AACD,UAAQ,yBADP;AAED,UAAQ,qBAFP;AAGD,eAAaH;AAHZ,CAxCiB,EA4CjB;AACD,UAAQ,uBADP;AAED,UAAQ,wBAFP;AAGD,eAAaE;AAHZ,CA5CiB,EAgDjB;AACD,UAAQ,QADP;AAED,UAAQ,cAFP;AAGD,eAAaJ,UAHZ;AAID,iBAAe;AAJd,CAhDiB,EAqDjB;AACD,UAAQ,QADP;AAED,UAAQ,cAFP;AAGD,eAAaC,UAHZ;AAID,iBAAe;AAJd,CArDiB,EA0DjB;AACD,UAAQ,gBADP;AAED,UAAQ,aAFP;AAGD,eAAaR,cAHZ;AAID,iBAAe;AAJd,CA1DiB,EA+DjB;AACD,UAAQ,qBADP;AAED,UAAQ,uBAFP;AAGD,eAAaU,uBAHZ;AAID,iBAAe;AAJd,CA/DiB,EAoEjB;AACD,UAAQ,gBADP;AAED,UAAQ,aAFP;AAGD,eAAaV;AAHZ,CApEiB,CAApB;AA4EA,IAAIF,oBAAoB,GAAG,CAAC;AAC1B,iBAAe,iBADW;AAE1B,QAAM,kBAFoB;AAG1B,UAAQ;AAHkB,CAAD,CAA3B,C;;;;;;;;;;;;;;;AC9FApG,MAAM,CAACiG,MAAP,CAAc;AAACe,yBAAuB,EAAC;AAAA,WAAIA,uBAAJ;AAAA;AAAzB,CAAd;AAAqE,IAAIG,SAAJ,EAAcC,QAAd,EAAuBC,SAAvB,EAAiCC,UAAjC;AAA4CtH,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAACkH,WAAD,YAAWjH,CAAX,EAAa;AAACiH,aAAS,GAACjH,CAAV;AAAY,GAA1B;AAA2BkH,UAA3B,YAAoClH,CAApC,EAAsC;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAlD;AAAmDmH,WAAnD,YAA6DnH,CAA7D,EAA+D;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA5E;AAA6EoH,YAA7E,YAAwFpH,CAAxF,EAA0F;AAACoH,cAAU,GAACpH,CAAX;AAAa;AAAxG,CAA/B,EAAyI,CAAzI;AAA4I,IAAIqH,SAAJ,EAAcC,cAAd,EAA6BC,cAA7B,EAA4CC,KAA5C,EAAkDC,aAAlD;AAAgE3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACsH,WAAD,YAAWrH,CAAX,EAAa;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA1B;AAA2BsH,gBAA3B,YAA0CtH,CAA1C,EAA4C;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAA9D;AAA+DuH,gBAA/D,YAA8EvH,CAA9E,EAAgF;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAAlG;AAAmGwH,OAAnG,YAAyGxH,CAAzG,EAA2G;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAApH;AAAqHyH,eAArH,YAAmIzH,CAAnI,EAAqI;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAtJ,CAAvC,EAA+L,CAA/L;AAAkM,IAAI0H,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe2H,MAAf,YAAoB3H,CAApB,EAAsB;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,CAAjE;AAAoE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYC,IAAZ,EAAiBC,MAAjB;AAAwBrI,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6BkI,MAA7B,YAAkClI,CAAlC,EAAoC;AAACkI,QAAI,GAAClI,CAAL;AAAO,GAA5C;AAA6CmI,QAA7C,YAAoDnI,CAApD,EAAsD;AAACmI,UAAM,GAACnI,CAAP;AAAS;AAAhE,CAArB,EAAuF,CAAvF;AAA0F,IAAIoI,MAAJ;AAAWtI,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAACqI,QAAD,YAAQpI,CAAR,EAAU;AAACoI,UAAM,GAACpI,CAAP;AAAS;AAApB,CAArC,EAA2D,CAA3D;AAA8D,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,CAArD;AAAwD,IAAIqI,iBAAJ;AAAsBvI,MAAM,CAACC,IAAP,CAAY,0CAAZ,EAAuD;AAACsI,mBAAD,YAAmBrI,CAAnB,EAAqB;AAACqI,qBAAiB,GAACrI,CAAlB;AAAoB;AAA1C,CAAvD,EAAmG,EAAnG;AAAuG,IAAIsI,IAAJ;AAASxI,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAmB;AAACuI,MAAD,YAAMtI,CAAN,EAAQ;AAACsI,QAAI,GAACtI,CAAL;AAAO;AAAhB,CAAnB,EAAqC,EAArC;AAAyC,IAAIuI,MAAJ;AAAWzI,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAwB;AAACwI,QAAD,YAAQvI,CAAR,EAAU;AAACuI,UAAM,GAACvI,CAAP;AAAS;AAApB,CAAxB,EAA8C,EAA9C;AAAkD,IAAIwI,MAAJ;AAAW1I,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACwI,UAAM,GAACxI,CAAP;AAAS;AAArB,CAAvC,EAA8D,EAA9D;AAAkE,IAAIyI,QAAJ;AAAa3I,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAAA,uBAASC,CAAT,EAAW;AAACyI,YAAQ,GAACzI,CAAT;AAAW;AAAvB,CAAzC,EAAkE,EAAlE;AAAsE,IAAI0I,KAAJ;AAAU5I,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC0I,SAAK,GAAC1I,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAsB/iD;AACA;AACAgD,OAAO,CAAC2F,UAAR,CAAmB,wBAAnB,EAA6C,OAA7C;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,MAApC;;IAEa7B,uB;;;;;AACX,mCAAY8B,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SACDC,a;6BAAgB;AAEd,UAAIC,SAAS,GAAG,CAAC9F,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,IAAmC,CAAnD;AAEA,UAAIkD,IAAI,GAAG;AACTgG,aAAK,EAAE;AACLC,eAAK,EAAEhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,IAA0B,KAD5B;AAELoJ,gBAAM,EAAEjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B;AAF9B,SADE;AAKTqJ,aAAK,EAAE;AACLC,eAAK,EAAE3B,KAAK,CAAC4B,QAAN,EADF;AAELC,kBAAQ,EAAE7B,KAAK,CAAC4B,QAAN,EAFL;AAGLE,kBAAQ,EAAE;AACRC,mBAAO,EAAE,OADD;AAERC,wBAAY,EAAE;AAFN;AAHL,SALE;AAaTC,mBAAW,EAAE,EAbJ;AAcTC,8BAAsB,EAAE1G,OAAO,CAACnD,GAAR,CAAY,wBAAZ,CAdf;AAeT8J,cAAM,EAAE,CAAC;AACP;AACAR,eAAK,EAAET,KAAK,CAAC5D,IAAN,CAAW8E,QAAX,EAFA;AAGPP,kBAAQ,EAAE,QAHH;AAIPQ,0BAAgB,EAAE;AAJX,SAAD,EAKL;AACD;AACAV,eAAK,EAAET,KAAK,CAAC5D,IAAN,CAAW8E,QAAX,EAFN;AAGDP,kBAAQ,EAAE,QAHT;AAIDQ,0BAAgB,EAAE;AAJjB,SALK,EAUL;AACD;AACAV,eAAK,EAAET,KAAK,CAAC5D,IAAN,CAAW8E,QAAX,EAFN;AAGDP,kBAAQ,EAAE,QAHT;AAIDQ,0BAAgB,EAAE;AAJjB,SAVK,EAeL;AACD;AACAV,eAAK,EAAET,KAAK,CAAC5D,IAAN,CAAW8E,QAAX,EAFN;AAGDP,kBAAQ,EAAE,QAHT;AAIDQ,0BAAgB,EAAE;AAJjB,SAfK,CAfC;AAoCTC,0BAAkB,EAAE;AApCX,OAAX;AAuCA,UAAIC,SAAS,GAAG,EAAhB;;AACA,UAAG/G,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAH,EAA8B;AAC5BkK,iBAAS,GAAG,GAAZ;AACD;;AAED,cAAQ/G,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAAR;AACE,aAAK,OAAL;AACEkD,cAAI,CAACgG,KAAL,CAAWE,MAAX,GAAoBjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2BkK,SAA/C;AACAhH,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACA;;AACF,aAAK,OAAL;AACE,cAAIE,CAAC,GAAG,CAAR;AACAjH,cAAI,CAACgG,KAAL,CAAWE,MAAX,GAAoB,CAACjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2BkK,SAA3B,GAAwC,CAACC,CAAC,GAAG,CAAL,IAAU,EAAnD,IAA0DA,CAA9E;AACAjH,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACF;;AACA,aAAK,SAAL;AACE,cAAIE,CAAC,GAAG,CAAR;AACAjH,cAAI,CAACgG,KAAL,CAAWE,MAAX,GAAoB,CAACjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2BkK,SAA3B,GAAwC,CAACC,CAAC,GAAG,CAAL,IAAU,EAAnD,IAA0DA,CAA9E;AACAjH,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACF;;AACA,aAAK,MAAL;AACE,cAAIE,CAAC,GAAG,CAAR;AACAjH,cAAI,CAACgG,KAAL,CAAWE,MAAX,GAAoB,CAACjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2BkK,SAA3B,GAAwC,CAACC,CAAC,GAAG,CAAL,IAAU,EAAnD,IAA0DA,CAA9E;AACAjH,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACF;;AACA,aAAK,OAAL;AACE,cAAIE,CAAC,GAAG,CAAR;AACAjH,cAAI,CAACgG,KAAL,CAAWE,MAAX,GAAoB,CAACjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2BkK,SAA3B,GAAwC,CAACC,CAAC,GAAG,CAAL,IAAU,EAAnD,IAA0DA,CAA9E;AACAjH,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACF;;AACA;AACE;AA1BJ;;AA+BA/G,UAAI,CAACmG,KAAL,CAAWe,SAAX,GAAuBzC,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAWe,SAA1B,CAAvB,CA/Ec,CAiFd;AACA;AACA;;AAEA,UAAIC,YAAY,GAAGpI,YAAY,CAAC+D,IAAb,GAAoBsE,GAApB,CAAwB,UAAS3I,MAAT,EAAgB;AACzD,eAAO3B,GAAG,CAAC2B,MAAD,EAAS,WAAT,CAAV;AACD,OAFkB,CAAnB;;AAGA,UAAG0I,YAAH,EAAgB;AACd,YAAIT,WAAW,GAAGvB,IAAI,CAACgC,YAAD,CAAtB,CADc,CAEd;;AAEAnH,YAAI,CAAC0G,WAAL,GAAmBvB,IAAI,CAACgC,YAAD,CAAvB;AACD;;AAED,UAAGlH,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,IAA9B,EAAmC;AACjCkD,YAAI,CAACmG,KAAL,CAAWkB,IAAX,GAAkB;AAChBC,aAAG,EAAE,KADW;AAEhBC,mBAAS,EAAE,kBAFK;AAGhBC,kBAAQ,EAAE;AAHM,SAAlB;AAKD;;AAED,UAAGzI,YAAY,CAAC+D,IAAb,CAAkB;AAAC,qBAAa9C,IAAI,CAAC2G;AAAnB,OAAlB,EAA+Dc,KAA/D,KAAyE,CAA5E,EAA8E;AAC5E,YAAIC,WAAW,GAAG3I,YAAY,CAAC+D,IAAb,CAAkB;AAAC,uBAAa9C,IAAI,CAAC2G;AAAnB,SAAlB,EAA+D;AAACgB,cAAI,EAAE;AAACC,kBAAM,EAAE;AAAT;AAAP,SAA/D,EAAoFC,KAApF,GAA4F,CAA5F,CAAlB,CAD4E,CAE5E;AACD;;AAED,UAAG5H,OAAO,CAACnD,GAAR,CAAY,UAAZ,IAA0BmD,OAAO,CAACnD,GAAR,CAAY,WAAZ,CAA7B,EAAsD;AACpDkD,YAAI,CAACgG,KAAL,CAAWC,KAAX,GAAmBhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,CAAnB;AACD;;AAED,UAAG,CAAC,QAAD,EAAW+F,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD/H,YAAI,CAACmG,KAAL,CAAWI,QAAX,CAAoBC,OAApB,GAA8B,MAA9B;AACAxG,YAAI,CAACgG,KAAL,CAAWC,KAAX,GAAmBhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,CAAnB;AACD;;AAEDS,aAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDwC,IAApD;AACA,aAAOA,IAAP;AACD;;;;;SACDgI,qB;mCAAsBC,K,EAAOC,K,EAAM;AACjC3K,aAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiD0K,KAAK,CAACrC,KAAN,CAAYsC,QAA7D;AACAlI,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCgI,KAAK,CAACrC,KAAN,CAAYsC,QAAlD;AACD;;;;;SACD3C,M;sBAAS;AAEP,UAAI5E,IAAI,GAAG,IAAX;AAEA,UAAIwH,SAAS,GAAG,EAAhB;AACA,WAAKpI,IAAL,CAAU0G,WAAV,CAAsBlI,OAAtB,CAA8B,UAAS6J,IAAT,EAAeC,OAAf,EAAuB;AACnDF,iBAAS,CAACG,IAAV,CAAe,oBAAC,QAAD;AAAU,aAAG,EAAED,OAAf;AAAwB,eAAK,EAAEA,OAA/B;AAAwC,eAAK,EAAE;AAACE,oBAAQ,EAAE;AAAX;AAA/C,WAAoEH,IAApE,CAAf;AACD,OAFD;AAIA,UAAII,kBAAkB,GAAG,KAAKzI,IAAL,CAAU0G,WAAV,CAAsBgC,OAAtB,CAA8B5L,GAAG,CAAC,IAAD,EAAO,6BAAP,CAAjC,CAAzB;AAEA,UAAI6L,kBAAkB,GAAG,EAAzB;AAEApL,aAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,KAAKwC,IAAL,CAAU+G,kBAAtD;AAGA,WAAK/G,IAAL,CAAU4G,MAAV,CAAiBpI,OAAjB,CAAyB,UAASoK,OAAT,EAAkBC,KAAlB,EAAwB;AAC/CF,0BAAkB,CAACJ,IAAnB,CAAwB,oBAAC,SAAD;AAAW,aAAG,EAAEM,KAAhB;AAAuB,gBAAM,EAAE/L,GAAG,CAAC8D,IAAD,EAAO,mBAAP,CAAH,GAAiC,IAAhE;AAAsE,eAAK,EAAE;AAAC6F,wBAAY,EAAE;AAAf;AAA7E,WACpB,oBAAC,SAAD;AAAW,eAAK,EAAG3J,GAAG,CAAC8L,OAAD,EAAU,OAAV,CAAtB;AAA0C,kBAAQ,EAAG9L,GAAG,CAAC8L,OAAD,EAAU,UAAV;AAAxD,UADoB,EAEpB,oBAAC,IAAD;AACE,eAAK,EAAG9L,GAAG,CAAC8D,IAAD,EAAO,kBAAP,CADb;AAEE,gBAAM,EAAG9D,GAAG,CAAC8D,IAAD,EAAO,mBAAP,CAAH,GAAiC,EAF5C;AAGE,eAAK,EAAC,UAHR,CAIE;AAJF;AAKE,gBAAM,EAAE,CAAC,SAAD,CALV;AAME,cAAI,EAAE,CACJ;AACE,kBAAM9D,GAAG,CAAC8D,IAAD,EAAO,6BAAP,CADX;AAEE,qBAAS,SAFX;AAGE,oBAAQ7B,YAAY,CAAC+D,IAAb,CAAkB;AAACgG,kBAAI,EAAE,CAC7B;AAAC,qCAAqBhM,GAAG,CAAC8L,OAAD,EAAU,kBAAV;AAAzB,eAD6B,EAE7B;AAAC,6BAAa9L,GAAG,CAAC8D,IAAD,EAAO,6BAAP;AAAjB,eAF6B;AAAP,aAAlB,EAGF;AAAC+G,kBAAI,EAAE;AAACC,sBAAM,EAAE;AAAT;AAAP,aAHE,EAGmBR,GAHnB,CAGuB,UAAS2B,WAAT,EAAsBF,KAAtB,EAA4B;AACzD,qBAAO;AACL/G,mBAAG,EAAE+G,KADA;AAEL;AACAG,iBAAC,EAAE3D,MAAM,CAACvI,GAAG,CAACiM,WAAD,EAAc,QAAd,CAAJ,CAAN,CAAmCE,MAAnC,CAA0C,YAA1C,CAHE;AAILC,iBAAC,EAAEpM,GAAG,CAACiM,WAAD,EAAc,qBAAd;AAJD,eAAP;AAMD,aAVO;AAHV,WADI,CANR;AAuBE,gBAAM,EAAE;AACN,mBAAO,CADD;AAEN,qBAAS,GAFH;AAGN,sBAAU,EAHJ;AAIN,oBAAQ;AAJF,WAvBV;AA6BE,cAAI,EAAC,MA7BP;AA8BE,iBAAO,EAAE,IA9BX;AA+BE,oBAAU,EAAE;AACV,sBAAU,QADA;AAEV,wBAAY,CAFF;AAGV,2BAAe,CAHL;AAIV,4BAAgB,CAJN;AAKV;AACA,4BAAgB,EANN;AAOV,8BAAkB;AAPR,WA/Bd;AAwCE,kBAAQ,EAAE;AACR,sBAAU,MADF;AAER,wBAAY,CAFJ;AAGR,2BAAe,CAHP;AAIR,4BAAgB,CAJR;AAKR;AACA,4BAAgB,CAAC,EANT;AAOR,8BAAkB;AAPV,WAxCZ;AAiDE,iBAAO,EAAE,EAjDX;AAkDE,kBAAQ,EAAC,SAlDX;AAmDE,wBAAc,EAAE,CAnDlB;AAoDE,wBAAc,EAAC,SApDjB;AAqDE,wBAAc,EAAE,IArDlB;AAsDE,kBAAQ,EAAC,GAtDX;AAuDE,yBAAe,EAAE,CAAC,EAvDpB;AAwDE,iBAAO,EAAE,IAxDX;AAyDE,yBAAe,EAAE,EAzDnB;AA0DE,uBAAa,EAAE,EA1DjB;AA2DE,iBAAO,EAAE,CACP;AACE,sBAAU,cADZ;AAEE,yBAAa,QAFf;AAGE,0BAAc,GAHhB;AAIE,yBAAa,EAJf;AAKE,0BAAc,EALhB;AAME,0BAAc,EANhB;AAOE,2BAAe;AAPjB,WADO;AA3DX,UAFoB,EAyEpB,oBAAC,aAAD,OAzEoB,CAAxB;AA6ED,OA9ED;AAgFA,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QAoCE,oBAAC,GAAD;AAAK,UAAE,EAAE,EAAT;AAAa,aAAK,EAAE;AAACtC,sBAAY,EAAE;AAAf;AAApB,SACIkC,kBADJ,CApCF,CADF,CADF;AA4CD;;;;;SAEDQ,Q;sBAASC,G,EAAI;AACX7L,aAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB4L,GAAxB;AACAnE,oBAAc,CAACsD,IAAf,CAAoBa,GAApB;AACD;;;;;;EAjR0CtE,KAAK,CAACuE,S;;AAsRnDrE,UAAU,CAACjB,uBAAuB,CAACuF,SAAzB,EAAoCvE,eAApC,CAAV;AAjTAhI,MAAM,CAACmF,aAAP,CAmTe6B,uBAnTf,E;;;;;;;;;;;;;;;ACAAhH,MAAM,CAACiG,MAAP,CAAc;AAACS,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA;AAAtB,CAAd;AAA+D,IAAIkB,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe2H,MAAf,YAAoB3H,CAApB,EAAsB;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAIoH,UAAJ,EAAeF,QAAf,EAAwBC,SAAxB,EAAkCmF,WAAlC,EAA8CC,GAA9C,EAAkDC,IAAlD,EAAuDC,UAAvD;AAAkE3M,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACqH,YAAD,YAAYpH,CAAZ,EAAc;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAA5B;AAA6BkH,UAA7B,YAAsClH,CAAtC,EAAwC;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAApD;AAAqDmH,WAArD,YAA+DnH,CAA/D,EAAiE;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA9E;AAA+EsM,aAA/E,YAA2FtM,CAA3F,EAA6F;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA5G;AAA6GuM,KAA7G,YAAiHvM,CAAjH,EAAmH;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAA1H;AAA2HwM,MAA3H,YAAgIxM,CAAhI,EAAkI;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA1I;AAA2IyM,YAA3I,YAAsJzM,CAAtJ,EAAwJ;AAACyM,cAAU,GAACzM,CAAX;AAAa;AAAtK,CAA1B,EAAkM,CAAlM;AAAqM,IAAI6H,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYyE,MAAZ;AAAmB5M,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6B0M,QAA7B,YAAoC1M,CAApC,EAAsC;AAAC0M,UAAM,GAAC1M,CAAP;AAAS;AAAhD,CAArB,EAAuE,CAAvE;AAA0E,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIwH,KAAJ,EAAUH,SAAV,EAAoBC,cAApB,EAAmCC,cAAnC,EAAkDE,aAAlD;AAAgE3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACyH,OAAD,YAAOxH,CAAP,EAAS;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAAlB;AAAmBqH,WAAnB,YAA6BrH,CAA7B,EAA+B;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA5C;AAA6CsH,gBAA7C,YAA4DtH,CAA5D,EAA8D;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAhF;AAAiFuH,gBAAjF,YAAgGvH,CAAhG,EAAkG;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApH;AAAqHyH,eAArH,YAAmIzH,CAAnI,EAAqI;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAtJ,CAAvC,EAA+L,CAA/L;AAAkM,IAAI2M,eAAJ;AAAoB7M,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAAC4M,iBAAD,YAAiB3M,CAAjB,EAAmB;AAAC2M,mBAAe,GAAC3M,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,CAA7F;AAAgG,IAAI4M,UAAJ;AAAe9M,MAAM,CAACC,IAAP,CAAY,mCAAZ,EAAgD;AAAC6M,YAAD,YAAY5M,CAAZ,EAAc;AAAC4M,cAAU,GAAC5M,CAAX;AAAa;AAA5B,CAAhD,EAA8E,CAA9E;AAAiF,IAAI6M,gBAAJ;AAAqB/M,MAAM,CAACC,IAAP,CAAY,yCAAZ,EAAsD;AAAC8M,kBAAD,YAAkB7M,CAAlB,EAAoB;AAAC6M,oBAAgB,GAAC7M,CAAjB;AAAmB;AAAxC,CAAtD,EAAgG,CAAhG;AActvCgD,OAAO,CAAC2F,UAAR,CAAmB,0BAAnB,EAA+C,CAA/C;;IAEanC,oB;;;;;AACX,gCAAYoC,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SAEDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACL4D,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE,MAFV;AAGHhE,iBAAK,EAAE;AAHJ;AADA,SADE;AAQTiE,gBAAQ,EAAEjK,OAAO,CAACnD,GAAR,CAAY,0BAAZ,CARD;AASTqN,WAAG,EAAE,IATI;AAUTC,uBAAe,EAAE;AAVR,OAAX;AAaApK,UAAI,CAACmG,KAAL,GAAa1B,KAAK,CAAC4F,IAAN,CAAWrK,IAAI,CAACmG,KAAhB,CAAb;AACAnG,UAAI,CAACmG,KAAL,CAAWmE,MAAX,GAAoB7F,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAWmE,MAA1B,CAApB;AACAtK,UAAI,CAACmG,KAAL,CAAW4D,GAAX,GAAiBtF,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAW4D,GAA1B,CAAjB;AAEA,UAAG1I,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoChE,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CwC,IAA1C;AACpC,aAAOA,IAAP;AACD;;;;;SACDuK,e;6BAAgB1B,K,EAAM;AACpB5I,aAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwC2I,KAAxC;AACD;;;;;SACDrD,M;sBAAQ;AAGN,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC,UAAjB;AAA4B,gBAAQ,EAAC;AAArC,QADF,CADF,EAIE,oBAAC,aAAD,OAJF,EAME,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,eAAD,OADF,CAFF,EAKE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,aAAK,EAAC;AAAlB,QADF,CALF,CANF,EAeE,oBAAC,aAAD,OAfF,EAiBE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,UAAD,OADF,CAFF,EAKE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,aAAK,EAAC;AAAlB,QADF,CALF,CAjBF,EA0BE,oBAAC,aAAD,OA1BF,EA4BE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,gBAAD,OADF,CAFF,EAKE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,aAAK,EAAC;AAAlB,QADF,CALF,CA5BF,CADF,EAwCE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,IAAD;AAAM,UAAE,EAAC,sBAAT;AAAgC,uBAAhC;AAAwC,aAAK,EAAE,KAAKxF,IAAL,CAAUkK,QAAzD;AAAmE,gBAAQ,EAAE,KAAKK,eAAlF;AAAmG,4BAAoB,EAAE;AAAzH,SACE,oBAAC,GAAD;AAAK,aAAK,EAAC,YAAX;AAAwB,aAAK,EAAE,KAAKvK,IAAL,CAAUmG,KAAV,CAAgB4D,GAA/C;AAAoD,gBAAQ,EAAG,KAAKQ,eAApE;AAAsF,aAAK,EAAE;AAA7F,eADF,EAIE,oBAAC,GAAD;AAAK,aAAK,EAAC,OAAX;AAAmB,gBAAQ,EAAE,KAAKA,eAAlC;AAAmD,aAAK,EAAE,KAAKvK,IAAL,CAAUmG,KAAV,CAAgB4D,GAA1E;AAA+E,aAAK,EAAE;AAAtF,eAJF,EAOE,oBAAC,GAAD;AAAK,aAAK,EAAC,QAAX;AAAoB,gBAAQ,EAAE,KAAKQ,eAAnC;AAAoD,aAAK,EAAE,KAAKvK,IAAL,CAAUmG,KAAV,CAAgB4D,GAA3E;AAAgF,aAAK,EAAE;AAAvF,eAPF,CADF,CADF,CAxCF,CADF,CADF,CADF;AA+DD;;;;;;EA/FuCjF,KAAK,CAACuE,S;;AAiGhDrE,UAAU,CAACvB,oBAAoB,CAAC6F,SAAtB,EAAiCvE,eAAjC,CAAV;AAjHAhI,MAAM,CAACmF,aAAP,CAkHeuB,oBAlHf,E;;;;;;;;;;;;;;;;;ACAA1G,MAAM,CAACiG,MAAP,CAAc;AAACwH,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA;AAAtB,CAAd;AAA+D,IAAIrG,QAAJ,EAAaC,SAAb,EAAuBqG,MAAvB;AAA8B1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACmH,UAAD,YAAUlH,CAAV,EAAY;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAxB;AAAyBmH,WAAzB,YAAmCnH,CAAnC,EAAqC;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAlD;AAAmDwN,QAAnD,YAA0DxN,CAA1D,EAA4D;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAAtE,CAA1B,EAAkG,CAAlG;AAAqG,IAAIyN,iBAAJ;AAAsB3N,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACyN,qBAAiB,GAACzN,CAAlB;AAAoB;AAAhC,CAAvC,EAAyE,CAAzE;AAA4E,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAI0N,KAAJ;AAAU5N,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,CAAlD;AAAqD,IAAI2N,SAAJ;AAAc7N,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAAC4N,WAAD,YAAW3N,CAAX,EAAa;AAAC2N,aAAS,GAAC3N,CAAV;AAAY;AAA1B,CAA7B,EAAyD,CAAzD;AAA4D,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,CAArC;AAAwC,IAAIsH,cAAJ,EAAmBG,aAAnB,EAAiCJ,SAAjC;AAA2CvH,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACuH,gBAAD,YAAgBtH,CAAhB,EAAkB;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAApC;AAAqCyH,eAArC,YAAmDzH,CAAnD,EAAqD;AAACyH,iBAAa,GAACzH,CAAd;AAAgB,GAAtE;AAAuEqH,WAAvE,YAAiFrH,CAAjF,EAAmF;AAACqH,aAAS,GAACrH,CAAV;AAAY;AAAhG,CAAvC,EAAyI,CAAzI;AAiB5uB,IAAI4N,eAAe,GAAG;AACpBC,kBAAgB,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CADE;AAEpBC,eAAa,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAFK;AAGpBC,kBAAgB,EAAE,KAHE;AAIpBC,SAAO,EAAE;AAJW,CAAtB;AAMA,IAAIC,SAAS,GAAG;AACdC,kBAAgB,EAAE,KADJ;AAEdC,gBAAc,EAAE;AAFF,CAAhB;AAIA,IAAIC,aAAa,GAAG;AAClB;AACA;AACA;AACAC,MAAI,EAAE,IAJY;AAKlB;AACAC,MAAI,EAAE,YAAU;AACdhO,WAAO,CAACC,GAAR,CAAY,OAAZ;AACD,GARiB;AASlBgO,WAAS,EAAE,IATO;AAUlBC,SAAO,EAAE,IAVS;AAWlBC,WAAS,EAAE,IAXO;AAYlBC,UAAQ,EAAE,IAZQ;AAalBC,WAAS,EAAE,IAbO;AAclB;AACAC,WAAS,EAAE,YAAY;AACrBtO,WAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,GAjBiB;AAkBlBsO,aAAW,EAAE,IAlBK;AAmBlBC,WAAS,EAAE,IAnBO;AAoBlBpM,OAAK,EAAE,IApBW;AAqBlBqM,YAAU,EAAE,IArBM;AAsBlBC,gBAAc,EAAE,IAtBE;AAuBlBC,SAAO,EAAE,IAvBS;AAwBlBC,SAAO,EAAE,IAxBS;AAyBlBC,UAAQ,EAAE,IAzBQ;AA0BlBC,UAAQ,EAAE,IA1BQ;AA2BlBC,iBAAe,EAAE,IA3BC;AA4BlBC,kBAAgB,EAAE,IA5BA;AA6BlB;AACA;AACA;AACAC,oBAAkB,EAAE,IAhCF;AAiClBC,iBAAe,EAAE,IAjCC;AAkClBC,iBAAe,EAAE,IAlCC;AAmClBC,kBAAgB,EAAE,IAnCA;AAoClBC,kBAAgB,EAAE,IApCA;AAqClB;AACAC,qBAAmB,EAAE,IAtCH;AAuClBC,OAAK,EAAE,IAvCW;AAwClBC,eAAa,EAAE;AAxCG,CAApB;AA4CA,IAAIC,aAAa,GAAG;AAClBC,YAAU,EAAE,IADM;AAElBC,WAAS,EAAE,IAFO;AAGlBC,cAAY,EAAE,IAHI;AAIlBC,SAAO,EAAE,IAJS;AAKlBC,WAAS,EAAE,IALO;AAMlBC,QAAM,EAAE,IANU;AAOlBC,YAAU,EAAE,IAPM;AAQlBC,UAAQ,EAAE,IARQ;AASlBC,WAAS,EAAE,IATO;AAUlBC,gBAAc,EAAE,IAVE;AAWlBC,qBAAmB,EAAE,IAXH;AAYlBC,SAAO,EAAE,IAZS;AAalBC,mBAAiB,EAAE,IAbD;AAclBC,WAAS,EAAE,IAdO;AAelBC,uBAAqB,EAAE,IAfL;AAgBlBC,OAAK,EAAE,IAhBW;AAiBlBC,eAAa,EAAE,IAjBG;AAkBlBC,gBAAc,EAAE,IAlBE;AAmBlBC,OAAK,EAAE,IAnBW;AAoBlBC,WAAS,EAAE,IApBO;AAqBlBC,aAAW,EAAE,IArBK;AAsBlBC,kBAAgB,EAAE,IAtBA;AAuBlBC,sBAAoB,EAAE,IAvBJ;AAwBlBC,gBAAc,EAAE,IAxBE;AAyBlBC,gBAAc,EAAE,IAzBE;AA0BlBC,wBAAsB,EAAE,IA1BN;AA2BlBC,UAAQ,EAAE,IA3BQ;AA4BlBC,SAAO,EAAE,IA5BS;AA6BlBC,eAAa,EAAE,IA7BG;AA8BlBC,YAAU,EAAE,IA9BM;AA+BlBC,mBAAiB,EAAE,IA/BD;AAgClB5H,cAAY,EAAE,IAhCI;AAiClB6H,gBAAc,EAAE,IAjCE;AAkClBC,iBAAe,EAAE,IAlCC;AAmClBC,eAAa,EAAE,IAnCG;AAoClBC,WAAS,EAAE,IApCO;AAqClBC,iBAAe,EAAE,IArCC;AAsClBC,WAAS,EAAE,IAtCO;AAuClBC,MAAI,EAAE;AAvCY,CAApB;AAyCA,IAAIC,aAAa,GAAG;AAClBC,YAAU,EAAE,KADM;AAElBtC,WAAS,EAAE,KAFO;AAGlBC,cAAY,EAAE,KAHI;AAIlBC,SAAO,EAAE,KAJS;AAKlBC,WAAS,EAAE,KALO;AAMlBC,QAAM,EAAE,KANU;AAOlBC,YAAU,EAAE,KAPM;AAQlBC,UAAQ,EAAE,KARQ;AASlBC,WAAS,EAAE,KATO;AAUlBC,gBAAc,EAAE,KAVE;AAWlBC,qBAAmB,EAAE,KAXH;AAYlBC,SAAO,EAAE,KAZS;AAalBC,mBAAiB,EAAE,KAbD;AAclBC,WAAS,EAAE,KAdO;AAelBC,uBAAqB,EAAE,KAfL;AAgBlBC,OAAK,EAAE,KAhBW;AAiBlBC,eAAa,EAAE,KAjBG;AAkBlBC,gBAAc,EAAE,KAlBE;AAmBlBC,OAAK,EAAE,KAnBW;AAoBlBC,WAAS,EAAE,KApBO;AAqBlBC,aAAW,EAAE,KArBK;AAsBlBC,kBAAgB,EAAE,KAtBA;AAuBlBC,sBAAoB,EAAE,KAvBJ;AAwBlBC,gBAAc,EAAE,KAxBE;AAyBlBC,gBAAc,EAAE,KAzBE;AA0BlBC,wBAAsB,EAAE,KA1BN;AA2BlBC,UAAQ,EAAE,KA3BQ;AA4BlBC,SAAO,EAAE,KA5BS;AA6BlBC,eAAa,EAAE,KA7BG;AA8BlBC,YAAU,EAAE,KA9BM;AA+BlBC,mBAAiB,EAAE,KA/BD;AAgClB5H,cAAY,EAAE,KAhCI;AAiClB6H,gBAAc,EAAE,KAjCE;AAkClBC,iBAAe,EAAE,KAlCC;AAmClBC,eAAa,EAAE,KAnCG;AAoClBC,WAAS,EAAE,KApCO;AAqClBC,iBAAe,EAAE,KArCC;AAsClBC,WAAS,EAAE,KAtCO;AAuClBC,MAAI,EAAE;AAvCY,CAApB;AAyCArP,OAAO,CAAC2F,UAAR,CAAmB,cAAnB,EAAmCoH,aAAnC;AACA/M,OAAO,CAAC2F,UAAR,CAAmB,oBAAnB,EAAyC2J,aAAzC;AAGAtP,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,KAApC;AACAzI,MAAM,CAACsS,IAAP,CAAY,gBAAZ,EAA8B,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AACnD,MAAGA,MAAH,EAAU;AACRK,WAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BN,MAA7B;AACD;AACF,CAJD;;IAKa4K,oB;;;;;AACX,gCAAY3E,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SACDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTX,YAAI,EAAE;AACJqQ,iBAAO,EAAE;AADL,SADG;AAITC,mBAAW,EAAE;AACXC,iBAAO,EAAE3P,OAAO,CAACnD,GAAR,CAAY,cAAZ,CADE;AAEX+S,wBAAc,EAAE5P,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CAFL;AAGXgT,eAAK,EAAE;AACL5C,qBAAS,EAAE,CADN;AAELE,mBAAO,EAAE,CAFJ;AAGLD,wBAAY,EAAE,CAHT;AAILE,qBAAS,EAAE,CAJN;AAKLC,kBAAM,EAAE,CALH;AAMLC,sBAAU,EAAE,CANP;AAOLG,0BAAc,EAAE,CAPX;AAQLF,oBAAQ,EAAE,CARL;AASLC,qBAAS,EAAE,CATN;AAULE,+BAAmB,EAAE,CAVhB;AAWLC,mBAAO,EAAE,CAXJ;AAYLC,6BAAiB,EAAE,CAZd;AAaLC,qBAAS,EAAE,CAbN;AAcLC,iCAAqB,EAAE,CAdlB;AAeLC,iBAAK,EAAE,CAfF;AAgBLC,yBAAa,EAAE,CAhBV;AAiBLC,0BAAc,EAAE,CAjBX;AAkBLC,iBAAK,EAAE,CAlBF;AAmBLC,qBAAS,EAAE,CAnBN;AAoBLC,uBAAW,EAAE,CApBR;AAqBLC,4BAAgB,EAAE,CArBb;AAsBLC,gCAAoB,EAAE,CAtBjB;AAuBLC,0BAAc,EAAE,CAvBX;AAwBLrH,wBAAY,EAAE,CAxBT;AAyBL+H,yBAAa,EAAE,CAzBV;AA0BLP,oBAAQ,EAAE,CA1BL;AA2BLC,mBAAO,EAAE,CA3BJ;AA4BLC,yBAAa,EAAE,CA5BV;AA6BLC,sBAAU,EAAE,CA7BP;AA8BLC,6BAAiB,EAAE,CA9Bd;AA+BLN,0BAAc,EAAE,CA/BX;AAgCLC,kCAAsB,EAAE,CAhCnB;AAiCLM,0BAAc,EAAE,CAjCX;AAkCLC,2BAAe,EAAE,CAlCZ;AAmCLE,qBAAS,EAAE,CAnCN;AAoCLC,2BAAe,EAAE,CApCZ;AAqCLC,qBAAS,EAAE,CArCN;AAsCLC,gBAAI,EAAE;AAtCD,WAHI;AA2CXS,kBAAQ,EAAE;AACR7C,qBAAS,EAAE,CADH;AAERC,wBAAY,EAAE,CAFN;AAGRC,mBAAO,EAAE,CAHD;AAIRC,qBAAS,EAAE,CAJH;AAKRC,kBAAM,EAAE,CALA;AAMRC,sBAAU,EAAE,CANJ;AAORC,oBAAQ,EAAE,CAPF;AAQRC,qBAAS,EAAE,CARH;AASRC,0BAAc,EAAE,CATR;AAURE,mBAAO,EAAE,CAVD;AAWRC,6BAAiB,EAAE,CAXX;AAYRC,qBAAS,EAAE,CAZH;AAaRC,iCAAqB,EAAE,CAbf;AAcRC,iBAAK,EAAE,CAdC;AAeRC,yBAAa,EAAE,CAfP;AAgBRC,0BAAc,EAAE,CAhBR;AAiBRC,iBAAK,EAAE,CAjBC;AAkBRC,qBAAS,EAAE,CAlBH;AAmBRC,uBAAW,EAAE,CAnBL;AAoBRC,4BAAgB,EAAE,CApBV;AAqBRC,gCAAoB,EAAE,CArBd;AAsBRC,0BAAc,EAAE,CAtBR;AAuBRrH,wBAAY,EAAE,CAvBN;AAwBR+H,yBAAa,EAAE,CAxBP;AAyBRP,oBAAQ,EAAE,CAzBF;AA0BRE,yBAAa,EAAE,CA1BP;AA2BRC,sBAAU,EAAE,CA3BJ;AA4BRC,6BAAiB,EAAE,CA5BX;AA6BRH,mBAAO,EAAE,CA7BD;AA8BRH,0BAAc,EAAE,CA9BR;AA+BRC,kCAAsB,EAAE,CA/BhB;AAgCRM,0BAAc,EAAE,CAhCR;AAiCRC,2BAAe,EAAE,CAjCT;AAkCRb,qBAAS,EAAE,CAlCH;AAmCRe,qBAAS,EAAE,CAnCH;AAoCRC,2BAAe,EAAE,CApCT;AAqCRC,qBAAS,EAAE,CArCH;AAsCRC,gBAAI,EAAE;AAtCE,WA3CC;AAmFXU,gBAAM,EAAE;AACN9C,qBAAS,EAAE,KADL;AAENC,wBAAY,EAAE,KAFR;AAGNC,mBAAO,EAAE,KAHH;AAINC,qBAAS,EAAE,KAJL;AAKNC,kBAAM,EAAE,KALF;AAMNC,sBAAU,EAAE,KANN;AAONC,oBAAQ,EAAE,KAPJ;AAQNC,qBAAS,EAAE,KARL;AASNC,0BAAc,EAAE,KATV;AAUNE,mBAAO,EAAE,KAVH;AAWNC,6BAAiB,EAAE,KAXb;AAYNC,qBAAS,EAAE,KAZL;AAaNC,iCAAqB,EAAE,KAbjB;AAcNC,iBAAK,EAAE,KAdD;AAeNC,yBAAa,EAAE,KAfT;AAgBNC,0BAAc,EAAE,KAhBV;AAiBNC,iBAAK,EAAE,KAjBD;AAkBNC,qBAAS,EAAE,KAlBL;AAmBNC,uBAAW,EAAE,KAnBP;AAoBNC,4BAAgB,EAAE,KApBZ;AAqBNC,gCAAoB,EAAE,KArBhB;AAsBNC,0BAAc,EAAE,KAtBV;AAuBNrH,wBAAY,EAAE,KAvBR;AAwBN+H,yBAAa,EAAE,KAxBT;AAyBNP,oBAAQ,EAAE,KAzBJ;AA0BNE,yBAAa,EAAE,KA1BT;AA2BNC,sBAAU,EAAE,KA3BN;AA4BNC,6BAAiB,EAAE,KA5Bb;AA6BNH,mBAAO,EAAE,KA7BH;AA8BNH,0BAAc,EAAE,KA9BV;AA+BNC,kCAAsB,EAAE,KA/BlB;AAgCNM,0BAAc,EAAE,KAhCV;AAiCNC,2BAAe,EAAE,KAjCX;AAkCNb,qBAAS,EAAE,KAlCL;AAmCNe,qBAAS,EAAE,KAnCL;AAoCNC,2BAAe,EAAE,KApCX;AAqCNC,qBAAS,EAAE;AArCL;AAnFG;AAJJ,OAAX;;AAiIA,UAAG,QAAO3Q,mBAAP,uDAAOA,mBAAP,OAA+B,QAAlC,EAA2C;AACzCsB,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB5C,SAAvB,GAAmCxO,mBAAmB,CAACoE,IAApB,GAA2B2E,KAA3B,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,qBAAnB,EAAyC;AACvC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB9C,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,YAAP,uDAAOA,YAAP,OAAwB,QAA3B,EAAoC;AAClCjQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB3C,YAAvB,GAAsC8C,YAAY,CAACnN,IAAb,GAAoB2E,KAApB,EAAtC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,cAAnB,EAAkC;AAChC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB7C,YAAxB,GAAuC,IAAvC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,OAAP,uDAAOA,OAAP,OAAmB,QAAtB,EAA+B;AAC7BlQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB1C,OAAvB,GAAiC8C,OAAO,CAACpN,IAAR,GAAe2E,KAAf,EAAjC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,SAAnB,EAA6B;AAC3B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB5C,OAAxB,GAAkC,IAAlC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/BnQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBzC,SAAvB,GAAmC8C,SAAS,CAACrN,IAAV,GAAiB2E,KAAjB,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,WAAnB,EAA+B;AAC7B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB3C,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,MAAP,uDAAOA,MAAP,OAAkB,QAArB,EAA8B;AAC5BpQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBxC,MAAvB,GAAgC8C,MAAM,CAACtN,IAAP,GAAc2E,KAAd,EAAhC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,QAAnB,EAA4B;AAC1B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB1C,MAAxB,GAAiC,IAAjC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,QAAP,uDAAOA,QAAP,OAAoB,QAAvB,EAAgC;AAC9BrQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBtC,QAAvB,GAAkC6C,QAAQ,CAACvN,IAAT,GAAgB2E,KAAhB,EAAlC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,UAAnB,EAA8B;AAC5B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBxC,QAAxB,GAAmC,IAAnC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO3O,UAAP,uDAAOA,UAAP,OAAsB,QAAzB,EAAkC;AAChCmB,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBvC,UAAvB,GAAoC1O,UAAU,CAACiE,IAAX,GAAkB2E,KAAlB,EAApC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,YAAnB,EAAgC;AAC9B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBzC,UAAxB,GAAqC,IAArC;AACD;AACF,SAND;AAOD;;AAED,UAAG,QAAO+C,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/BtQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBrC,SAAvB,GAAmC6C,SAAS,CAACxN,IAAV,GAAiB2E,KAAjB,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,WAAnB,EAA+B;AAC7B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBvC,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,cAAP,uDAAOA,cAAP,OAA0B,QAA7B,EAAsC;AACpCvQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBpC,cAAvB,GAAwC6C,cAAc,CAACzN,IAAf,GAAsB2E,KAAtB,EAAxC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,gBAAnB,EAAoC;AAClC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBtC,cAAxB,GAAyC,IAAzC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,mBAAP,uDAAOA,mBAAP,OAA+B,QAAlC,EAA2C;AACzCxQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBnC,mBAAvB,GAA6C6C,mBAAmB,CAAC1N,IAApB,GAA2B2E,KAA3B,EAA7C;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,qBAAnB,EAAyC;AACvC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBrC,mBAAxB,GAA8C,IAA9C;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,OAAP,uDAAOA,OAAP,OAAmB,QAAtB,EAA+B;AAC7BzQ,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBlC,OAAvB,GAAiC6C,OAAO,CAAC3N,IAAR,GAAe2E,KAAf,EAAjC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,SAAnB,EAA6B;AAC3B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBpC,OAAxB,GAAkC,IAAlC;AACD;AACF,SAND;AAOD;;AAED,UAAG,QAAO8C,iBAAP,uDAAOA,iBAAP,OAA6B,QAAhC,EAAyC;AACvC1Q,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBjC,iBAAvB,GAA2C6C,iBAAiB,CAAC5N,IAAlB,GAAyB2E,KAAzB,EAA3C;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,mBAAnB,EAAuC;AACrC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBnC,iBAAxB,GAA4C,IAA5C;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/B3Q,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBhC,SAAvB,GAAmC6C,SAAS,CAAC7N,IAAV,GAAiB2E,KAAjB,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,WAAnB,EAA+B;AAC7B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBlC,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,qBAAP,uDAAOA,qBAAP,OAAiC,QAApC,EAA6C;AAC3C5Q,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBe,mBAAvB,GAA6CD,qBAAqB,CAAC9N,IAAtB,GAA6B2E,KAA7B,EAA7C;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,uBAAnB,EAA2C;AACzC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBa,mBAAxB,GAA8C,IAA9C;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOC,KAAP,uDAAOA,KAAP,OAAiB,QAApB,EAA6B;AAC3B9Q,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB9B,KAAvB,GAA+B8C,KAAK,CAAChO,IAAN,GAAa2E,KAAb,EAA/B;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,OAAnB,EAA2B;AACzB/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBhC,KAAxB,GAAgC,IAAhC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOlP,aAAP,uDAAOA,aAAP,OAAyB,QAA5B,EAAqC;AACnCkB,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB7B,aAAvB,GAAuCnP,aAAa,CAACgE,IAAd,GAAqB2E,KAArB,EAAvC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,eAAnB,EAAmC;AACjC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB/B,aAAxB,GAAwC,IAAxC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,cAAP,uDAAOA,cAAP,OAA0B,QAA7B,EAAsC;AACpC/Q,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB5B,cAAvB,GAAwC6C,cAAc,CAACjO,IAAf,GAAsB2E,KAAtB,EAAxC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,gBAAnB,EAAoC;AAClC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB9B,cAAxB,GAAyC,IAAzC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,KAAP,uDAAOA,KAAP,OAAiB,QAApB,EAA6B;AAC3BhR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB3B,KAAvB,GAA+B6C,KAAK,CAAClO,IAAN,GAAa2E,KAAb,EAA/B;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,OAAnB,EAA2B;AACzB/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB7B,KAAxB,GAAgC,IAAhC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO8C,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/BjR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB1B,SAAvB,GAAmC6C,SAAS,CAACnO,IAAV,GAAiB2E,KAAjB,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,WAAnB,EAA+B;AAC7B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB5B,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AAED,UAAG,QAAO8C,WAAP,uDAAOA,WAAP,OAAuB,QAA1B,EAAmC;AACjClR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBzB,WAAvB,GAAqC6C,WAAW,CAACpO,IAAZ,GAAmB2E,KAAnB,EAArC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,aAAnB,EAAiC;AAC/B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB3B,WAAxB,GAAsC,IAAtC;AACD;AACF,SAND;AAOD;;AAED,UAAG,QAAOrP,gBAAP,uDAAOA,gBAAP,OAA4B,QAA/B,EAAwC;AACtCgB,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBxB,gBAAvB,GAA0CtP,gBAAgB,CAAC8D,IAAjB,GAAwB2E,KAAxB,EAA1C;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,kBAAnB,EAAsC;AACpC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB1B,gBAAxB,GAA2C,IAA3C;AACD;AACF,SAND;AAOD;;AAED,UAAG,QAAO6C,oBAAP,uDAAOA,oBAAP,OAAgC,QAAnC,EAA4C;AAC1CnR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBvB,oBAAvB,GAA8C4C,oBAAoB,CAACrO,IAArB,GAA4B2E,KAA5B,EAA9C;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,sBAAnB,EAA0C;AACxC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBzB,oBAAxB,GAA+C,IAA/C;AACD;AACF,SAND;AAOD;;AAGD,UAAG,QAAOxP,YAAP,uDAAOA,YAAP,OAAwB,QAA3B,EAAoC;AAClCiB,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuB3I,YAAvB,GAAsCpI,YAAY,CAAC+D,IAAb,GAAoB2E,KAApB,EAAtC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,cAAnB,EAAkC;AAChC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwB7I,YAAxB,GAAuC,IAAvC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOiK,aAAP,uDAAOA,aAAP,OAAyB,QAA5B,EAAqC;AACnCpR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBZ,aAAvB,GAAuCkC,aAAa,CAACtO,IAAd,GAAqB2E,KAArB,EAAvC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,eAAnB,EAAmC;AACjC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBd,aAAxB,GAAwC,IAAxC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOjQ,UAAP,uDAAOA,UAAP,OAAsB,QAAzB,EAAkC;AAChCe,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBhB,UAAvB,GAAoC7P,UAAU,CAAC6D,IAAX,GAAkB2E,KAAlB,EAApC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,YAAnB,EAAgC;AAC9B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBlB,UAAxB,GAAqC,IAArC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOuC,iBAAP,uDAAOA,iBAAP,OAA6B,QAAhC,EAAyC;AACvCrR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBf,iBAAvB,GAA2CsC,iBAAiB,CAACvO,IAAlB,GAAyB2E,KAAzB,EAA3C;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,mBAAnB,EAAuC;AACrC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBjB,iBAAxB,GAA4C,IAA5C;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOuC,QAAP,uDAAOA,QAAP,OAAoB,QAAvB,EAAgC;AAC9BtR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBnB,QAAvB,GAAkC2C,QAAQ,CAACxO,IAAT,GAAgB2E,KAAhB,EAAlC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,UAAnB,EAA8B;AAC5B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBrB,QAAxB,GAAmC,IAAnC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOxM,aAAP,uDAAOA,aAAP,OAAyB,QAA5B,EAAqC;AACnCnC,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBjB,aAAvB,GAAuC1M,aAAa,CAACW,IAAd,GAAqB2E,KAArB,EAAvC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,eAAnB,EAAmC;AACjC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBnB,aAAxB,GAAwC,IAAxC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO0C,cAAP,uDAAOA,cAAP,OAA0B,QAA7B,EAAsC;AACpCvR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBrB,cAAvB,GAAwC8C,cAAc,CAACzO,IAAf,GAAsB2E,KAAtB,EAAxC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,gBAAnB,EAAoC;AAClC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBvB,cAAxB,GAAyC,IAAzC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,sBAAP,uDAAOA,sBAAP,OAAkC,QAArC,EAA8C;AAC5CxR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBpB,sBAAvB,GAAgD8C,sBAAsB,CAAC1O,IAAvB,GAA8B2E,KAA9B,EAAhD;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,wBAAnB,EAA4C;AAC1C/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBtB,sBAAxB,GAAiD,IAAjD;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,eAAP,uDAAOA,eAAP,OAA2B,QAA9B,EAAuC;AACrCzR,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBb,eAAvB,GAAyCwC,eAAe,CAAC3O,IAAhB,GAAuB2E,KAAvB,EAAzC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,iBAAnB,EAAqC;AACnC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBf,eAAxB,GAA0C,IAA1C;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAOyC,OAAP,uDAAOA,OAAP,OAAmB,QAAtB,EAA+B;AAC7B1R,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBlB,OAAvB,GAAiC8C,OAAO,CAAC5O,IAAR,GAAe2E,KAAf,EAAjC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,SAAnB,EAA6B;AAC3B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBpB,OAAxB,GAAkC,IAAlC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO+C,cAAP,uDAAOA,cAAP,OAA0B,QAA7B,EAAsC;AACpC3R,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBd,cAAvB,GAAwC2C,cAAc,CAAC7O,IAAf,GAAsB2E,KAAtB,EAAxC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,gBAAnB,EAAoC;AAClC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBhB,cAAxB,GAAyC,IAAzC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO4C,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/B5R,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBX,SAAvB,GAAmCyC,SAAS,CAAC9O,IAAV,GAAiB2E,KAAjB,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,WAAnB,EAA+B;AAC7B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBb,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO0C,eAAP,uDAAOA,eAAP,OAA2B,QAA9B,EAAuC;AACrC7R,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBV,eAAvB,GAAyCyC,eAAe,CAAC/O,IAAhB,GAAuB2E,KAAvB,EAAzC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,iBAAnB,EAAqC;AACnC/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBZ,eAAxB,GAA0C,IAA1C;AACD;AACF,SAND;AAOD;;AACD,UAAG,QAAO0C,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/B9R,YAAI,CAAC2P,WAAL,CAAiBG,KAAjB,CAAuBT,SAAvB,GAAmCyC,SAAS,CAAChP,IAAV,GAAiB2E,KAAjB,EAAnC;AACA/F,cAAM,CAACC,IAAP,CAAaxE,MAAM,CAACyE,kBAAP,CAA0BC,cAAvC,EAAuDrD,OAAvD,CAA+D,UAASsD,GAAT,EAAc;AAC3E;AACA,cAAIrD,MAAM,GAAGtB,MAAM,CAACyE,kBAAP,CAA0BC,cAA1B,CAAyCC,GAAzC,CAAb;;AACA,cAAGrD,MAAM,CAACsD,IAAP,KAAgB,WAAnB,EAA+B;AAC7B/B,gBAAI,CAAC2P,WAAL,CAAiBK,MAAjB,CAAwBX,SAAxB,GAAoC,IAApC;AACD;AACF,SAND;AAOD;;AAGD,UAAGpP,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAAH,EAAgC;AAC9B,YAAIiV,aAAa,GAAG9R,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAApB;AAEAkD,YAAI,CAAC2P,WAAL,CAAiBI,QAAjB,GAA4BgC,aAAa,CAACC,MAA1C;AACD,OAJD,MAIO,CACL;AACA;AACA;AACA;AACD;;AAGD,UAAI3S,IAAI,GAAGlC,MAAM,CAACkC,IAAP,EAAX;;AACA,UAAIA,IAAI,IAAIA,IAAI,CAACuD,KAAjB,EAAwB;AACtBvD,YAAI,CAACuD,KAAL,CAAWpE,OAAX,CAAmB,UAASyT,IAAT,EAAc;AAC/B,cAAIA,IAAI,KAAK,UAAb,EAAyB;AACvBjS,gBAAI,CAACX,IAAL,CAAUqQ,OAAV,GAAoB,IAApB;AACD,WAFD,MAEO,IAAIuC,IAAI,KAAK,cAAb,EAA6B;AAClCjS,gBAAI,CAACX,IAAL,CAAU6S,cAAV,GAA2B,IAA3B;AACD,WAFM,MAEA,IAAID,IAAI,KAAK,SAAb,EAAwB;AAC7BjS,gBAAI,CAACX,IAAL,CAAU8S,SAAV,GAAsB,IAAtB;AACD;AACF,SARD;AASD;;AAED,aAAOnS,IAAP;AACD;;;;;SACDoS,c;4BAAeC,U,EAAYC,c,EAAe;AACxC,UAAIC,YAAY,GAAGtS,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAnB;AACAyV,kBAAY,CAACF,UAAD,CAAZ,GAA2BC,cAA3B;AACA/U,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B+U,YAA5B;AACAtS,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BqS,YAA5B;AACD;;;;;SACDC,oB;kCAAqBH,U,EAAYC,c,EAAe;AAC9C,UAAIG,kBAAkB,GAAGxS,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CAAzB;AACA2V,wBAAkB,CAACJ,UAAD,CAAlB,GAAiCC,cAAjC;AACAjR,aAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,SAAzB,IAAsChE,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCiV,kBAAlC,CAAtC;AACAxS,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCuS,kBAAlC;AACD;;;;;SACDC,gB;8BAAiBzK,K,EAAOqK,c,EAAe;AACrC,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACA,WAAKF,cAAL,CAAoB,cAApB,EAAoCE,cAApC;AACA,WAAKF,cAAL,CAAoB,SAApB,EAA+BE,cAA/B;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACA,WAAKF,cAAL,CAAoB,QAApB,EAA8BE,cAA9B;AACA,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACA,WAAKF,cAAL,CAAoB,UAApB,EAAgCE,cAAhC;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACA,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACA,WAAKF,cAAL,CAAoB,qBAApB,EAA2CE,cAA3C;AACA,WAAKF,cAAL,CAAoB,SAApB,EAA+BE,cAA/B;AACA,WAAKF,cAAL,CAAoB,mBAApB,EAAyCE,cAAzC;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACA,WAAKF,cAAL,CAAoB,uBAApB,EAA6CE,cAA7C;AACA,WAAKF,cAAL,CAAoB,OAApB,EAA6BE,cAA7B;AACA,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACA,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACA,WAAKF,cAAL,CAAoB,OAApB,EAA6BE,cAA7B;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACA,WAAKF,cAAL,CAAoB,aAApB,EAAmCE,cAAnC;AACA,WAAKF,cAAL,CAAoB,kBAApB,EAAwCE,cAAxC;AACA,WAAKF,cAAL,CAAoB,sBAApB,EAA4CE,cAA5C;AACA,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACA,WAAKF,cAAL,CAAoB,cAApB,EAAoCE,cAApC;AACA,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACA,WAAKF,cAAL,CAAoB,UAApB,EAAgCE,cAAhC;AACA,WAAKF,cAAL,CAAoB,SAApB,EAA+BE,cAA/B;AACA,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACA,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACA,WAAKF,cAAL,CAAoB,mBAApB,EAAyCE,cAAzC;AACA,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACA,WAAKF,cAAL,CAAoB,wBAApB,EAA8CE,cAA9C;AACA,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACA,WAAKF,cAAL,CAAoB,iBAApB,EAAuCE,cAAvC;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACA,WAAKF,cAAL,CAAoB,iBAApB,EAAuCE,cAAvC;AACA,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDK,e;6BAAgB1K,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDM,kB;gCAAmB3K,K,EAAOqK,c,EAAe;AACvC,WAAKF,cAAL,CAAoB,cAApB,EAAoCE,cAApC;AACD;;;;;SACDO,a;2BAAc5K,K,EAAOqK,c,EAAe;AAClC,WAAKF,cAAL,CAAoB,SAApB,EAA+BE,cAA/B;AACD;;;;;SACDQ,e;6BAAgB7K,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDS,Y;0BAAa9K,K,EAAOqK,c,EAAe;AACjC,WAAKF,cAAL,CAAoB,QAApB,EAA8BE,cAA9B;AACD;;;;;SACDU,gB;8BAAiB/K,K,EAAOqK,c,EAAe;AACrC,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACD;;;;;SACDW,c;4BAAehL,K,EAAOqK,c,EAAe;AACnC,WAAKF,cAAL,CAAoB,UAApB,EAAgCE,cAAhC;AACD;;;;;SACDY,e;6BAAgBjL,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDa,oB;kCAAqBlL,K,EAAOqK,c,EAAe;AACzC,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACD;;;;;SACDc,yB;uCAA0BnL,K,EAAOqK,c,EAAe;AAC9C,WAAKF,cAAL,CAAoB,qBAApB,EAA2CE,cAA3C;AACD;;;;;SACDe,a;2BAAcpL,K,EAAOqK,c,EAAe;AAClC,WAAKF,cAAL,CAAoB,SAApB,EAA+BE,cAA/B;AACD;;;;;SACDgB,uB;qCAAwBrL,K,EAAOqK,c,EAAe;AAC5C,WAAKF,cAAL,CAAoB,mBAApB,EAAyCE,cAAzC;AACD;;;;;SACDiB,e;6BAAgBtL,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDkB,2B;yCAA4BvL,K,EAAOqK,c,EAAe;AAChD,WAAKF,cAAL,CAAoB,uBAApB,EAA6CE,cAA7C;AACD;;;;;SACDmB,W;yBAAYxL,K,EAAOqK,c,EAAe;AAChC,WAAKF,cAAL,CAAoB,OAApB,EAA6BE,cAA7B;AACD;;;;;SACDoB,mB;iCAAoBzL,K,EAAOqK,c,EAAe;AACxC,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACD;;;;;SACDqB,qB;mCAAsB1L,K,EAAOqK,c,EAAe;AAC1C,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACD;;;;;SACDsB,W;yBAAY3L,K,EAAOqK,c,EAAe;AAChC,WAAKF,cAAL,CAAoB,OAApB,EAA6BE,cAA7B;AACD;;;;;SACDuB,e;6BAAgB5L,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDwB,iB;+BAAkB7L,K,EAAOqK,c,EAAe;AACtC,WAAKF,cAAL,CAAoB,aAApB,EAAmCE,cAAnC;AACD;;;;;SACDyB,sB;oCAAuB9L,K,EAAOqK,c,EAAe;AAC3C,WAAKF,cAAL,CAAoB,kBAApB,EAAwCE,cAAxC;AACD;;;;;SACD0B,0B;wCAA2B/L,K,EAAOqK,c,EAAe;AAC/C,WAAKF,cAAL,CAAoB,sBAApB,EAA4CE,cAA5C;AACD;;;;;SACD2B,oB;kCAAqBhM,K,EAAOqK,c,EAAe;AACzC,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACD;;;;;SACD4B,kB;gCAAmBjM,K,EAAOqK,c,EAAe;AACvC,WAAKF,cAAL,CAAoB,cAApB,EAAoCE,cAApC;AACD;;;;;SACD6B,mB;iCAAoBlM,K,EAAOqK,c,EAAe;AACxC,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACD;;;;;SACD8B,c;4BAAenM,K,EAAOqK,c,EAAe;AACnC,WAAKF,cAAL,CAAoB,UAApB,EAAgCE,cAAhC;AACD;;;;;SACD+B,a;2BAAcpM,K,EAAOqK,c,EAAe;AAClC,WAAKF,cAAL,CAAoB,SAApB,EAA+BE,cAA/B;AACD;;;;;SACDgC,mB;iCAAoBrM,K,EAAOqK,c,EAAe;AACxC,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACD;;;;;SACDiC,gB;8BAAiBtM,K,EAAOqK,c,EAAe;AACrC,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACD;;;;;SACDkC,uB;qCAAwBvM,K,EAAOqK,c,EAAe;AAC5C,WAAKF,cAAL,CAAoB,mBAApB,EAAyCE,cAAzC;AACD;;;;;SACDmC,oB;kCAAqBxM,K,EAAOqK,c,EAAe;AACzC,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACD;;;;;SACDoC,4B;0CAA6BzM,K,EAAOqK,c,EAAe;AACjD,WAAKF,cAAL,CAAoB,wBAApB,EAA8CE,cAA9C;AACD;;;;;SACDqC,oB;kCAAqB1M,K,EAAOqK,c,EAAe;AACzC,WAAKF,cAAL,CAAoB,gBAApB,EAAsCE,cAAtC;AACD;;;;;SACDsC,qB;mCAAsB3M,K,EAAOqK,c,EAAe;AAC1C,WAAKF,cAAL,CAAoB,iBAApB,EAAuCE,cAAvC;AACD;;;;;SACDuC,e;6BAAgB5M,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDwC,qB;mCAAsB7M,K,EAAOqK,c,EAAe;AAC1C,WAAKF,cAAL,CAAoB,iBAApB,EAAuCE,cAAvC;AACD;;;;;SACDyC,e;6BAAgB9M,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SAGD0C,gB;8BAAiB/M,K,EAAOqK,c,EAAe;AACrC,WAAKE,oBAAL,CAA0B,YAA1B,EAAwCF,cAAxC;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACA,WAAKE,oBAAL,CAA0B,cAA1B,EAA0CF,cAA1C;AACA,WAAKE,oBAAL,CAA0B,SAA1B,EAAqCF,cAArC;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACA,WAAKE,oBAAL,CAA0B,QAA1B,EAAoCF,cAApC;AACA,WAAKE,oBAAL,CAA0B,YAA1B,EAAwCF,cAAxC;AACA,WAAKE,oBAAL,CAA0B,UAA1B,EAAsCF,cAAtC;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACA,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACA,WAAKE,oBAAL,CAA0B,qBAA1B,EAAiDF,cAAjD;AACA,WAAKE,oBAAL,CAA0B,SAA1B,EAAqCF,cAArC;AACA,WAAKE,oBAAL,CAA0B,mBAA1B,EAA+CF,cAA/C;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACA,WAAKE,oBAAL,CAA0B,uBAA1B,EAAmDF,cAAnD;AACA,WAAKE,oBAAL,CAA0B,OAA1B,EAAmCF,cAAnC;AACA,WAAKE,oBAAL,CAA0B,eAA1B,EAA2CF,cAA3C;AACA,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACA,WAAKE,oBAAL,CAA0B,OAA1B,EAAmCF,cAAnC;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACA,WAAKE,oBAAL,CAA0B,aAA1B,EAAyCF,cAAzC;AACA,WAAKE,oBAAL,CAA0B,kBAA1B,EAA8CF,cAA9C;AACA,WAAKE,oBAAL,CAA0B,sBAA1B,EAAkDF,cAAlD;AACA,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACA,WAAKE,oBAAL,CAA0B,cAA1B,EAA0CF,cAA1C;AACA,WAAKE,oBAAL,CAA0B,eAA1B,EAA2CF,cAA3C;AACA,WAAKE,oBAAL,CAA0B,UAA1B,EAAsCF,cAAtC;AACA,WAAKE,oBAAL,CAA0B,SAA1B,EAAqCF,cAArC;AACA,WAAKE,oBAAL,CAA0B,eAA1B,EAA2CF,cAA3C;AACA,WAAKE,oBAAL,CAA0B,YAA1B,EAAwCF,cAAxC;AACA,WAAKE,oBAAL,CAA0B,mBAA1B,EAA+CF,cAA/C;AACA,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACA,WAAKE,oBAAL,CAA0B,wBAA1B,EAAoDF,cAApD;AACA,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACA,WAAKE,oBAAL,CAA0B,iBAA1B,EAA6CF,cAA7C;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACA,WAAKE,oBAAL,CAA0B,iBAA1B,EAA6CF,cAA7C;AACA,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACD2C,qB;mCAAsBhN,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACD4C,wB;sCAAyBjN,K,EAAOqK,c,EAAe;AAC7C,WAAKE,oBAAL,CAA0B,cAA1B,EAA0CF,cAA1C;AACD;;;;;SACD6C,mB;iCAAoBlN,K,EAAOqK,c,EAAe;AACxC,WAAKE,oBAAL,CAA0B,SAA1B,EAAqCF,cAArC;AACD;;;;;SACD8C,qB;mCAAsBnN,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACD+C,kB;gCAAmBpN,K,EAAOqK,c,EAAe;AACvC,WAAKE,oBAAL,CAA0B,QAA1B,EAAoCF,cAApC;AACD;;;;;SACDgD,sB;oCAAuBrN,K,EAAOqK,c,EAAe;AAC3C,WAAKE,oBAAL,CAA0B,YAA1B,EAAwCF,cAAxC;AACD;;;;;SACDiD,oB;kCAAqBtN,K,EAAOqK,c,EAAe;AACzC,WAAKE,oBAAL,CAA0B,UAA1B,EAAsCF,cAAtC;AACD;;;;;SACDkD,qB;mCAAsBvN,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACDmD,0B;wCAA2BxN,K,EAAOqK,c,EAAe;AAC/C,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACD;;;;;SACDoD,+B;6CAAgCzN,K,EAAOqK,c,EAAe;AACpD,WAAKE,oBAAL,CAA0B,qBAA1B,EAAiDF,cAAjD;AACD;;;;;SACDqD,mB;iCAAoB1N,K,EAAOqK,c,EAAe;AACxC,WAAKE,oBAAL,CAA0B,SAA1B,EAAqCF,cAArC;AACD;;;;;SACDsD,6B;2CAA8B3N,K,EAAOqK,c,EAAe;AAClD,WAAKE,oBAAL,CAA0B,mBAA1B,EAA+CF,cAA/C;AACD;;;;;SACDuD,qB;mCAAsB5N,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACDwD,iC;+CAAkC7N,K,EAAOqK,c,EAAe;AACtD,WAAKE,oBAAL,CAA0B,uBAA1B,EAAmDF,cAAnD;AACD;;;;;SACDyD,iB;+BAAkB9N,K,EAAOqK,c,EAAe;AACtC,WAAKE,oBAAL,CAA0B,OAA1B,EAAmCF,cAAnC;AACD;;;;;SACD0D,yB;uCAA0B/N,K,EAAOqK,c,EAAe;AAC9C,WAAKE,oBAAL,CAA0B,eAA1B,EAA2CF,cAA3C;AACD;;;;;SACD2D,2B;yCAA4BhO,K,EAAOqK,c,EAAe;AAChD,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACD;;;;;SACD4D,iB;+BAAkBjO,K,EAAOqK,c,EAAe;AACtC,WAAKE,oBAAL,CAA0B,OAA1B,EAAmCF,cAAnC;AACD;;;;;SACD6D,qB;mCAAsBlO,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACD8D,uB;qCAAwBnO,K,EAAOqK,c,EAAe;AAC5C,WAAKE,oBAAL,CAA0B,aAA1B,EAAyCF,cAAzC;AACD;;;;;SACD+D,4B;4CAA8B;AAC5B,WAAK7D,oBAAL,CAA0B,kBAA1B,EAA8CF,cAA9C;AACD;;;;;SACDgE,gC;gDAAkC;AAChC,WAAK9D,oBAAL,CAA0B,sBAA1B,EAAkDF,cAAlD;AACD;;;;;SACDiE,0B;wCAA2BtO,K,EAAOqK,c,EAAe;AAC/C,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACD;;;;;SACDkE,wB;sCAAyBvO,K,EAAOqK,c,EAAe;AAC7C,WAAKE,oBAAL,CAA0B,cAA1B,EAA0CF,cAA1C;AACD;;;;;SACDmE,yB;uCAA0BxO,K,EAAOqK,c,EAAe;AAC9C,WAAKE,oBAAL,CAA0B,eAA1B,EAA2CF,cAA3C;AACD;;;;;SACDoE,oB;kCAAqBzO,K,EAAOqK,c,EAAe;AACzC,WAAKE,oBAAL,CAA0B,UAA1B,EAAsCF,cAAtC;AACD;;;;;SACDqE,mB;iCAAoB1O,K,EAAOqK,c,EAAe;AACxC,WAAKE,oBAAL,CAA0B,SAA1B,EAAqCF,cAArC;AACD;;;;;SACDsE,yB;uCAA0B3O,K,EAAOqK,c,EAAe;AAC9C,WAAKE,oBAAL,CAA0B,eAA1B,EAA2CF,cAA3C;AACD;;;;;SACDuE,sB;oCAAuB5O,K,EAAOqK,c,EAAe;AAC3C,WAAKE,oBAAL,CAA0B,YAA1B,EAAwCF,cAAxC;AACD;;;;;SACDwE,6B;2CAA8B7O,K,EAAOqK,c,EAAe;AAClD,WAAKE,oBAAL,CAA0B,mBAA1B,EAA+CF,cAA/C;AACD;;;;;SACDyE,0B;wCAA2B9O,K,EAAOqK,c,EAAe;AAC/C,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACD;;;;;SACD0E,kC;gDAAmC/O,K,EAAOqK,c,EAAe;AACvD,WAAKE,oBAAL,CAA0B,wBAA1B,EAAoDF,cAApD;AACD;;;;;SACD2E,0B;wCAA2BhP,K,EAAOqK,c,EAAe;AAC/C,WAAKE,oBAAL,CAA0B,gBAA1B,EAA4CF,cAA5C;AACD;;;;;SACD4E,2B;yCAA4BjP,K,EAAOqK,c,EAAe;AAChD,WAAKE,oBAAL,CAA0B,iBAA1B,EAA6CF,cAA7C;AACD;;;;;SACD6E,qB;mCAAsBlP,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SACD8E,2B;yCAA4BnP,K,EAAOqK,c,EAAe;AAChD,WAAKE,oBAAL,CAA0B,iBAA1B,EAA6CF,cAA7C;AACD;;;;;SACD+E,qB;mCAAsBpP,K,EAAOqK,c,EAAe;AAC1C,WAAKE,oBAAL,CAA0B,WAA1B,EAAuCF,cAAvC;AACD;;;;;SAGDgF,Y;4BAAc,CAEb;;;;;SACDC,uB;qCAAwBC,kB,EAAmB;AACzC,UAAIC,YAAY,GAAG,EAAnB;;AACA,cAAQD,kBAAR;AACE,aAAK,UAAL;AACEC,sBAAY,GAAG,QAAf;AACA;;AACF,aAAK,WAAL;AACEA,sBAAY,GAAG,SAAf;AACA;;AACF,aAAK,kBAAL;AACEA,sBAAY,GAAG,gBAAf;AACA;;AACF,aAAK,gBAAL;AACEA,sBAAY,GAAG,cAAf;AACA;;AACF,aAAK,uBAAL;AACEA,sBAAY,GAAG,qBAAf;AACA;;AACF,aAAK,iBAAL;AACEA,sBAAY,GAAG,eAAf;AACA;;AACF;AACEA,sBAAY,GAAGD,kBAAkB,CAACE,SAAnB,CAA6B,CAA7B,EAAgCF,kBAAkB,CAAC1W,MAAnB,GAA4B,CAA5D,CAAf;AACA;AArBJ;;AAwBA,aAAO2W,YAAP;AACD;;;;;SACDE,gB;8BAAiBC,c,EAAe;AAC9B;AACA,UAAIhX,IAAI,GAAG,IAAX;AAEArD,aAAO,CAACC,GAAR,CAAY,mBAAmBoa,cAAnB,GAAoC,cAAhD;AACAra,aAAO,CAACC,GAAR,CAAY,eAAeN,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8a,cAArB,EAAqC9U,IAArC,GAA4C2E,KAA5C,EAAf,GAAqE,WAAjF;AAEAlK,aAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,UAAIqa,gBAAgB,GAAG;AACrBrX,oBAAY,EAAE,QADO;AAErBK,aAAK,EAAE3D,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB8a,cAArB,EAAqC9U,IAArC,GAA4CsE,GAA5C,CAAgD,UAAS3I,MAAT,EAAgB;AACrE,cAAIqZ,QAAQ,GAAGrZ,MAAM,CAACyC,GAAtB;AACA,iBAAOzC,MAAM,CAACsZ,SAAd;AACA,iBAAOtZ,MAAM,CAACyC,GAAd;AAEA,cAAIL,KAAK,GAAG;AACVmX,mBAAO,EAAE,MAAMpX,IAAI,CAAC2W,uBAAL,CAA6BK,cAA7B,CAAN,GAAoD,GAApD,GAA0DE,QADzD;AAEV9W,oBAAQ,EAAEvC;AAFA,WAAZ;AAKA,iBAAOoC,KAAP;AACD,SAXM;AAFc,OAAvB;AAgBA,UAAIoX,UAAU,GAAG,iCAAiCC,kBAAkB,CAACza,IAAI,CAACC,SAAL,CAAema,gBAAf,EAAiC,IAAjC,EAAuC,CAAvC,CAAD,CAApE;AACA,UAAIM,qBAAqB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,CAA5B;;AACA,UAAGF,qBAAH,EAAyB;AACvBA,6BAAqB,CAACG,YAAtB,CAAmC,MAAnC,EAA2CL,UAA3C;AAEAE,6BAAqB,CAACG,YAAtB,CAAmC,UAAnC,EAA+CV,cAAc,GAAG,OAAhE;AACAO,6BAAqB,CAACI,KAAtB,GAJuB,CAKvB;AACD,OAND,MAMO;AACLhb,eAAO,CAACC,GAAR,CAAY,8BAAZ;AACD;AAEF;;;;;SACDgb,c;4BAAeC,Y,EAAa;AACxB,aAAO,oBAAC,MAAD;AAAQ,eAAO,EAAEA;AAAjB,QAAP;AACH;;;;;SACDjT,M;sBAAQ;AAEN;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aACE;AAAK,aAAK,EAAE,KAAKK,KAAL,CAAWM;AAAvB,SACI,oBAAC,KAAD;AAAO,UAAE,EAAC,kBAAV;AAA6B,aAAK;AAAlC,SACE,mCACE,gCACE;AAAI,iBAAS,EAAC;AAAd,SACE,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKuM,gBAAL,CAAsBgG,IAAtB,CAA2B,IAA3B,CAAlB;AAAqD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,qCAAP;AAAjE,QADF,CADF,EAIE;AAAI,iBAAS,EAAC;AAAd,sBAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,iBALF,EAME;AAAI,iBAAS,EAAC;AAAd,kBANF,EAOE;AAAI,iBAAS,EAAC;AAAd,oBAPF,EAQE;AAAI,iBAAS,EAAC;AAAd,gBARF,EASE;AAAI,iBAAS,EAAC;AAAd,gBATF,EAUE;AAAI,iBAAS,EAAC;AAAd,gBAVF,EAWE;AAAI,iBAAS,EAAC;AAAd,kBAXF,EAYE;AAAI,iBAAS,EAAC;AAAd,SACE,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKkY,gBAAL,CAAsB0D,IAAtB,CAA2B,IAA3B,CAAlB;AAAqD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,4CAAP;AAAjE,QADF,CAZF,CADF,CADF,EAmBE,mCACE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK6V,eAAL,CAAqB+F,IAArB,CAA0B,IAA1B,CAAlB;AAAoD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAAhE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,+BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B5C,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKsL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B7C,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACyL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,4BAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,sBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,sBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKzD,qBAAL,CAA2ByD,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CADF,EAaE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK8V,kBAAL,CAAwB8F,IAAxB,CAA6B,IAA7B,CAAlB;AAAsD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,uCAAP;AAAlE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,wBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B3C,YAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKqL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,sCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B5C,YAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACwL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,wBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,kBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,cAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKxD,wBAAL,CAA8BwD,IAA9B,CAAmC,IAAnC,CAAlB;AAA4D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,8CAAP;AAAxE,QAAJ,CAVF,CAbF,EAyBE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK8V,kBAAL,CAAwB8F,IAAxB,CAA6B,IAA7B,CAAlB;AAAsD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,kCAAP;AAAlE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,mBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B1C,OAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKoL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,iCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B3C,OAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACuL,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,aAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,SAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKvD,mBAAL,CAAyBuD,IAAzB,CAA8B,IAA9B,CAAlB;AAAuD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAAnE,QAAJ,CAVF,CAzBF,EAqCE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKgW,eAAL,CAAqB4F,IAArB,CAA0B,IAA1B,CAAlB;AAAmD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAA/D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,sBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BzC,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKmL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B1C,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACsL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,oBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,WAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKtD,qBAAL,CAA2BsD,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CArCF,EAiDE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKkW,gBAAL,CAAsB0F,IAAtB,CAA2B,IAA3B,CAAlB;AAAoD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,iCAAP;AAAhE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,kBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BxC,MAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKkL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,gCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BzC,MAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACqL,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,kBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,YAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,QAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKpD,sBAAL,CAA4BoD,IAA5B,CAAiC,IAAjC,CAAlB;AAA0D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,wCAAP;AAAtE,QAAJ,CAVF,CAjDF,EA6DE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKkW,gBAAL,CAAsB0F,IAAtB,CAA2B,IAA3B,CAAlB;AAAoD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,qCAAP;AAAhE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,sBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BvC,UAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKiL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,oCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BxC,UAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACoL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,gBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,YAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKpD,sBAAL,CAA4BoD,IAA5B,CAAiC,IAAjC,CAAlB;AAA0D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,4CAAP;AAAtE,QAAJ,CAVF,CA7DF,EAyEE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKmW,cAAL,CAAoByF,IAApB,CAAyB,IAAzB,CAAlB;AAAkD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,mCAAP;AAA9D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,oBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BtC,QAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKgL,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,kCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BvC,QAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACmL,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,oBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,cAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,UAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKnD,oBAAL,CAA0BmD,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,0CAAP;AAApE,QAAJ,CAVF,CAzEF,EAqFE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKoW,eAAL,CAAqBwF,IAArB,CAA0B,IAA1B,CAAlB;AAAmD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAA/D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,qBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BrC,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK+K,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BtC,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACkL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,WAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKlD,qBAAL,CAA2BkD,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CArFF,EAiGE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKqW,oBAAL,CAA0BuF,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAApE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,0BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BpC,cAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK8K,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BrC,cAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACiL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,yBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,gBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKjD,0BAAL,CAAgCiD,IAAhC,CAAqC,IAArC,CAAlB;AAA8D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gDAAP;AAA1E,QAAJ,CAVF,CAjGF,EA6GE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKsW,yBAAL,CAA+BsF,IAA/B,CAAoC,IAApC,CAAlB;AAA6D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,8CAAP;AAAzE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,gCAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BnC,mBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK6K,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,6CAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BpC,mBAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACgL,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,8BAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,yBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,qBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKhD,+BAAL,CAAqCgD,IAArC,CAA0C,IAA1C,CAAlB;AAAmE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,qDAAP;AAA/E,QAAJ,CAVF,CA7GF,EA0HE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKuW,aAAL,CAAmBqF,IAAnB,CAAwB,IAAxB,CAAlB;AAAiD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,kCAAP;AAA7D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,mBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BlC,OAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK4K,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,iCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BnC,OAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC+K,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,kBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,aAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,SAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK/C,mBAAL,CAAyB+C,IAAzB,CAA8B,IAA9B,CAAlB;AAAuD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAAnE,QAAJ,CAVF,CA1HF,EAsIE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKwW,uBAAL,CAA6BoF,IAA7B,CAAkC,IAAlC,CAAlB;AAA2D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,4CAAP;AAAvE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,8BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BjC,iBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK2K,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,2CAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BlC,iBAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC8K,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,6BAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,uBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,mBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK9C,6BAAL,CAAmC8C,IAAnC,CAAwC,IAAxC,CAAlB;AAAiE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,mDAAP;AAA7E,QAAJ,CAVF,CAtIF,EAkJE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKuW,aAAL,CAAmBqF,IAAnB,CAAwB,IAAxB,CAAlB;AAAiD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAA7D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,oBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BhC,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK0K,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BjC,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC6K,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,UAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK7C,qBAAL,CAA2B6C,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CAlJF,EA8JE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK0W,2BAAL,CAAiCkF,IAAjC,CAAsC,IAAtC,CAAlB;AAA+D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gDAAP;AAA3E,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,kCAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B/B,qBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKyK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,+CAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BhC,qBAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC4K,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,iCAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,2BAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,uBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK5C,iCAAL,CAAuC4C,IAAvC,CAA4C,IAA5C,CAAlB;AAAqE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,uDAAP;AAAjF,QAAJ,CAVF,CA9JF,EA0KE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK2W,WAAL,CAAiBiF,IAAjB,CAAsB,IAAtB,CAAlB;AAA+C,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gCAAP;AAA3D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,iBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B9B,KAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKwK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,+BAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B/B,KAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC2K,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,2BAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,WAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,OAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK3C,iBAAL,CAAuB2C,IAAvB,CAA4B,IAA5B,CAAlB;AAAqD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,uCAAP;AAAjE,QAAJ,CAVF,CA1KF,EAsLE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK4W,mBAAL,CAAyBgF,IAAzB,CAA8B,IAA9B,CAAlB;AAAuD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,wCAAP;AAAnE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,yBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B7B,aAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKuK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,uCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B9B,aAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC0K,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,yBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,eAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK1C,yBAAL,CAA+B0C,IAA/B,CAAoC,IAApC,CAAlB;AAA6D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,+CAAP;AAAzE,QAAJ,CAVF,CAtLF,EAkME;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK6W,qBAAL,CAA2B+E,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAArE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,0BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B5B,cAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKsK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B7B,cAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACyK,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,wBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,oBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,gBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKzC,2BAAL,CAAiCyC,IAAjC,CAAsC,IAAtC,CAAlB;AAA+D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gDAAP;AAA3E,QAAJ,CAVF,CAlMF,EA8ME;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK8W,WAAL,CAAiB8E,IAAjB,CAAsB,IAAtB,CAAlB;AAA+C,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gCAAP;AAA3D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,iBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B3B,KAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKqK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,+BAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B5B,KAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACwK,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,sBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKG,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,EAA+B,OAA/B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,OAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKxC,iBAAL,CAAuBwC,IAAvB,CAA4B,IAA5B,CAAlB;AAAqD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,uCAAP;AAAjE,QAAJ,CAVF,CA9MF,EA0NE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK+W,eAAL,CAAqB6E,IAArB,CAA0B,IAA1B,CAAlB;AAAoD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAAhE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,qBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B1B,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKoK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B3B,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACuK,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA1D,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,WAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKvC,qBAAL,CAA2BuC,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CA1NF,EAsOE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKgX,iBAAL,CAAuB4E,IAAvB,CAA4B,IAA5B,CAAlB;AAAqD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,sCAAP;AAAjE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,uBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BzB,WAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKmK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,qCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B1B,WAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACsK,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,uBAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,iBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,aAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKtC,uBAAL,CAA6BsC,IAA7B,CAAkC,IAAlC,CAAlB;AAA2D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,6CAAP;AAAvE,QAAJ,CAVF,CAtOF,EAmPE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKiX,sBAAL,CAA4B2E,IAA5B,CAAiC,IAAjC,CAAlB;AAA0D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAAtE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,4BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BxB,gBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKkK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,0CAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BzB,gBAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACqK,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,4BAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,sBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,kBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKrC,4BAAL,CAAkCqC,IAAlC,CAAuC,IAAvC,CAAlB;AAAgE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,kDAAP;AAA5E,QAAJ,CAVF,CAnPF,EA+PE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKkX,0BAAL,CAAgC0E,IAAhC,CAAqC,IAArC,CAAlB;AAA8D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,+CAAP;AAA1E,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,gCAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BvB,oBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKiK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,8CAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BxB,oBAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACoK,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,gCAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,0BAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,sBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKpC,gCAAL,CAAsCoC,IAAtC,CAA2C,IAA3C,CAAlB;AAAoE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,sDAAP;AAAhF,QAAJ,CAVF,CA/PF,EA4QE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKmX,oBAAL,CAA0ByE,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAApE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,2BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BtB,cAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKgK,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BvB,cAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACmK,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACD,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,oBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,gBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKnC,0BAAL,CAAgCmC,IAAhC,CAAqC,IAArC,CAAlB;AAA8D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gDAAP;AAA1E,QAAJ,CAVF,CA5QF,EAwRE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKoX,kBAAL,CAAwBwE,IAAxB,CAA6B,IAA7B,CAAlB;AAAsD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,uCAAP;AAAlE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,wBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4B3I,YAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKqR,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,sCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+B5I,YAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACwR,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,uBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,kBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,cAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKlC,wBAAL,CAA8BkC,IAA9B,CAAmC,IAAnC,CAAlB;AAA4D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,8CAAP;AAAxE,QAAJ,CAVF,CAxRF,EAoSE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKqX,mBAAL,CAAyBuE,IAAzB,CAA8B,IAA9B,CAAlB;AAAuD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,wCAAP;AAAnE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,yBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BZ,aAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKsJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,uCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+Bb,aAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACyJ,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,sBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA9E,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,eAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKjC,yBAAL,CAA+BiC,IAA/B,CAAoC,IAApC,CAAlB;AAA6D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,+CAAP;AAAzE,QAAJ,CAVF,CApSF,EAgTE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKsX,cAAL,CAAoBsE,IAApB,CAAyB,IAAzB,CAAlB;AAAkD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,mCAAP;AAA9D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,oBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BnB,QAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK6J,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,kCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BpB,QAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACgK,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,4BAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,cAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,UAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKhC,oBAAL,CAA0BgC,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,0CAAP;AAApE,QAAJ,CAVF,CAhTF,EA4TE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKuX,aAAL,CAAmBqE,IAAnB,CAAwB,IAAxB,CAAlB;AAAiD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,kCAAP;AAA7D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,mBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BlB,OAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK4J,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,iCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BnB,OAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC+J,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA9E,QANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,aAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,SAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK/B,mBAAL,CAAyB+B,IAAzB,CAA8B,IAA9B,CAAlB;AAAuD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAAnE,QAAJ,CAVF,CA5TF,EAyUE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKwX,mBAAL,CAAyBoE,IAAzB,CAA8B,IAA9B,CAAlB;AAAuD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,wCAAP;AAAnE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,yBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BjB,aAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK2J,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,uCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BlB,aAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC8J,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,wBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,mBAA3B;AAA9E,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,eAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK9B,yBAAL,CAA+B8B,IAA/B,CAAoC,IAApC,CAAlB;AAA6D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,+CAAP;AAAzE,QAAJ,CAVF,CAzUF,EAqVE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKyX,gBAAL,CAAsBmE,IAAtB,CAA2B,IAA3B,CAAlB;AAAoD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,qCAAP;AAAhE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,sBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BhB,UAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK0J,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,oCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BT,IAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACqJ,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,sBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,gBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,YAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK7B,sBAAL,CAA4B6B,IAA5B,CAAiC,IAAjC,CAAlB;AAA0D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,4CAAP;AAAtE,QAAJ,CAVF,CArVF,EAiWE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK0X,uBAAL,CAA6BkE,IAA7B,CAAkC,IAAlC,CAAlB;AAA2D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,4CAAP;AAAvE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,6BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4Bf,iBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKyJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,2CAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BT,IAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACqJ,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,6BAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,uBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,YAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK5B,6BAAL,CAAmC4B,IAAnC,CAAwC,IAAxC,CAAlB;AAAiE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,mDAAP;AAA7E,QAAJ,CAVF,CAjWF,EA6WE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK2X,oBAAL,CAA0BiE,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAApE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,0BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BrB,cAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK+J,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BtB,cAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACkK,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,0BAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,oBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,gBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK3B,0BAAL,CAAgC2B,IAAhC,CAAqC,IAArC,CAAlB;AAA8D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gDAAP;AAA1E,QAAJ,CAVF,CA7WF,EAyXE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK2X,oBAAL,CAA0BiE,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,iDAAP;AAApE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,mCAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BpB,sBAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAK8J,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,gDAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BrB,sBAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACiK,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,kCAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,4BAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,wBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK1B,kCAAL,CAAwC0B,IAAxC,CAA6C,IAA7C,CAAlB;AAAsE,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,wDAAP;AAAlF,QAAJ,CAVF,CAzXF,EAsYE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK6X,oBAAL,CAA0B+D,IAA1B,CAA+B,IAA/B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,yCAAP;AAApE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,2BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4Bd,cAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKwJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+Bf,cAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC2J,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,QANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,oBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,gBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKzB,0BAAL,CAAgCyB,IAAhC,CAAqC,IAArC,CAAlB;AAA8D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,gDAAP;AAA1E,QAAJ,CAVF,CAtYF,EAkZE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK8X,qBAAL,CAA2B8D,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,0CAAP;AAArE,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,4BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4Bb,eAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKuJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,yCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+Bd,eAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAAC0J,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,0BAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,iBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKxB,2BAAL,CAAiCwB,IAAjC,CAAsC,IAAtC,CAAlB;AAA+D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,iDAAP;AAA3E,QAAJ,CAVF,CAlZF,EA8ZE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK+X,eAAL,CAAqB6D,IAArB,CAA0B,IAA1B,CAAlB;AAAmD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAA/D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,qBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BX,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKqJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BZ,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACwJ,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,WAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKvB,qBAAL,CAA2BuB,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CA9ZF,EA0aE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAK+X,eAAL,CAAqB6D,IAArB,CAA0B,IAA1B,CAAlB;AAAmD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,0CAAP;AAA/D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,4BAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BV,eAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKoJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,yCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BX,eAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACuJ,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,2BAA3B;AAA1D,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE;AAAT,SAA5B;AAAiD,eAAO,EAAE,KAAKE,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA1D,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,iBAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKtB,2BAAL,CAAiCsB,IAAjC,CAAsC,IAAtC,CAAlB;AAA+D,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,iDAAP;AAA3E,QAAJ,CAVF,CA1aF,EAsbE;AAAI,iBAAS,EAAC;AAAd,SACE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKiY,eAAL,CAAqB2D,IAArB,CAA0B,IAA1B,CAAlB;AAAmD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oCAAP;AAA/D,QAAJ,CADF,EAEE;AAAI,iBAAS,EAAC;AAAd,qBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,SAAuB,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBG,KAAtB,CAA4BT,SAAnD,CAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,SAAyB,KAAKmJ,cAAL,CAAoB1b,GAAG,CAAC,IAAD,EAAO,mCAAP,CAAvB,CAAzB,CAJF,EAKE;AAAI,iBAAS,EAAC;AAAd,SAA0B,KAAKkD,IAAL,CAAU2P,WAAV,CAAsBI,QAAtB,CAA+BV,SAAzD,CALF,EAME;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACsJ,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,qBAA3B;AAA9E,gBANF,EAOE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B,SAA5B;AAAqE,eAAO,EAAE,KAAKC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,EAA2B,eAA3B;AAA9E,gBAPF,EAQE;AAAI,iBAAS,EAAC,MAAd;AAAqB,aAAK,EAAE;AAACC,gBAAM,EAAE,SAAT;AAAoBC,eAAK,EAAE;AAA3B;AAA5B,gBARF,EASE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACD,gBAAM,EAAE;AAAT,SAA9B;AAAmD,eAAO,EAAE,KAAKhB,gBAAL,CAAsBe,IAAtB,CAA2B,IAA3B,EAAiC,WAAjC;AAA5D,kBATF,EAUE,gCAAI,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKrB,qBAAL,CAA2BqB,IAA3B,CAAgC,IAAhC,CAAlB;AAAyD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,2CAAP;AAArE,QAAJ,CAVF,CAtbF,CAnBF,CADJ,CADF;AA2dD;;;;;SACDic,oB;kCAAqB1G,U,EAAW;AAC9B9U,aAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC6U,UAApC;;AAEA,UAAI2G,OAAO,CAAC,eAAD,CAAX,EAA8B;AAC5B,YAAG3G,UAAU,KAAK,OAAlB,EAA0B;AACxBlV,gBAAM,CAACsS,IAAP,CAAY,uBAAZ,EAAqC,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AAC1D,gBAAGA,MAAH,EAAU;AACRrC,qBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBoC,MAAtB;AACD;AACF,WAJD;AAMD;AACF;AAEF;;;;;SACDkZ,c;4BAAezG,U,EAAW;AACxB9U,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC6U,UAAvC;;AAEA,UAAI2G,OAAO,CAAC,eAAD,CAAX,EAA8B;AAC5B,YAAG3G,UAAU,KAAK,OAAlB,EAA0B;AACxB9U,iBAAO,CAACC,GAAR,CAAY,4CAAZ;AACAL,gBAAM,CAACsS,IAAP,CAAY,gBAAZ,EAA8B,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AACnD,gBAAGD,KAAH,EAAS;AACPpC,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBmC,KAArB;AACD;;AACD,gBAAGC,MAAH,EAAU;AACRrC,qBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBoC,MAAtB;AACD;AACF,WAPD;AAQD;AACF;AAEF;;;;;SACDiZ,U;wBAAWI,S,EAAU;AACnB1b,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Byb,SAA1B,EADmB,CAGnB;;AACE,UAAID,OAAO,CAAC,eAAD,CAAX,EAA8B;AAC5B7b,cAAM,CAACsS,IAAP,CAAYwJ,SAAZ,EAAuB,UAAStZ,KAAT,EAAgBC,MAAhB,EAAuB;AAC5CzC,gBAAM,CAACsS,IAAP,CAAY,gBAAZ,EAA8B,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AACnD,gBAAGA,MAAH,EAAU;AACRK,qBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BN,MAA7B;AACD;AACF,WAJD;AAKD,SAND;AAOD,OAZgB,CAanB;AACA;AACA;;AAED;;;;;;EAv7CuCkF,KAAK,CAACuE,S;;AA47ChDrE,UAAU,CAACwF,oBAAoB,CAAClB,SAAtB,EAAiCvE,eAAjC,CAAV;AA/lDAhI,MAAM,CAACmF,aAAP,CAgmDesI,oBAhmDf,E;;;;;;;;;;;;;;;;;ACAAzN,MAAM,CAACiG,MAAP,CAAc;AAACI,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA;AAAtB,CAAd;AAA+D,IAAI8V,IAAJ,EAAS3P,WAAT,EAAqBlF,UAArB,EAAgCF,QAAhC,EAAyCC,SAAzC,EAAmDsF,UAAnD,EAA8DyP,YAA9D;AAA2Epc,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACkc,MAAD,YAAMjc,CAAN,EAAQ;AAACic,QAAI,GAACjc,CAAL;AAAO,GAAhB;AAAiBsM,aAAjB,YAA6BtM,CAA7B,EAA+B;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA9C;AAA+CoH,YAA/C,YAA0DpH,CAA1D,EAA4D;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAA1E;AAA2EkH,UAA3E,YAAoFlH,CAApF,EAAsF;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAlG;AAAmGmH,WAAnG,YAA6GnH,CAA7G,EAA+G;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA5H;AAA6HyM,YAA7H,YAAwIzM,CAAxI,EAA0I;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAAxJ;AAAyJkc,cAAzJ,YAAsKlc,CAAtK,EAAwK;AAACkc,gBAAY,GAAClc,CAAb;AAAe;AAAxL,CAA1B,EAAoN,CAApN;AAAuN,IAAI0H,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe2H,MAAf,YAAoB3H,CAApB,EAAsB;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI0N,KAAJ,EAAUyO,SAAV,EAAoBC,WAApB,EAAgCC,iBAAhC,EAAkDC,QAAlD,EAA2DC,cAA3D;AAA0Ezc,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ,GAAlB;AAAmBmc,WAAnB,YAA6Bnc,CAA7B,EAA+B;AAACmc,aAAS,GAACnc,CAAV;AAAY,GAA5C;AAA6Coc,aAA7C,YAAyDpc,CAAzD,EAA2D;AAACoc,eAAW,GAACpc,CAAZ;AAAc,GAA1E;AAA2Eqc,mBAA3E,YAA6Frc,CAA7F,EAA+F;AAACqc,qBAAiB,GAACrc,CAAlB;AAAoB,GAApH;AAAqHsc,UAArH,YAA8Htc,CAA9H,EAAgI;AAACsc,YAAQ,GAACtc,CAAT;AAAW,GAA5I;AAA6Iuc,gBAA7I,YAA4Jvc,CAA5J,EAA8J;AAACuc,kBAAc,GAACvc,CAAf;AAAiB;AAAhL,CAAhC,EAAkN,CAAlN;AAAqN,IAAIsH,cAAJ,EAAmBC,cAAnB,EAAkCF,SAAlC,EAA4CI,aAA5C;AAA0D3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACuH,gBAAD,YAAgBtH,CAAhB,EAAkB;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAApC;AAAqCuH,gBAArC,YAAoDvH,CAApD,EAAsD;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAAxE;AAAyEqH,WAAzE,YAAmFrH,CAAnF,EAAqF;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAAlG;AAAmGyH,eAAnG,YAAiHzH,CAAjH,EAAmH;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAApI,CAAvC,EAA6K,CAA7K;AAAgL,IAAIH,GAAJ,EAAQoI,GAAR;AAAYnI,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM;AAA5B,CAArB,EAAmD,CAAnD;AAAsD,IAAIqI,iBAAJ;AAAsBvI,MAAM,CAACC,IAAP,CAAY,0CAAZ,EAAuD;AAACsI,mBAAD,YAAmBrI,CAAnB,EAAqB;AAACqI,qBAAiB,GAACrI,CAAlB;AAAoB;AAA1C,CAAvD,EAAmG,CAAnG;AAAsG,IAAIwc,wBAAJ;AAA6B1c,MAAM,CAACC,IAAP,CAAY,kDAAZ,EAA+D;AAACyc,0BAAD,YAA0Bxc,CAA1B,EAA4B;AAACwc,4BAAwB,GAACxc,CAAzB;AAA2B;AAAxD,CAA/D,EAAyH,CAAzH;AAA4H,IAAI2M,eAAJ;AAAoB7M,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAAC4M,iBAAD,YAAiB3M,CAAjB,EAAmB;AAAC2M,mBAAe,GAAC3M,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,CAA7F;AAAgG,IAAIyc,kBAAJ;AAAuB3c,MAAM,CAACC,IAAP,CAAY,2CAAZ,EAAwD;AAAC0c,oBAAD,YAAoBzc,CAApB,EAAsB;AAACyc,sBAAkB,GAACzc,CAAnB;AAAqB;AAA5C,CAAxD,EAAsG,CAAtG;AAAyG,IAAI0c,cAAJ;AAAmB5c,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAAC2c,gBAAD,YAAgB1c,CAAhB,EAAkB;AAAC0c,kBAAc,GAAC1c,CAAf;AAAiB;AAApC,CAApD,EAA0F,CAA1F;AAA6F,IAAI2c,yBAAJ;AAA8B7c,MAAM,CAACC,IAAP,CAAY,mDAAZ,EAAgE;AAAC4c,2BAAD,YAA2B3c,CAA3B,EAA6B;AAAC2c,6BAAyB,GAAC3c,CAA1B;AAA4B;AAA1D,CAAhE,EAA4H,EAA5H;AAAgI,IAAI4c,qBAAJ;AAA0B9c,MAAM,CAACC,IAAP,CAAY,+CAAZ,EAA4D;AAAC6c,uBAAD,YAAuB5c,CAAvB,EAAyB;AAAC4c,yBAAqB,GAAC5c,CAAtB;AAAwB;AAAlD,CAA5D,EAAgH,EAAhH;AAAoH,IAAI6c,sBAAJ;AAA2B/c,MAAM,CAACC,IAAP,CAAY,gDAAZ,EAA6D;AAAC8c,wBAAD,YAAwB7c,CAAxB,EAA0B;AAAC6c,0BAAsB,GAAC7c,CAAvB;AAAyB;AAApD,CAA7D,EAAmH,EAAnH;AAAuH,IAAI8c,aAAJ;AAAkBhd,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAAC+c,eAAD,YAAe9c,CAAf,EAAiB;AAAC8c,iBAAa,GAAC9c,CAAd;AAAgB;AAAlC,CAAnD,EAAuF,EAAvF;AAA2F,IAAI+c,eAAJ;AAAoBjd,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAACgd,iBAAD,YAAiB/c,CAAjB,EAAmB;AAAC+c,mBAAe,GAAC/c,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,EAA7F;AAAiG,IAAIU,qBAAJ;AAA0BZ,MAAM,CAACC,IAAP,CAAY,iCAAZ,EAA8C;AAAA,uBAASC,CAAT,EAAW;AAACU,yBAAqB,GAACV,CAAtB;AAAwB;AAApC,CAA9C,EAAoF,EAApF;AAAwF,IAAIgd,MAAJ;AAAWld,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAACgd,UAAM,GAAChd,CAAP;AAAS;AAArB,CAAjC,EAAwD,EAAxD;AAA4D,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAA8C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,EAA/E;AAAmF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,EAArD;AAAyD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;;AA0CxtF;AAEA,IAAIG,QAAQ,GAAG,UAAUC,GAAV,EAAe;AAC5B;AACAC,YAAU,CAAC,YAAY;AACrB;AACAC,WAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAAZ;AACD,GAHS,EAGP,CAHO,CAAV;AAID,CAND;;AASA4C,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,IAAjC;;IAGakD,oB;;;;;AACX,gCAAYyC,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SACDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE,EADE;AAETgE,WAAG,EAAE;AACH+P,6BAAmB,EAAE,EADlB;AAEH7M,mBAAS,EAAE,EAFR;AAGHE,oBAAU,EAAE,EAHT;AAIHM,2BAAiB,EAAE,EAJhB;AAKHI,uBAAa,EAAE,EALZ;AAMHI,qBAAW,EAAE,EANV;AAOHC,0BAAgB,EAAE,EAPf;AAQHC,8BAAoB,EAAE,EARnB;AASHpH,sBAAY,EAAE,EATX;AAUHwH,kBAAQ,EAAE,EAVP;AAWHG,oBAAU,EAAE;AAXT,SAFI;AAeTqL,iBAAS,EAAE;AACTD,6BAAmB,EAAE,EADZ;AAET7M,mBAAS,EAAE,EAFF;AAGTE,oBAAU,EAAE,EAHH;AAITM,2BAAiB,EAAE,EAJV;AAKTI,uBAAa,EAAE,EALN;AAMTI,qBAAW,EAAE,EANJ;AAOTC,0BAAgB,EAAE,EAPT;AAQTC,8BAAoB,EAAE,EARb;AASTpH,sBAAY,EAAE,EATL;AAUTwH,kBAAQ,EAAE,EAVD;AAWTG,oBAAU,EAAE;AAXH,SAfF;AA4BTsL,aAAK,EAAE,EA5BE;AA6BTC,uBAAe,EAAEpa,OAAO,CAACnD,GAAR,CAAY,iBAAZ,CA7BR;AA8BTwd,mBAAW,EAAEra,OAAO,CAACnD,GAAR,CAAY,aAAZ,CA9BJ;AA+BTyd,uBAAe,EAAEta,OAAO,CAACnD,GAAR,CAAY,iBAAZ;AA/BR,OAAX;;AAkCA,UAAGK,MAAM,CAACkC,IAAP,EAAH,EAAiB;AACf,YAAG,QAAOX,mBAAP,uDAAOA,mBAAP,OAA+B,QAAlC,EAA2C;AACzCsB,cAAI,CAACmK,GAAL,CAAS+P,mBAAT,GAA+Bxb,mBAAmB,CAACoE,IAApB,GAA2B+E,KAA3B,EAA/B;AACD;;AACD,YAAG,QAAOsI,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/BnQ,cAAI,CAACmK,GAAL,CAASqQ,SAAT,GAAqBrK,SAAS,CAACrN,IAAV,GAAiB+E,KAAjB,EAArB;AACD;;AACD,YAAG,QAAOhJ,UAAP,uDAAOA,UAAP,OAAsB,QAAzB,EAAkC;AAChC,cAAIub,KAAK,GAAG,EAAZ;;AACA,cAAGna,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CAAH,EAAqC;AACnCsd,iBAAK,CAACK,kBAAN,GAA2B;AAACC,kBAAI,EAAE,CAAC,kBAAD,CAAP,CAA8B;;AAA9B,aAA3B;AACD;;AACD1a,cAAI,CAACmK,GAAL,CAASoD,UAAT,GAAsB1O,UAAU,CAACiE,IAAX,CAAgBsX,KAAhB,EAAuBvS,KAAvB,EAAtB;AACD;;AACD,YAAG,QAAO6I,iBAAP,uDAAOA,iBAAP,OAA6B,QAAhC,EAAyC;AACvC1Q,cAAI,CAACmK,GAAL,CAAS0D,iBAAT,GAA6B6C,iBAAiB,CAAC5N,IAAlB,GAAyB+E,KAAzB,EAA7B;AACD;;AACD,YAAG,QAAO/I,aAAP,uDAAOA,aAAP,OAAyB,QAA5B,EAAqC;AACnCkB,cAAI,CAACmK,GAAL,CAAS8D,aAAT,GAAyBnP,aAAa,CAACgE,IAAd,GAAqB+E,KAArB,EAAzB;AACD;;AACD,YAAG,QAAOqJ,WAAP,uDAAOA,WAAP,OAAuB,QAA1B,EAAmC;AACjClR,cAAI,CAACmK,GAAL,CAASkE,WAAT,GAAuB6C,WAAW,CAACpO,IAAZ,GAAmB+E,KAAnB,EAAvB;AACD;;AACD,YAAG,QAAOqJ,WAAP,uDAAOA,WAAP,OAAuB,QAA1B,EAAmC;AACjClR,cAAI,CAACmK,GAAL,CAASmE,gBAAT,GAA4BtP,gBAAgB,CAAC8D,IAAjB,GAAwB+E,KAAxB,EAA5B;AACD;;AACD,YAAG,QAAOsJ,oBAAP,uDAAOA,oBAAP,OAAgC,QAAnC,EAA4C;AAC1CnR,cAAI,CAACmK,GAAL,CAASoE,oBAAT,GAAgC4C,oBAAoB,CAACrO,IAArB,GAA4B+E,KAA5B,EAAhC;AACD;;AACD,YAAG,QAAOyJ,QAAP,uDAAOA,QAAP,OAAoB,QAAvB,EAAgC;AAC9BtR,cAAI,CAACmK,GAAL,CAASwE,QAAT,GAAoB2C,QAAQ,CAACxO,IAAT,GAAgB+E,KAAhB,EAApB;AACD;;AACD,YAAG,QAAO9I,YAAP,uDAAOA,YAAP,OAAwB,QAA3B,EAAoC;AAClCiB,cAAI,CAACmK,GAAL,CAAShD,YAAT,GAAwBpI,YAAY,CAAC+D,IAAb,GAAoB+E,KAApB,EAAxB;AACD;;AACD,YAAG,QAAO5I,UAAP,uDAAOA,UAAP,OAAsB,QAAzB,EAAkC;AAChCe,cAAI,CAACmK,GAAL,CAAS2E,UAAT,GAAsB7P,UAAU,CAAC6D,IAAX,GAAkB+E,KAAlB,EAAtB;AACD;;AAGD,YAAI8S,OAAO,GAAG7d,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,iBAAhB,CAAjB;;AAEA,YAAGsb,OAAH,EAAW;AACT,cAAGA,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACC,MAAR,CAAe9Z,MAAf,GAAwB,CAA7C,EAA+C;AAC7Cd,gBAAI,CAACoa,KAAL,CAAWS,IAAX,GAAkB,EAAlB;AACAF,mBAAO,CAACC,MAAR,CAAepc,OAAf,CAAuB,UAASsc,IAAT,EAAc;AACnC,kBAAGA,IAAH,EAAQ;AACN9a,oBAAI,CAACoa,KAAL,CAAWS,IAAX,CAAgBtS,IAAhB,CAAqB;AAAE,+BAAa;AAAE,8BAAU,MAAMuS;AAAlB;AAAf,iBAArB;AACD;AACF,aAJD;AAKD;;AAED,cAAGH,OAAO,CAACI,QAAR,IAAoBJ,OAAO,CAACI,QAAR,CAAiBja,MAAjB,GAA0B,CAAjD,EAAmD;AACjDd,gBAAI,CAACoa,KAAL,CAAWY,GAAX,GAAiB,EAAjB;AACAL,mBAAO,CAACI,QAAR,CAAiBvc,OAAjB,CAAyB,UAASsc,IAAT,EAAc;AACrC,kBAAGA,IAAH,EAAQ;AACN9a,oBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,+BAAa;AAAE,8BAAU,MAAMuS;AAAlB;AAAf,iBAApB;AACD;AACF,aAJD;AAKD;AACF;AACF;;AAEDvd,aAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDwC,IAAjD;AACA,aAAOA,IAAP;AACD;;;;;SACDmJ,Q;sBAASC,G,EAAI;AACXnE,oBAAc,CAACsD,IAAf,CAAoBa,GAApB;AACD;;;;;SACD6R,c;8BAAgB;AACdhW,oBAAc,CAACsD,IAAf,CAAoB,oBAApB;AACD;;;;;SACD2S,U;0BAAY;AACVjW,oBAAc,CAACsD,IAAf,CAAoB,SAApB;AACD;;;;;SACD4S,W;yBAAYvD,c,EAAe;AACzBra,aAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Boa,cAA3B;AACD;;;;;SACDwD,kB;kCAAoB;AAClBzd,2BAAqB,CAACC,YAAtB;AACD;;;;;SACD4H,M;sBAAQ;AAEN,UAAI6V,aAAJ;AACA,UAAIC,aAAJ;AACA,UAAIC,cAAJ;AACA,UAAIC,qBAAJ;AACA,UAAIC,iBAAJ;AACA,UAAIC,eAAJ;AACA,UAAIC,oBAAJ;AACA,UAAIC,wBAAJ;AACA,UAAIC,gBAAJ;AACA,UAAIC,cAAJ;AACA,UAAIC,YAAJ;AAEA,UAAIC,YAAY,GAAG,IAAnB;;AAEA,UAAG1K,QAAQ,CAACxO,IAAT,GAAgB2E,KAAhB,KAA0B,CAA7B,EAA+B;AAC7BuU,oBAAY,GAAG,KAAf;AACAD,oBAAY,GAAG,iCACb,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,aAAD;AACE,cAAI,EAAG,KAAK/b,IAAL,CAAUmK,GAAV,CAAcwE;AADvB,UADF,CAFF,EAOE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKxF,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,WAAzB;AAAlC,UADF,CAPF,CADa,EAYb,oBAAC,aAAD,OAZa,CAAf;AAcD;;AAGD,UAAGha,mBAAmB,CAACoE,IAApB,GAA2B2E,KAA3B,KAAqC,CAAxC,EAA0C;AACxCuU,oBAAY,GAAG,KAAf;AACAX,qBAAa,GAAG,iCACd,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,wBAAD;AACE,cAAI,EAAG,KAAKrb,IAAL,CAAUmK,GAAV,CAAc+P,mBADvB;AAEE,wBAAc,EAAE,IAFlB;AAGE,sBAAY,EAAE,IAHhB;AAIE,sBAAY,EAAE,KAJhB;AAKE,qBAAW,EAAE,KAAKla,IAAL,CAAUqa,eALzB;AAME,4BAAkB,EAAE;AANtB,UADF,CAFF,EAYE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,YAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,WAA5B;AAA1C,UAFF,CAZF,CADc,EAkBd,oBAAC,aAAD,OAlBc,CAAhB;AAoBD;;AAED,UAAGvI,SAAS,CAACrN,IAAV,GAAiB2E,KAAjB,KAA2B,CAA9B,EAAgC;AAC9BuU,oBAAY,GAAG,KAAf;AACAV,qBAAa,GAAG,iCACd,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,cAAD;AACE,cAAI,EAAG,KAAKtb,IAAL,CAAUmK,GAAV,CAAcqQ,SADvB;AAEE,qBAAW,EAAE,KAAKxa,IAAL,CAAUqa,eAFzB;AAGE,sBAAY,EAAE;AAHhB,UADF,CAFF,EASE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,aAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,WAA5B;AAA1C,UAFF,CATF,CADc,EAed,oBAAC,aAAD,OAfc,CAAhB;AAiBD;;AACD,UAAG7Z,UAAU,CAACiE,IAAX,GAAkB2E,KAAlB,KAA4B,CAA/B,EAAiC;AAC/BuU,oBAAY,GAAG,KAAf;AACAT,sBAAc,GAAG,iCACf,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,eAAD;AACE,cAAI,EAAG,KAAKvb,IAAL,CAAUmK,GAAV,CAAcoD,UADvB;AAEE,wBAAc,EAAE,IAFlB;AAGE,sBAAY,EAAE,IAHhB;AAIE,uBAAa,EAAE,IAJjB;AAKE,4BAAkB,EAAE,IALtB;AAME,0BAAgB,EAAE,IANpB;AAOE,yBAAe,EAAE,KAAKvN,IAAL,CAAUqa;AAP7B,UADF,CAFF,EAaE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,aAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,YAA5B;AAA1C,UAFF,CAbF,CADe,EAmBf,oBAAC,aAAD,OAnBe,CAAjB;AAqBD;;AACD,UAAGhI,iBAAiB,CAAC5N,IAAlB,GAAyB2E,KAAzB,KAAmC,CAAtC,EAAwC;AACtCuU,oBAAY,GAAG,KAAf;AACAR,6BAAqB,GAAG,iCACtB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,sBAAD;AACE,cAAI,EAAG,KAAKxb,IAAL,CAAUmK,GAAV,CAAc0D,iBADvB;AAEE,yBAAe,EAAE,KAAK7N,IAAL,CAAUqa,eAF7B;AAGE,sBAAY,EAAE;AAHhB,UADF,CAFF,EAUE,oBAAC,WAAD,QACA,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,qBAAzB;AAAlC,UADA,EAEA,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,mBAA5B;AAA1C,UAFA,CAVF,CADsB,EAgBtB,oBAAC,aAAD,OAhBsB,CAAxB;AAkBD;;AACD,UAAG5Z,aAAa,CAACgE,IAAd,GAAqB2E,KAArB,KAA+B,CAAlC,EAAoC;AAClCuU,oBAAY,GAAG,KAAf;AACAP,yBAAiB,GAAG,iCAClB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,kBAAD;AACE,cAAI,EAAG,KAAKzb,IAAL,CAAUmK,GAAV,CAAc8D,aADvB;AAEE,yBAAe,EAAE,KAAKjO,IAAL,CAAUqa,eAF7B;AAGE,sBAAY,EAAE;AAHhB,UADF,CAFF,EASE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,gBAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,eAA5B;AAA1C,UAFF,CATF,CADkB,EAelB,oBAAC,aAAD,OAfkB,CAApB;AAiBD,OA/IK,CAgJN;AACA;AACA;;;AACA,UAAG1Z,gBAAgB,CAAC8D,IAAjB,GAAwB2E,KAAxB,KAAkC,CAArC,EAAuC;AACrCuU,oBAAY,GAAG,KAAf;AACAL,4BAAoB,GAAG,iCACrB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,qBAAD;AACE,cAAI,EAAG,KAAK3b,IAAL,CAAUmK,GAAV,CAAcmE,gBADvB;AAEE,yBAAe,EAAE,KAAKtO,IAAL,CAAUqa,eAF7B;AAGE,sBAAY,EAAE;AAHhB,UADF,CAFF,EAUE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,qBAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,kBAA5B;AAA1C,UAFF,CAVF,CADqB,EAgBrB,oBAAC,aAAD,OAhBqB,CAAvB;AAkBD;;AACD,UAAGvH,oBAAoB,CAACrO,IAArB,GAA4B2E,KAA5B,KAAsC,CAAzC,EAA2C;AACzCuU,oBAAY,GAAG,KAAf;AACAJ,gCAAwB,GAAG,iCACzB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,yBAAD;AACE,cAAI,EAAG,KAAK5b,IAAL,CAAUmK,GAAV,CAAcoE,oBADvB;AAEE,yBAAe,EAAE,KAAKvO,IAAL,CAAUqa,eAF7B;AAGE,sBAAY,EAAE;AAHhB,UADF,CAFF,OAUE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,wBAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,sBAA5B;AAA1C,UAFF,CAVF,CADyB,EAgBzB,oBAAC,aAAD,OAhByB,CAA3B;AAkBD;;AACD,UAAG3Z,YAAY,CAAC+D,IAAb,GAAoB2E,KAApB,KAA8B,CAAjC,EAAmC;AACjCuU,oBAAY,GAAG,KAAf;AACAH,wBAAgB,GAAG,iCACjB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,iBAAD,CACE;AADF;AAEE,kBAAQ,EAAE,KAFZ;AAGE,yBAAe,EAAE,KAHnB;AAIE,wBAAc,EAAE,KAJlB;AAKE,yBAAe,EAAE,KAAK7b,IAAL,CAAUqa,eAL7B;AAME,mBAAS,EAAE,IANb;AAOE,eAAK,EAAE,KAAKra,IAAL,CAAUoa;AAPnB,UADF,CAFF,EAcE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKjR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,eAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,cAA5B;AAA1C,UAFF,CAdF,CADiB,EAoBjB,oBAAC,aAAD,OApBiB,CAAnB;AAsBD;;AACD,UAAGzZ,UAAU,CAAC6D,IAAX,GAAkB2E,KAAlB,KAA4B,CAA/B,EAAiC;AAC/BuU,oBAAY,GAAG,KAAf;AACAF,sBAAc,GAAG,iCACf,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,eAAD;AACE,cAAI,EAAG,KAAK9b,IAAL,CAAUmK,GAAV,CAAc2E,UADvB;AAEE,wBAAc,EAAE,IAFlB;AAGE,qBAAW,EAAE,KAAK9O,IAAL,CAAUqa,eAHzB;AAIE,sBAAY,EAAE,IAJhB;AAKE,uBAAa,EAAE,IALjB;AAME,sBAAY,EAAE,IANhB;AAOE,sBAAY,EAAE;AAPhB,UADF,CAFF,EAcE,oBAAC,WAAD,QACE,oBAAC,UAAD;AAAY,eAAK,EAAC,KAAlB;AAAwB,iBAAO,EAAG,KAAKlR,QAAL,CAAcuP,IAAd,CAAmB,IAAnB,EAAyB,aAAzB;AAAlC,UADF,EAEE,oBAAC,UAAD;AAAY,eAAK,EAAC,aAAlB;AAAgC,iBAAO,EAAG,KAAKyC,WAAL,CAAiBzC,IAAjB,CAAsB,IAAtB,EAA4B,YAA5B;AAA1C,UAFF,CAdF,CADe,EAoBf,oBAAC,aAAD,OApBe,CAAjB;AAsBD;;AAGD,UAAIuD,YAAJ;AACA,UAAIjW,KAAJ;AACA,UAAIkW,WAAW,GAAG;AAChBC,iBAAS,EAAE,QADK;AAEhB3U,gBAAQ,EAAE,UAFM;AAGhBF,WAAG,EAAG,CAACrH,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,IAAoC,GAArC,GAA4C,GAA5C,GAAkD;AAHvC,OAAlB;;AAMA,UAAGK,MAAM,CAACiC,MAAP,EAAH,EAAmB;AACjB,YAAG4c,YAAH,EAAgB;AACd,cAAG7e,MAAM,CAACif,SAAV,EAAoB;AAClB,gBAAG,CAAC,QAAD,EAAWvZ,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChDkU,0BAAY,GAAG,oBAAC,IAAD,QACb,oBAAC,GAAD;AAAK,qBAAK,EAAEC;AAAZ,iBACE;AAAI,qBAAK,EAAE;AAACG,4BAAU,EAAE;AAAb;AAAX,yCADF,EAEE,oBAAC,YAAD;AAAc,qBAAK,EAAC,4BAApB;AAAiD,uBAAO,EAAG,KAAKjB,kBAAhE;AAAqF,uBAAO,EAAE;AAA9F,gBAFF,CADa,CAAf;AAMD;AACF,WATD,MASO;AACLa,wBAAY,GAAG,oBAAC,IAAD,QACf,oBAAC,GAAD;AAAK,mBAAK,EAAEC;AAAZ,eACE;AAAI,mBAAK,EAAE;AAACG,0BAAU,EAAE;AAAb;AAAX,uCADF,EAEE,oBAAC,YAAD;AAAc,mBAAK,EAAC,uBAApB;AAA4C,qBAAO,EAAE,KAAKpB,cAA1D;AAA2E,qBAAO,EAAE;AAApF,cAFF,CADe,CAAf;AAMD;AACF,SAlBD,MAkBO;AACLjV,eAAK,GAAG,iCACNqV,aADM,EAENC,aAFM,EAGNC,cAHM,EAINC,qBAJM,EAKNC,iBALM,EAMNE,oBANM,EAONE,gBAPM,EAQNE,YARM,EASND,cATM,CAAR;AAWD;AACF,OAhCD,MAgCO;AACLG,oBAAY,GAAG,oBAAC,IAAD,QACb,oBAAC,GAAD;AAAK,eAAK,EAAEC;AAAZ,WACE;AAAI,eAAK,EAAE;AAACG,sBAAU,EAAE;AAAb;AAAX,mCADF,EAEE,oBAAC,YAAD;AAAc,eAAK,EAAC,UAApB;AAA+B,iBAAO,EAAE,KAAKnB,UAA7C;AAA0D,iBAAO,EAAE;AAAnE,UAFF,CADa,CAAf;AAMD;;AAID,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,IAAD,QACE,oBAAC,GAAD,QACE,oBAAC,GAAD,QACIe,YADJ,EAEIjW,KAFJ,CADF,CADF,CADF,CADF,CADF;AAcD;;;;;;EA1auClB,KAAK,CAACuE,S;;AA4ahDrE,UAAU,CAAC5B,oBAAoB,CAACkG,SAAtB,EAAiCvE,eAAjC,CAAV;AApeAhI,MAAM,CAACmF,aAAP,CAqeekB,oBAref,E;;;;;;;;;;;;;;;ACAArG,MAAM,CAACiG,MAAP,CAAc;AAACgB,sBAAoB,EAAC;AAAA,WAAIA,oBAAJ;AAAA;AAAtB,CAAd;AAA+D,IAAI7G,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,CAAlD;AAAqD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,CAArD;AAAwD,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIuH,cAAJ,EAAmBF,SAAnB,EAA6BG,KAA7B,EAAmCC,aAAnC;AAAiD3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACwH,gBAAD,YAAgBvH,CAAhB,EAAkB;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApC;AAAqCqH,WAArC,YAA+CrH,CAA/C,EAAiD;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA9D;AAA+DwH,OAA/D,YAAqExH,CAArE,EAAuE;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAAhF;AAAiFyH,eAAjF,YAA+FzH,CAA/F,EAAiG;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAlH,CAAvC,EAA2J,CAA3J;AAA8J,IAAIkH,QAAJ,EAAaoF,WAAb,EAAyBnF,SAAzB,EAAmCkY,SAAnC,EAA6CnD,YAA7C;AAA0Dpc,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACmH,UAAD,YAAUlH,CAAV,EAAY;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAxB;AAAyBsM,aAAzB,YAAqCtM,CAArC,EAAuC;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAAtD;AAAuDmH,WAAvD,YAAiEnH,CAAjE,EAAmE;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAhF;AAAiFqf,WAAjF,YAA2Frf,CAA3F,EAA6F;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAA1G;AAA2Gkc,cAA3G,YAAwHlc,CAAxH,EAA0H;AAACkc,gBAAY,GAAClc,CAAb;AAAe;AAA1I,CAA1B,EAAsK,CAAtK;AAAyK,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,CAAjE;AAAoE,IAAI4H,GAAJ,EAAQF,GAAR;AAAY5H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC6H,KAAD,YAAK5H,CAAL,EAAO;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM,GAAd;AAAe0H,KAAf,YAAmB1H,CAAnB,EAAqB;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM;AAA5B,CAA9B,EAA4D,CAA5D;AAA+D,IAAIsf,cAAJ,EAAmBC,aAAnB;AAAiCzf,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAACuf,gBAAD,YAAgBtf,CAAhB,EAAkB;AAACsf,kBAAc,GAACtf,CAAf;AAAiB,GAApC;AAAqCuf,eAArC,YAAmDvf,CAAnD,EAAqD;AAACuf,iBAAa,GAACvf,CAAd;AAAgB;AAAtE,CAAjC,EAAyG,CAAzG;AAA4G,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,EAArC;;AAiBhpC,IAAGwf,OAAO,CAAC,kCAAD,CAAV,EAA+C;AAjB/C,MAAIC,KAAJ;AAAU3f,QAAM,CAACC,IAAP,CAAY,yCAAZ,EAAsD;AAAC0f,SAAD,YAAOzf,CAAP,EAAS;AAACyf,WAAK,GAACzf,CAAN;AAAQ;AAAlB,GAAtD,EAA0E,EAA1E;AAmBT;;AAEDgD,OAAO,CAAC2F,UAAR,CAAmB,kBAAnB,EAAuC,EAAvC;AACA3F,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACAD,OAAO,CAAC2F,UAAR,CAAmB,yBAAnB,EAA8C,EAA9C;AAEA3F,OAAO,CAAC2F,UAAR,CAAmB,2BAAnB,EAAgD,EAAhD;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,0BAAnB,EAA+C,EAA/C;AAGA,IAAI+W,uBAAuB,GAAG,CAAC;AAC7BC,UAAQ,EAAE,oDADmB;AAE7BC,SAAO,EAAE,0EAFoB;AAG7BC,MAAI,EAAE,eAHuB;AAI7BjU,OAAK,EAAE,CAJsB;AAK7BkU,QAAM,EAAE;AALqB,CAAD,EAM3B;AACDH,UAAQ,EAAE,2DADT;AAEDC,SAAO,EAAE,yDAFR;AAGDC,MAAI,EAAE,KAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CAN2B,EAY3B;AACDH,UAAQ,EAAE,+BADT;AAEDC,SAAO,EAAE,4CAFR;AAGDC,MAAI,EAAE,UAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CAZ2B,EAkB1B;AACFH,UAAQ,EAAE,kDADR;AAEFC,SAAO,EAAE,0DAFP;AAGFC,MAAI,EAAE,YAHJ;AAIFjU,OAAK,EAAE,CAJL;AAKFkU,QAAM,EAAE;AALN,CAlB0B,EAwB3B;AACDH,UAAQ,EAAE,kDADT;AAEDC,SAAO,EAAE,0DAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CAxB2B,EA8B3B;AACDH,UAAQ,EAAE,mDADT;AAEDC,SAAO,EAAE,iEAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CA9B2B,EAoC3B;AACDH,UAAQ,EAAE,4BADT;AAEDC,SAAO,EAAE,uGAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CApC2B,EA0C3B;AACDH,UAAQ,EAAE,mEADT;AAEDC,SAAO,EAAE,2DAFR;AAGDC,MAAI,EAAE,UAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CA1C2B,EAgD3B;AACDH,UAAQ,EAAE,qBADT;AAEDC,SAAO,EAAE,2DAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CAhD2B,EAsD3B;AACDH,UAAQ,EAAE,2BADT;AAEDC,SAAO,EAAE,0DAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CAtD2B,EA4D3B;AACDH,UAAQ,EAAE,uDADT;AAEDC,SAAO,EAAE,iEAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,CAJN;AAKDkU,QAAM,EAAE;AALP,CA5D2B,EAkE3B;AACDH,UAAQ,EAAE,yDADT;AAEDC,SAAO,EAAE,yCAFR;AAGDC,MAAI,EAAE,YAHL;AAIDjU,OAAK,EAAE,EAJN;AAKDkU,QAAM,EAAE;AALP,CAlE2B,EAwE3B;AACDH,UAAQ,EAAE,kEADT;AAEDC,SAAO,EAAE,mCAFR;AAGDC,MAAI,EAAE,KAHL;AAIDjU,OAAK,EAAE,EAJN;AAKDkU,QAAM,EAAE;AALP,CAxE2B,CAA9B;;IAkFa/Y,oB;;;;;;;;;;;SACX8B,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACL6W,mBAAS,EAAE;AACTpE,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBD;AADrB,WADN;AAILE,oBAAU,EAAE;AACVtE,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBD,SADpB;AAEVxU,oBAAQ,EAAE,MAFA;AAGV2U,kBAAM,EAAE;AAHE,WAJP;AASLC,oBAAU,EAAE;AACVxE,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBI;AADpB,WATP;AAYLC,mBAAS,EAAE;AACT1E,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBM,kBADrB;AAET/U,oBAAQ,EAAE,MAFD;AAGT2U,kBAAM,EAAE;AAHC,WAZN;AAiBLK,wBAAc,EAAE;AACdC,uBAAW,EAAElB,cAAc,CAACU,OAAf,CAAuBD;AADtB,WAjBX;AAoBLU,4BAAkB,EAAE;AAClB9E,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBM,kBADZ;AAElB/U,oBAAQ,EAAE;AAFQ,WApBf;AAwBLmV,iCAAuB,EAAE;AACvB/E,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBM;AADP,WAxBpB;AA2BLK,wBAAc,EAAE;AA3BX,SADE;AA8BT9P,iBAAS,EAAE,EA9BF;AA+BT+P,gBAAQ,EAAE,EA/BD;AAgCTC,2BAAmB,EAAE7d,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAhCZ;AAiCTihB,+BAAuB,EAAE9d,OAAO,CAACnD,GAAR,CAAY,yBAAZ;AAjChB,OAAX;;AAoCA,UAAI6T,SAAS,CAAC7N,IAAV,GAAiB2E,KAAjB,KAA2B,CAA/B,EAAiC;AAC/BzH,YAAI,CAAC8N,SAAL,GAAiB6C,SAAS,CAAC7N,IAAV,CAAe;AAC9B,kBAAQ;AACNkb,kBAAM,EAAE/d,OAAO,CAACnD,GAAR,CAAa,kBAAb,CADF;AAENmhB,oBAAQ,EAAE;AAFJ;AADsB,SAAf,EAKdpW,KALc,EAAjB;AAMD;;AAED,UAAG4U,OAAO,CAAC,kCAAD,CAAV,EAA+C;AAC7C,YAAGyB,oBAAH,EAAwB;AACtBle,cAAI,CAAC6d,QAAL,GAAgBK,oBAAoB,CAACC,cAArB,CAAoCrb,IAApC,GAA2C+E,KAA3C,EAAhB;AACD;AACF;;AAED,UAAI/K,GAAG,CAACK,MAAD,EAAS,oCAAT,CAAP,EAAuD;AACrD6C,YAAI,CAACmG,KAAL,CAAW6W,SAAX,CAAqBpE,KAArB,GAA6B4D,aAAa,CAACS,OAAd,CAAsBD,SAAnD;AACAhd,YAAI,CAACmG,KAAL,CAAW+W,UAAX,CAAsBtE,KAAtB,GAA8B4D,aAAa,CAACS,OAAd,CAAsBD,SAApD;AACAhd,YAAI,CAACmG,KAAL,CAAWiX,UAAX,CAAsBxE,KAAtB,GAA8B4D,aAAa,CAACS,OAAd,CAAsBI,YAApD;AACArd,YAAI,CAACmG,KAAL,CAAWmX,SAAX,CAAqB1E,KAArB,GAA6B4D,aAAa,CAACS,OAAd,CAAsBM,kBAAnD;AACAvd,YAAI,CAACmG,KAAL,CAAWqX,cAAX,CAA0B5E,KAA1B,GAAkC4D,aAAa,CAACS,OAAd,CAAsBD,SAAxD;AACAhd,YAAI,CAACmG,KAAL,CAAWuX,kBAAX,CAA8B9E,KAA9B,GAAsC4D,aAAa,CAACS,OAAd,CAAsBM,kBAA5D;AACAvd,YAAI,CAACmG,KAAL,CAAWwX,uBAAX,CAAmC/E,KAAnC,GAA2C4D,aAAa,CAACS,OAAd,CAAsBM,kBAAjE;AACD,OA5Da,CA8Dd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAvd,UAAI,CAACmG,KAAL,CAAWyX,cAAX,GAA4BnZ,KAAK,CAAC2Z,eAAN,EAA5B;AAEA,UAAG/c,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoChE,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CwC,IAA1C;AACpC,aAAOA,IAAP;AACD;;;;;SACDqe,Y;0BAAapW,K,EAAO;AAClBA,WAAK,CAACqW,cAAN;AACD;;;;;SACDC,mB;mCAAqB;AACnBtZ,oBAAc,CAACsD,IAAf,CAAoB,mBAApB;AACD;;;;;SACDiW,a;6BAAe;AACbvZ,oBAAc,CAACsD,IAAf,CAAoB,SAApB;AACD;;;;;SAEDkW,c;4BAAe1B,M,EAAO;AACpB,UAAG1b,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC;AAClChE,eAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDyK,KAAnD,EAA0DyW,GAA1D,EAA+DxW,KAA/D;AACA3K,eAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,IAApB;AACD;;AACDD,aAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCuf,MAAzC;AAEA,UAAInc,IAAI,GAAG,IAAX;;AAEA,cAAQ9D,GAAG,CAAC,IAAD,EAAO,0BAAP,CAAX;AACE,aAAK,CAAL;AACES,iBAAO,CAACC,GAAR,CAAY,6DAAZ,EADF,CAEE;;AAEAyC,iBAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCU,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAA7E;AAEA/K,gBAAM,CAACsS,IAAP,CAAY,eAAZ,EAA6B7O,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAAjE,EAAwE,UAASvI,KAAT,EAAgBC,MAAhB,EAAwB;AAC9F,gBAAID,KAAJ,EAAW;AACTM,qBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD;;AACD,gBAAGN,MAAH,EAAU;AACRrC,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BoC,MAA/B;;AACA,kBAAGA,MAAM,KAAK,kBAAd,EAAiC;AAC/BK,uBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD,eAFD,MAEO;AACLD,uBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD;AACF;AACF,WAZD;AAaAD,iBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,EAAvC;AACA;;AACF,aAAK,CAAL;AACE;AACA,cAAGU,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAAvC,EAA6C;AAC3CjI,mBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD;;AACDD,iBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,EAAvC;AACA;;AACF,aAAK,CAAL;AAEE;;AACF,aAAK,CAAL;AACE/C,gBAAM,CAAC2hB,iBAAP,CACE7e,OAAO,CAACnD,GAAR,CAAY,2BAAZ,CADF,EAEE8D,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAFtC,EAGA,UAASvI,KAAT,EAAgB;AACd,gBAAIA,KAAJ,EAAW;AACTof,kBAAI,CAACC,KAAL,CAAWrf,KAAK,CAACsf,MAAjB,EAAyB,SAAzB;AACD,aAFD,MAEO;AACLF,kBAAI,CAACC,KAAL,CAAW,YAAX,EAAyB,MAAzB,EADK,CAGL;AACA;;AACA,kBAAIpe,IAAI,CAACiF,KAAL,CAAWqZ,KAAX,IAAoBte,IAAI,CAACiF,KAAL,CAAWqZ,KAAX,CAAiBC,YAAzC,EAAuD;AACrDla,8BAAc,CAACsD,IAAf,CAAoB6W,QAAQ,CAACF,KAAT,CAAeC,YAAnC;AACD,eAFD,MAEO,IAAIE,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,cAApC,KAAuDtC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,wBAAhB,CAA9D,EAAyG;AAC9G4F,8BAAc,CAACsD,IAAf,CAAoB,uBAApB;AACD,eAFM,MAEA,IAAI8W,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,UAApC,KAAmDtC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,wBAAhB,CAA1D,EAAqG;AACxG4F,8BAAc,CAACsD,IAAf,CAAoB,mBAApB;AACH,eAFM,MAEA,IAAGzL,GAAG,CAACK,MAAD,EAAS,gCAAT,CAAN,EAAiD;AACtD;AACA8H,8BAAc,CAACsD,IAAf,CAAoBzL,GAAG,CAACK,MAAD,EAAS,gCAAT,EAA2C,GAA3C,CAAvB;AACD,eAHM,MAGA;AACL;AACA8H,8BAAc,CAACsD,IAAf,CAAoB,GAApB;AACD;AACF;AACF,WAzBD;AA0BA;;AACF,aAAK,CAAL;AAEE;;AACF,aAAK,CAAL;AAEE;;AACF,aAAK,CAAL;AACE,cAAG3H,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAAvC,EAA6C;AAC3CjI,mBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD;;AACDD,iBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,EAAvC;AACA;;AACF,aAAK,CAAL;AACE,cAAGU,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAAvC,EAA6C;AAC3CjI,mBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD;;AACDD,iBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,EAAvC;AACA;;AACF,aAAK,CAAL;AACE,cAAGU,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAAvC,EAA6C;AAC3CjI,mBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,CAAnC;AACD;;AACDD,iBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,EAAvC;AAEA;;AACF,aAAK,CAAL;AACE,cAAGU,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAAvC,EAA6C;AAC3CjI,mBAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,EAAnC;AACD;;AACDD,iBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,EAAvC;AAEA;;AACF,aAAK,EAAL;AACE,cAAI6B,IAAI,GAAG9B,OAAO,CAACnD,GAAR,CAAY,0BAAZ,CAAX;AAEA,cAAIyiB,WAAW,GAAG;AAChBC,iBAAK,EAAEvf,OAAO,CAACnD,GAAR,CAAY,2BAAZ,CADS;AAEhB2iB,oBAAQ,EAAE7e,IAAI,CAAC+d,IAAL,CAAUC,mBAAV,CAA8BC,KAA9B,CAAoC3W,KAF9B;AAGhBwX,mBAAO,EAAE;AACP3d,kBAAI,EAAE;AACJ4d,qBAAK,EAAE5d,IAAI,CAAC6d,KAAL,CAAW,GAAX,EAAgB,CAAhB,CADH;AAEJC,sBAAM,EAAE9d,IAAI,CAAC6d,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAFJ;AAGJE,oBAAI,EAAE/d;AAHF;AADC,aAHO;AAUhBge,sBAAU,EAAE;AAVI,WAAlB;AAaAxiB,iBAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC+hB,WAApC;AAEAS,kBAAQ,CAACC,UAAT,CAAoBV,WAApB,EAAiC,UAAS5f,KAAT,EAAgBC,MAAhB,EAAuB;AACtD,gBAAID,KAAJ,EAAW;AACTpC,qBAAO,CAACC,GAAR,CAAY,gCAAgCmC,KAAK,CAACsf,MAAlD,EADS,CAET;;AAEAhf,qBAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCP,KAAK,CAACsf,MAAxC,EAJS,CAMT;AACA;;AACAF,kBAAI,CAACC,KAAL,CAAWrf,KAAK,CAACsf,MAAjB,EAAyB,QAAzB,EARS,CAST;AACD;;AACD,gBAAIrf,MAAJ,EAAY;AACVrC,qBAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CoC,MAA3C;AACArC,qBAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDL,MAAM,CAACiC,MAAP,EAApD;AACA7B,qBAAO,CAACC,GAAR,CAAY,yDAAZ,EAAuE6hB,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,CAAvE,EAHU,CAKV;AACA;;AACA,kBAAIigB,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,SAApC,KAAkDtC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,wBAAhB,CAAzD,EAAoG;AAElG9B,uBAAO,CAACC,GAAR,CAAY,6BAAZ;AACAyH,8BAAc,CAACsD,IAAf,CAAoB,kBAApB,EAHkG,CAKpG;AACA;AACC,eAPD,MAOO,IAAI8W,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,cAApC,KAAuDtC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,wBAAhB,CAA9D,EAAyG;AAC5G9B,uBAAO,CAACC,GAAR,CAAY,kCAAZ;AACAyH,8BAAc,CAACsD,IAAf,CAAoB,uBAApB;AACH,eAHM,MAGA,IAAI8W,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,UAApC,KAAmDtC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,wBAAhB,CAA1D,EAAqG;AACxG9B,uBAAO,CAACC,GAAR,CAAY,8BAAZ;AACAyH,8BAAc,CAACsD,IAAf,CAAoB,mBAApB;AACH,eAHM,MAGA;AACL;AACA,oBAAGzL,GAAG,CAACK,MAAD,EAAS,gCAAT,CAAN,EAAiD;AAC/CI,yBAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDV,GAAG,CAACK,MAAD,EAAS,gCAAT,EAA2C,GAA3C,CAAxD;AACA8H,gCAAc,CAACsD,IAAf,CAAoBzL,GAAG,CAACK,MAAD,EAAS,gCAAT,EAA2C,GAA3C,CAAvB;AACD,iBAHD,MAGO;AACL;AACAI,yBAAO,CAACC,GAAR,CAAY,cAAZ;AACAyH,gCAAc,CAACsD,IAAf,CAAoB,GAApB;AACD;AACF;AACF;AACF,WA5CD,EAlBF,CAgEE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACF;AACE;AAxLJ;AA2LD;;;;;SACD2X,c;4BAAehY,K,EAAOD,K,EAAO;AAC3B;AACA;AACA;AACA,UAAIA,KAAK,CAACnG,GAAN,KAAc,OAAlB,EAA2B;AACzB,aAAK2c,cAAL,CAAoBxW,KAApB;AACD,OAN0B,CAO3B;;AACD;;;;;SACDkY,c;4BAAejY,K,EAAOD,K,EAAOmY,Q,EAAS;AACpC;AACA;AACA;AACA,UAAInY,KAAK,CAACnG,GAAN,KAAc,OAAlB,EAA2B;AACzB,aAAK2c,cAAL,CAAoBxW,KAApB;AACD;;AACDhI,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCkgB,QAAvC;AACD;;;;;SACDC,Y;0BAAapY,K,EAAOqY,W,EAAa5B,G,EAAK;AACpC;AAEAze,aAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCogB,WAAhC;AACD;;;;;SACD9a,M;sBAAS;AACP;AACA,UAAI5E,IAAI,GAAG,IAAX;AAGA,UAAI2f,UAAU,GAAG,2BAAjB;;AACA,UAAGzjB,GAAG,CAACK,MAAD,EAAS,kCAAT,CAAN,EAAmD;AACjDojB,kBAAU,GAAGzjB,GAAG,CAACK,MAAD,EAAS,kCAAT,CAAhB;AACD;;AAED,UAAIqjB,SAAS,GAAG;AACdhZ,gBAAQ,EAAE,UADI;AAEdiZ,cAAM,EAAE,UAFM;AAGdC,iBAAS,EAAE;AAHG,OAAhB,CAVO,CAeP;;AACAF,eAAS,CAAClZ,GAAV,GAAiBrH,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAmC,IAAnD,CAhBO,CAiBP;;AAGA,UAAI6jB,sBAAsB,GAAG,EAA7B;AACA,UAAIC,qBAAqB,GAAG,EAA5B;AACA,UAAIC,kBAAkB,GAAG,EAAzB;AACA,UAAIC,gBAAgB,GAAG,EAAvB;AACA,UAAIC,oBAAoB,GAAG,EAA3B;AACA,UAAIC,uBAAuB,GAAG,IAA9B;;AAGA,UAAG,KAAKhhB,IAAL,CAAU8d,mBAAV,IAAiCnB,uBAAuB,CAAC7b,MAA5D,EAAmE;AACjE6f,8BAAsB,GAAGhE,uBAAuB,CAAC,KAAK3c,IAAL,CAAU8d,mBAAX,CAAvB,CAAuDlB,QAAhF;AACAgE,6BAAqB,GAAGjE,uBAAuB,CAAC,KAAK3c,IAAL,CAAU8d,mBAAX,CAAvB,CAAuDjB,OAA/E;AACAgE,0BAAkB,GAAGlE,uBAAuB,CAAC,KAAK3c,IAAL,CAAU8d,mBAAX,CAAvB,CAAuDhB,IAA5E;AACAgB,2BAAmB,GAAInB,uBAAuB,CAAC,KAAK3c,IAAL,CAAU8d,mBAAX,CAAvB,CAAuDjV,KAAxD,CAA+DoY,QAA/D,EAAtB;AACAF,4BAAoB,GAAGpE,uBAAuB,CAAC,KAAK3c,IAAL,CAAU8d,mBAAX,CAAvB,CAAuDf,MAA9E;;AAEA,YAAG,CAAC,CAAD,EAAI,CAAJ,EAAOla,QAAP,CAAgB,KAAK7C,IAAL,CAAU8d,mBAA1B,CAAH,EAAkD;AAChDkD,iCAAuB,GAAG,UAA1B;AACD;AACF;;AAED,aACE;AAAK,UAAE,EAAC,0BAAR;AAAmC,aAAK,EAAE,KAAKhhB,IAAL,CAAUmG,KAAV,CAAgByX;AAA1D,SACI,oBAAC,cAAD,QACI,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,gBAAQ,EAAE,CAAf;AAAkB,UAAE,EAAG,CAAvB;AAA2B,UAAE,EAAG;AAAhC,SAEM,oBAAC,SAAD;AAAW,aAAK,EAAE4C;AAAlB,SACE,oBAAC,SAAD;AACE,aAAK,EAAEG,sBADT;AAEE,gBAAQ,EAAEC,qBAFZ;AAGE,kBAAU,EAAE;AAACpY,kBAAQ,EAAE;AAAX;AAHd,QADF,EAME,oBAAC,QAAD,QAGI,oBAAC,SAAD;AACE,YAAI,EAAC,qBADP;AAEE,UAAE,EAAEsV,mBAFN;AAGE,YAAI,EAAC,qBAHP;AAIE,WAAG,EAAC,qBAJN;AAKE,aAAK,EAAEhhB,GAAG,CAAC,IAAD,EAAO,8BAAP,EAAuC,EAAvC,CALZ;AAME,kBAAU,EAAE,KAAKojB,cAAL,CAAoBxH,IAApB,CAAyB,IAAzB,EAA+B,qBAA/B,CANd;AAOE,gBAAQ,EAAE,KAAKyH,cAAL,CAAoBzH,IAApB,CAAyB,IAAzB,EAA+B,qBAA/B,CAPZ;AAQE,kBAAU,EAAE,KAAK1Y,IAAL,CAAUmG,KAAV,CAAgB+W,UAR9B;AASE,iBAAS,EAAE,KAAKld,IAAL,CAAUmG,KAAV,CAAgBmX,SAT7B;AAUE,kBAAU,EAAE,KAAKtd,IAAL,CAAUmG,KAAV,CAAgBiX,UAV9B;AAWE,sBAAc,EAAE,KAAKpd,IAAL,CAAUmG,KAAV,CAAgBqX,cAXlC;AAYE,0BAAkB,EAAE,KAAKxd,IAAL,CAAUmG,KAAV,CAAgBuX,kBAZtC;AAaE,+BAAuB,EAAE,KAAK1d,IAAL,CAAUmG,KAAV,CAAgBwX,uBAb3C;AAcE,0BAAkB,EAAE,IAdtB;AAeE,gBAAQ,EAAEkD,kBAfZ;AAgBE,YAAI,EAAEG,uBAhBR;AAiBE,iBAAS;AAjBX,QAHJ,EAuBI,oBAAC,aAAD,OAvBJ,EAwBI,oBAAC,YAAD;AAAc,UAAE,EAAC,cAAjB;AAAgC,eAAO,EAAE,KAAKvC,cAAL,CAAoB/F,IAApB,CAAyB,IAAzB,EAA+BqI,oBAA/B,CAAzC;AAA+F,aAAK,EAAC,MAArG;AAA4G,eAAO,EAAE,IAArH;AAA2H,aAAK,EAAE;AAAC,mBAAO;AAAR;AAAlI,QAxBJ,EAyBI,oBAAC,aAAD,OAzBJ,CANF,CAFN,EAwCE,+BAxCF,EAyCE,+BAzCF,CADF,CADJ,CADJ,CADF;AAoDD;;;;;;EAtZuCjc,KAAK,CAACuE,S;;AAwZhDrE,UAAU,CAAChB,oBAAoB,CAACsF,SAAtB,EAAiCvE,eAAjC,CAAV;AAvgBAhI,MAAM,CAACmF,aAAP,CAygBe8B,oBAzgBf,E;;;;;;;;;;;;;;;;;ACAAjH,MAAM,CAACiG,MAAP,CAAc;AAACQ,gBAAc,EAAC;AAAA,WAAIA,cAAJ;AAAA;AAAhB,CAAd;AAAmD,IAAIgG,GAAJ,EAAQC,IAAR;AAAa1M,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACwM,KAAD,YAAKvM,CAAL,EAAO;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAAd;AAAewM,MAAf,YAAoBxM,CAApB,EAAsB;AAACwM,QAAI,GAACxM,CAAL;AAAO;AAA9B,CAAhC,EAAgE,CAAhE;AAAmE,IAAIyM,UAAJ,EAAeH,WAAf,EAA2BlF,UAA3B,EAAsCF,QAAtC,EAA+CC,SAA/C,EAAyD8c,WAAzD,EAAqExb,QAArE,EAA8E4W,SAA9E,EAAwFnD,YAAxF,EAAqG1O,MAArG;AAA4G1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC0M,YAAD,YAAYzM,CAAZ,EAAc;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAA5B;AAA6BsM,aAA7B,YAAyCtM,CAAzC,EAA2C;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA1D;AAA2DoH,YAA3D,YAAsEpH,CAAtE,EAAwE;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAAtF;AAAuFkH,UAAvF,YAAgGlH,CAAhG,EAAkG;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAA9G;AAA+GmH,WAA/G,YAAyHnH,CAAzH,EAA2H;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAxI;AAAyIikB,aAAzI,YAAqJjkB,CAArJ,EAAuJ;AAACikB,eAAW,GAACjkB,CAAZ;AAAc,GAAtK;AAAuKyI,UAAvK,YAAgLzI,CAAhL,EAAkL;AAACyI,YAAQ,GAACzI,CAAT;AAAW,GAA9L;AAA+Lqf,WAA/L,YAAyMrf,CAAzM,EAA2M;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAAxN;AAAyNkc,cAAzN,YAAsOlc,CAAtO,EAAwO;AAACkc,gBAAY,GAAClc,CAAb;AAAe,GAAxP;AAAyPwN,QAAzP,YAAgQxN,CAAhQ,EAAkQ;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAA5Q,CAA1B,EAAwS,CAAxS;AAA2S,IAAIkkB,OAAJ,EAAYC,SAAZ;AAAsBrkB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACmkB,SAAD,YAASlkB,CAAT,EAAW;AAACkkB,WAAO,GAAClkB,CAAR;AAAU,GAAtB;AAAuBmkB,WAAvB,YAAiCnkB,CAAjC,EAAmC;AAACmkB,aAAS,GAACnkB,CAAV;AAAY;AAAhD,CAAxC,EAA0F,CAA1F;AAA6F,IAAIokB,OAAJ,EAAYC,OAAZ,EAAoBC,QAApB,EAA6BC,SAA7B,EAAuCC,MAAvC,EAA8CC,SAA9C;AAAwD3kB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACqkB,SAAD,YAASpkB,CAAT,EAAW;AAACokB,WAAO,GAACpkB,CAAR;AAAU,GAAtB;AAAuBqkB,SAAvB,YAA+BrkB,CAA/B,EAAiC;AAACqkB,WAAO,GAACrkB,CAAR;AAAU,GAA5C;AAA6CskB,UAA7C,YAAsDtkB,CAAtD,EAAwD;AAACskB,YAAQ,GAACtkB,CAAT;AAAW,GAApE;AAAqEukB,WAArE,YAA+EvkB,CAA/E,EAAiF;AAACukB,aAAS,GAACvkB,CAAV;AAAY,GAA9F;AAA+FwkB,QAA/F,YAAsGxkB,CAAtG,EAAwG;AAACwkB,UAAM,GAACxkB,CAAP;AAAS,GAAlH;AAAmHykB,WAAnH,YAA6HzkB,CAA7H,EAA+H;AAACykB,aAAS,GAACzkB,CAAV;AAAY;AAA5I,CAAxC,EAAsL,CAAtL;AAAyL,IAAI2H,IAAJ,EAASD,GAAT,EAAaE,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC4H,MAAD,YAAM3H,CAAN,EAAQ;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAAhB;AAAiB0H,KAAjB,YAAqB1H,CAArB,EAAuB;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI0kB,WAAJ;AAAgB5kB,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAAA,uBAASC,CAAT,EAAW;AAAC0kB,eAAW,GAAC1kB,CAAZ;AAAc;AAA1B,CAAjD,EAA6E,CAA7E;AAAgF,IAAI2kB,aAAJ;AAAkB7kB,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAAA,uBAASC,CAAT,EAAW;AAAC2kB,iBAAa,GAAC3kB,CAAd;AAAgB;AAA5B,CAAnD,EAAiF,CAAjF;AAAoF,IAAI4kB,cAAJ;AAAmB9kB,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAAA,uBAASC,CAAT,EAAW;AAAC4kB,kBAAc,GAAC5kB,CAAf;AAAiB;AAA7B,CAApD,EAAmF,CAAnF;AAAsF,IAAI6kB,oBAAJ;AAAyB/kB,MAAM,CAACC,IAAP,CAAY,8CAAZ,EAA2D;AAAA,uBAASC,CAAT,EAAW;AAAC6kB,wBAAoB,GAAC7kB,CAArB;AAAuB;AAAnC,CAA3D,EAAgG,CAAhG;AAAmG,IAAIuN,oBAAJ;AAAyBzN,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAACwN,sBAAD,YAAsBvN,CAAtB,EAAwB;AAACuN,wBAAoB,GAACvN,CAArB;AAAuB;AAAhD,CAArC,EAAuF,CAAvF;AAA0F,IAAI8kB,MAAJ;AAAWhlB,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAAC8kB,UAAM,GAAC9kB,CAAP;AAAS;AAArB,CAAjC,EAAwD,EAAxD;AAA4D,IAAIyN,iBAAJ;AAAsB3N,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACyN,qBAAiB,GAACzN,CAAlB;AAAoB;AAAhC,CAAvC,EAAyE,EAAzE;AAA6E,IAAIE,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,EAAlD;AAAsD,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAA8C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,EAA/E;AAAmF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,EAArD;AAAyD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,EAArD;AAAyD,IAAI0N,KAAJ;AAAU5N,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,EAAlD;AAAsD,IAAIuH,cAAJ,EAAmBD,cAAnB,EAAkCG,aAAlC,EAAgDJ,SAAhD,EAA0DG,KAA1D;AAAgE1H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACwH,gBAAD,YAAgBvH,CAAhB,EAAkB;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApC;AAAqCsH,gBAArC,YAAoDtH,CAApD,EAAsD;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAxE;AAAyEyH,eAAzE,YAAuFzH,CAAvF,EAAyF;AAACyH,iBAAa,GAACzH,CAAd;AAAgB,GAA1G;AAA2GqH,WAA3G,YAAqHrH,CAArH,EAAuH;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAApI;AAAqIwH,OAArI,YAA2IxH,CAA3I,EAA6I;AAACwH,SAAK,GAACxH,CAAN;AAAQ;AAAtJ,CAAvC,EAA+L,EAA/L;AAAmM,IAAI+kB,WAAJ;AAAgBjlB,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACglB,aAAD,YAAa/kB,CAAb,EAAe;AAAC+kB,eAAW,GAAC/kB,CAAZ;AAAc;AAA9B,CAArB,EAAqD,EAArD;AAAyD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;AAAqE,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,EAArC;AAAyC,IAAIglB,eAAJ;AAAoBllB,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACilB,iBAAD,YAAiBhlB,CAAjB,EAAmB;AAACglB,mBAAe,GAAChlB,CAAhB;AAAkB;AAAtC,CAAhC,EAAwE,EAAxE;AAA4E,IAAIilB,eAAJ;AAAoBnlB,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACklB,iBAAD,YAAiBjlB,CAAjB,EAAmB;AAACilB,mBAAe,GAACjlB,CAAhB;AAAkB;AAAtC,CAAhC,EAAwE,EAAxE;AAqC5pFgD,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,EAApC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,aAAnB,EAAkC,EAAlC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,gBAAnB,EAAqC,CAArC;;IAEapC,c;;;;;AACX,0BAAYqC,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;;AADiB,UAyjBnBsc,YAzjBmB,GAyjBJ,UAACja,KAAD,EAAW;AACxB,YAAKka,QAAL,CAAc;AACZla,aAAK,EAAEA;AADK,OAAd;AAGD,KA7jBkB;;AAAA,UA8jBnBma,kBA9jBmB,GA8jBE,UAACna,KAAD,EAAW;AAC9B,YAAKka,QAAL,CAAc;AACZE,mBAAW,EAAEpa;AADD,OAAd;AAGD,KAlkBkB;;AAAA,UAmkBnBqa,kBAnkBmB,GAmkBE,UAACra,KAAD,EAAW;AAC9B,YAAKka,QAAL,CAAc;AACZI,mBAAW,EAAEta;AADD,OAAd;AAGD,KAvkBkB;;AAEjB,UAAKgX,KAAL,GAAa;AACXoD,iBAAW,EAAE,WADF;AAEXE,iBAAW,EAAE,WAFF;AAGXC,mBAAa,EAAE;AAHJ,KAAb;AAFiB;AAOlB;;;;SAED3c,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACLuc,iBAAO,EAAEziB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADJ;AAELiN,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE;AAFV;AAFA,SADE;AAQT0Y,cAAM,EAAE;AACNC,cAAI,EAAE3iB,OAAO,CAACnD,GAAR,CAAY,MAAZ;AADA,SARC;AAWTuC,YAAI,EAAE;AACJqQ,iBAAO,EAAE;AADL,SAXG;AAcTtJ,aAAK,EAAE,oBAdE;AAeTyc,oBAAY,EAAE,KAfL;AAgBTJ,qBAAa,EAAE,KAAKvD,KAAL,CAAWuD,aAhBjB;AAiBT,kBAAQ;AACNK,uBAAa,EAAE7iB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADT;AAEN;AACAoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IAHtC;AAG6C;AACnDkD,cAAI,EAAE;AAJA,SAjBC;AAuBT+iB,sBAAc,EAAE;AACd7c,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC;AAD9B,SAvBP;AA0BT,kBAAQ;AACNoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IADtC;AAENkD,cAAI,EAAE;AAFA,SA1BC;AA8BTgjB,sBAAc,EAAE/iB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CA9BP;AA+BTyV,oBAAY,EAAEtS,OAAO,CAACnD,GAAR,CAAY,cAAZ;AA/BL,OAAX;;AAkCA,UAAGA,GAAG,CAACK,MAAD,EAAS,0CAAT,CAAN,EAA2D;AACzD;AACA6C,YAAI,CAAC6iB,YAAL,GAAoB/lB,GAAG,CAACK,MAAD,EAAS,0CAAT,CAAvB;AACD;;AAED,UAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,QAAvB,EAAiC0F,QAAjC,CAA0C5C,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAA1C,CAAH,EAA2E;AACzEkD,YAAI,CAACijB,MAAL,CAAYjjB,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAf,EAA2C,IAA3C,EAAiD,CAAjD,CAAnB;AACD;;AACD,UAAG,CAAC,MAAD,EAAS+F,QAAT,CAAkB5C,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAAlB,CAAH,EAAmD;AACjDkD,YAAI,CAACijB,MAAL,CAAYjjB,IAAZ,GAAmBC,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAnB;AACD;;AAED,UAAIuC,IAAI,GAAGlC,MAAM,CAACkC,IAAP,EAAX;;AACA,UAAGA,IAAH,EAAQ;AACN,YAAIA,IAAI,CAACuD,KAAT,EAAgB;AACdvD,cAAI,CAACuD,KAAL,CAAWpE,OAAX,CAAmB,UAASyT,IAAT,EAAc;AAC/B,gBAAIA,IAAI,KAAK,UAAb,EAAyB;AACvBjS,kBAAI,CAACX,IAAL,CAAUqQ,OAAV,GAAoB,IAApB;AACD,aAFD,MAEO,IAAIuC,IAAI,KAAK,cAAb,EAA6B;AAClCjS,kBAAI,CAACX,IAAL,CAAU6S,cAAV,GAA2B,IAA3B;AACD,aAFM,MAEA,IAAID,IAAI,KAAK,SAAb,EAAwB;AAC7BjS,kBAAI,CAACX,IAAL,CAAU8S,SAAV,GAAsB,IAAtB;AACD;AACF,WARD;AASD;AACF;;AAED,UAAGlS,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAH,EAAsC;AACpCkD,YAAI,CAACgD,MAAL,CAAYhD,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAf,EAAmD,IAAnD,EAAyD,CAAzD,CAAnB;AACD;;AAEDkD,UAAI,CAACmG,KAAL,GAAa1B,KAAK,CAAC4F,IAAN,CAAWrK,IAAI,CAACmG,KAAhB,CAAb;AACAnG,UAAI,CAACmG,KAAL,CAAW4D,GAAX,GAAiBtF,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAW4D,GAA1B,CAAjB,CAnEc,CAqEd;;AACAxM,aAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CwC,IAA3C;AACA,aAAOA,IAAP;AACD;;;;;SAEDkjB,W;yBAAYC,Q,EAAUlb,K,EAAOC,K,EAAM;AACjCjI,aAAO,CAACC,GAAR,CAAYijB,QAAZ,EAAsBjb,KAAtB;AACD;;;;;SACD3H,qB;mCAAsBC,Y,EAAa;AACjC,UAAIC,UAAU,GAAG,EAAjB;;AACA,cAAQD,YAAR;AACE,aAAK,QAAL;AACEC,oBAAU,GAAG,UAAb;AACA;;AACF,aAAK,SAAL;AACEA,oBAAU,GAAG,WAAb;AACA;;AACF,aAAK,gBAAL;AACEA,oBAAU,GAAG,kBAAb;AACA;;AACF,aAAK,cAAL;AACEA,oBAAU,GAAG,gBAAb;AACA;;AACF,aAAK,qBAAL;AACEA,oBAAU,GAAG,uBAAb;AACA;;AACF,aAAK,eAAL;AACEA,oBAAU,GAAG,iBAAb;AACA;;AACF;AACEA,oBAAU,GAAGD,YAAY,GAAG,GAA5B;AACA;AArBJ;;AAwBA,aAAOC,UAAP;AACD;;;;;SACD2iB,e;+BAAiB;AACf,UAAGpK,OAAO,CAAC,0BAAD,CAAV,EAAuC;AAErC,YAAIqK,aAAa,GAAG,CAClB,qBADkB,EAElB,WAFkB,EAGlB,YAHkB,EAIlB,UAJkB,EAKlB,WALkB,EAMlB,gBANkB,EAOlB,qBAPkB,EAQlB,SARkB,EASlB,mBATkB,EAUlB,OAVkB,EAWlB,eAXkB,EAYlB,gBAZkB,EAalB,WAbkB,EAclB,aAdkB,EAelB,kBAfkB,EAgBlB,sBAhBkB,EAiBlB,eAjBkB,EAkBlB,cAlBkB,EAmBlB,UAnBkB,EAoBlB,eApBkB,EAqBlB,SArBkB,EAsBlB,YAtBkB,EAuBlB,gBAvBkB,EAwBlB,wBAxBkB,EAyBlB,iBAzBkB,EA0BlB,gBA1BkB,EA2BlB,WA3BkB,EA4BlB,iBA5BkB,CAApB;AA+BAA,qBAAa,CAAC7kB,OAAd,CAAsB,UAASgC,YAAT,EAAsB;AAC1C,cAAGtD,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,CAAH,EAAsC;AACpCtD,iBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,EAAmCsC,IAAnC,GAA0CtE,OAA1C,CAAkD,UAASC,MAAT,EAAgB;AAChEvB,mBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,EAAmCoa,MAAnC,CAA0C;AAAC1Z,mBAAG,EAAEzC,MAAM,CAACyC;AAAb,eAA1C;;AACAhE,mBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,EAAmC7B,WAAnC,CAA+Cic,MAA/C,CAAsD;AAAC1Z,mBAAG,EAAEzC,MAAM,CAACyC;AAAb,eAAtD;AACD,aAHD;AAID;AACF,SAPD;AASA/D,cAAM,CAACsS,IAAP,CAAY,gBAAZ,EAA8B,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AACnD,cAAGA,MAAH,EAAU;AACRK,mBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BN,MAA7B;AACD;AACF,SAJD;AAKD;AACF;;;;;SACD0jB,iB;iCAAmB;AACjBrjB,aAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,IAAnC;AACD;;;;;SACDqjB,2B;2CAA6B;AAC3BhmB,aAAO,CAACC,GAAR,CAAY,6BAAZ;AACA,UAAIgmB,mBAAmB,GAAGvjB,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAA1B;AACA,UAAI2mB,QAAJ;;AAEA,UAAG,KAAKvE,KAAL,CAAWuD,aAAd,EAA4B;AAC1B;AACAgB,gBAAQ,GAAGC,QAAQ,CAACC,GAAT,CAAaC,OAAb,CAAqBnmB,IAAI,CAACC,SAAL,CAAe8lB,mBAAf,CAArB,EAA0DrmB,MAAM,CAACiC,MAAP,EAA1D,CAAX;AACD,OAHD,MAGO;AACLqkB,gBAAQ,GAAGhmB,IAAI,CAACC,SAAL,CAAe8lB,mBAAf,EAAoC,IAApC,EAA0C,CAA1C,CAAX;AACD;;AAED,UAAG,CAAC,QAAD,EAAW3gB,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD;AACAxK,eAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,YAAIqmB,YAAY,GAAGzL,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAnB;AACA9a,eAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BqmB,YAA5B;AAEAA,oBAAY,CAACC,KAAb;AACAD,oBAAY,CAACE,MAAb;AAEA3L,gBAAQ,CAAC4L,WAAT,CAAqB,MAArB;AAED,OAXD,MAWO;AAEL,YAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACT,QAAD,CAAT,EAAqB;AAAEU,cAAI,EAAE;AAAR,SAArB,CAAX;AAEA,YAAI/a,GAAG,GAAGgb,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAV;AAEA,YAAIK,QAAQ,GAAG,6BAAf;;AACA,YAAG,KAAKpF,KAAL,CAAWuD,aAAd,EAA4B;AAC1B6B,kBAAQ,GAAG,6BAAX;AACD,SATI,CAWL;AACA;;;AAEA,YAAIC,WAAW,GAAGpnB,MAAM,CAACkC,IAAP,GAAcmlB,WAAd,EAAlB;AACAjnB,eAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC+mB,WAAnC;AAEA,YAAIpM,qBAAqB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,CAA5B;;AACA,YAAGF,qBAAH,EAAyB;AAEvBA,+BAAqB,CAACG,YAAtB,CAAmC,MAAnC,EAA2ClP,GAA3C;AACA+O,+BAAqB,CAACG,YAAtB,CAAmC,UAAnC,EAA+CgM,QAA/C;AACAnM,+BAAqB,CAAChS,KAAtB,CAA4Bse,UAA5B,GAAyC,QAAzC;AACArM,kBAAQ,CAACsM,IAAT,CAAcC,WAAd,CAA0BxM,qBAA1B;AACAA,+BAAqB,CAACI,KAAtB;AACAH,kBAAQ,CAACsM,IAAT,CAAcE,WAAd,CAA0BzM,qBAA1B,EAPuB,CASvB;AAGA;AACA;AACA;AACD,SAfD,MAeO;AACL5a,iBAAO,CAACC,GAAR,CAAY,8BAAZ;AACD;AACF;AAEF;;;;;SACDqnB,yB;yCAA2B;AACzBtnB,aAAO,CAACC,GAAR,CAAY,yCAAZ;AAEA,UAAI+U,YAAY,GAAGtS,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAnB;AAEA,UAAIgoB,WAAW,GAAG,EAAlB;AACA,UAAItB,mBAAmB,GAAG;AACxBhjB,oBAAY,EAAE,QADU;AAExBK,aAAK,EAAE;AAFiB,OAA1B;AAKA,UAAIkkB,cAAc,GAAG;AACnB/M,eAAO,EAAE,kBAAkB5W,MAAM,CAACH,EAAP,EADR;AAEnBD,gBAAQ,EAAE;AACR,0BAAgB,aADR;AAER,wBAAe,EAFP;AAGR,oBAAW,aAHH;AAIR,kBAAS,EAJD;AAKR,mBAAU,EALF;AAMR,qBAAY;AACV,uBAAW7D,MAAM,CAACkC,IAAP,GAAcC,QAAd,EADD;AAEV,yBAAanC,MAAM,CAACiC,MAAP;AAFH,WANJ;AAUR,uBAAc;AACZ,uBAAW,EADC;AAEZ,yBAAa;AAFD,WAVN;AAcR,kBAAS,YAdD;AAeR,oBAAW,CAAC;AACV,uBAAWjC,MAAM,CAACkC,IAAP,GAAcC,QAAd,EADD;AAEV,yBAAanC,MAAM,CAACiC,MAAP;AAFH,WAAD,CAfH;AAmBR,mBAAU,6BAnBF;AAoBR,6BAAoB,GApBZ;AAqBR,sBAAa,EArBL;AAsBR,uBAAc;AACZ,uBAAW,EADC;AAEZ,yBAAa;AAFD,WAtBN;AA0BR,uBAAc,EA1BN;AA2BR,mBAAU,EA3BF;AA4BR,qBAAY;AA5BJ;AAFS,OAArB;;AAmCA,UAAI,QAAOV,mBAAP,uDAAOA,mBAAP,OAA+B,QAAhC,IAA6C6T,YAAY,CAACrF,SAA7D,EAAuE;AACrE3P,eAAO,CAACC,GAAR,CAAY,mDAAZ;AACAkB,2BAAmB,CAACoE,IAApB,GAA2BtE,OAA3B,CAAmC,UAASwmB,OAAT,EAAiB;AAClD,iBAAOA,OAAO,CAACjN,SAAf;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,yBAAyBgN,OAAO,CAAC9jB,GAD3B;AAEfF,oBAAQ,EAAEgkB;AAFK,WAAjB;AAIAD,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC1H,iBAAK,EAAE,CAAC;AACNqkB,uBAAS,EAAE,yBAAyBF,OAAO,CAAC9jB;AADtC,aAAD;AAD4B,WAArC;AAKD,SAXD;AAYD;;AACD,UAAI,QAAOiP,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCoC,YAAY,CAAClF,SAAnD,EAA6D;AAC3D8C,iBAAS,CAACrN,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS2mB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACpN,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAemN,QAAQ,CAACjkB,GADlB;AAEfF,oBAAQ,EAAEmkB;AAFK,WAAjB;AAIAJ,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAeC,QAAQ,CAACjkB;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOrC,UAAP,uDAAOA,UAAP,OAAsB,QAAvB,IAAoC0T,YAAY,CAAChF,UAApD,EAA+D;AAC7D1O,kBAAU,CAACiE,IAAX,GAAkBtE,OAAlB,CAA0B,UAAS4mB,SAAT,EAAmB;AAC3C,iBAAOA,SAAS,CAACrN,SAAjB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,gBAAgBoN,SAAS,CAAClkB,GADpB;AAEfF,oBAAQ,EAAEokB;AAFK,WAAjB;AAIAL,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,gBAAgBE,SAAS,CAAClkB;AADF,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOmP,QAAP,uDAAOA,QAAP,OAAoB,QAArB,IAAkCkC,YAAY,CAAC/E,QAAlD,EAA2D;AACzD6C,gBAAQ,CAACvN,IAAT,GAAgBtE,OAAhB,CAAwB,UAAS6mB,OAAT,EAAiB;AACvC,iBAAOA,OAAO,CAACtN,SAAf;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,cAAcqN,OAAO,CAACnkB,GADhB;AAEfF,oBAAQ,EAAEqkB;AAFK,WAAjB;AAIAN,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,cAAcG,OAAO,CAACnkB;AADE,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOoP,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCiC,YAAY,CAAC9E,SAAnD,EAA6D;AAC3D6C,iBAAS,CAACxN,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS8mB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACvN,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAesN,QAAQ,CAACpkB,GADlB;AAEfF,oBAAQ,EAAEskB;AAFK,WAAjB;AAIAP,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAeI,QAAQ,CAACpkB;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOqP,cAAP,uDAAOA,cAAP,OAA0B,QAA3B,IAAwCgC,YAAY,CAAC7E,cAAxD,EAAuE;AACrE6C,sBAAc,CAACzN,IAAf,GAAsBtE,OAAtB,CAA8B,UAAS+mB,aAAT,EAAuB;AACnD,iBAAOA,aAAa,CAACxN,SAArB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,oBAAoBuN,aAAa,CAACrkB,GAD5B;AAEfF,oBAAQ,EAAEukB;AAFK,WAAjB;AAIAR,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,oBAAoBK,aAAa,CAACrkB;AADV,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOuP,OAAP,uDAAOA,OAAP,OAAmB,QAApB,IAAiC8B,YAAY,CAAC3E,OAAjD,EAAyD;AACvD6C,eAAO,CAAC3N,IAAR,GAAetE,OAAf,CAAuB,UAASgnB,MAAT,EAAgB;AACrC,iBAAOA,MAAM,CAACzN,SAAd;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,aAAawN,MAAM,CAACtkB,GADd;AAEfF,oBAAQ,EAAEwkB;AAFK,WAAjB;AAIAT,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,aAAaM,MAAM,CAACtkB;AADI,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO4P,KAAP,uDAAOA,KAAP,OAAiB,QAAlB,IAA+ByB,YAAY,CAACvE,KAA/C,EAAqD;AACnD8C,aAAK,CAAChO,IAAN,GAAatE,OAAb,CAAqB,UAASinB,IAAT,EAAc;AACjC,iBAAOA,IAAI,CAAC1N,SAAZ;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,WAAWyN,IAAI,CAACvkB,GADV;AAEfF,oBAAQ,EAAEykB;AAFK,WAAjB;AAIAV,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,WAAWO,IAAI,CAACvkB;AADQ,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOpC,aAAP,uDAAOA,aAAP,OAAyB,QAA1B,IAAuCyT,YAAY,CAACtE,aAAvD,EAAqE;AACnEnP,qBAAa,CAACgE,IAAd,GAAqBtE,OAArB,CAA6B,UAASknB,YAAT,EAAsB;AACjD,iBAAOA,YAAY,CAAC3N,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,mBAAmB0N,YAAY,CAACxkB,GAD1B;AAEfF,oBAAQ,EAAE0kB;AAFK,WAAjB;AAIAX,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,mBAAmBQ,YAAY,CAACxkB;AADR,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO6P,cAAP,uDAAOA,cAAP,OAA0B,QAA3B,IAAwCwB,YAAY,CAACrE,cAAxD,EAAuE;AACrE6C,sBAAc,CAACjO,IAAf,GAAsBtE,OAAtB,CAA8B,UAASmnB,YAAT,EAAsB;AAClD,iBAAOA,YAAY,CAAC5N,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,qBAAqB2N,YAAY,CAACzkB,GAD5B;AAEfF,oBAAQ,EAAE2kB;AAFK,WAAjB;AAIAZ,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,qBAAqBS,YAAY,CAACzkB;AADV,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO+P,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCsB,YAAY,CAACnE,SAAnD,EAA6D;AAC3D6C,iBAAS,CAACnO,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS4gB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACrH,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAeoH,QAAQ,CAACle,GADlB;AAEfF,oBAAQ,EAAEoe;AAFK,WAAjB;AAIA2F,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAe9F,QAAQ,CAACle;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOgQ,WAAP,uDAAOA,WAAP,OAAuB,QAAxB,IAAqCqB,YAAY,CAAClE,WAArD,EAAiE;AAC/D6C,mBAAW,CAACpO,IAAZ,GAAmBtE,OAAnB,CAA2B,UAASonB,UAAT,EAAoB;AAC7C,iBAAOA,UAAU,CAAC7N,SAAlB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,iBAAiB4N,UAAU,CAAC1kB,GADtB;AAEfF,oBAAQ,EAAE4kB;AAFK,WAAjB;AAIAb,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,iBAAiBU,UAAU,CAAC1kB;AADJ,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOlC,gBAAP,uDAAOA,gBAAP,OAA4B,QAA7B,IAA0CuT,YAAY,CAACjE,gBAA1D,EAA2E;AACzEtP,wBAAgB,CAAC8D,IAAjB,GAAwBtE,OAAxB,CAAgC,UAASqnB,eAAT,EAAyB;AACvD,iBAAOA,eAAe,CAAC9N,SAAvB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,sBAAsB6N,eAAe,CAAC3kB,GADhC;AAEfF,oBAAQ,EAAE6kB;AAFK,WAAjB;AAIAd,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,sBAAsBW,eAAe,CAAC3kB;AADd,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOiQ,oBAAP,uDAAOA,oBAAP,OAAgC,QAAjC,IAA8CoB,YAAY,CAAChE,oBAA9D,EAAmF;AACjF4C,4BAAoB,CAACrO,IAArB,GAA4BtE,OAA5B,CAAoC,UAASsnB,mBAAT,EAA6B;AAC/D,iBAAOA,mBAAmB,CAAC/N,SAA3B;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,0BAA0B8N,mBAAmB,CAAC5kB,GADxC;AAEfF,oBAAQ,EAAE8kB;AAFK,WAAjB;AAIAf,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,0BAA0BY,mBAAmB,CAAC5kB;AADtB,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOnC,YAAP,uDAAOA,YAAP,OAAwB,QAAzB,IAAsCwT,YAAY,CAACpL,YAAtD,EAAmE;AACjEpI,oBAAY,CAAC+D,IAAb,GAAoBtE,OAApB,CAA4B,UAASuK,WAAT,EAAqB;AAC/C,iBAAOA,WAAW,CAACgP,SAAnB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,kBAAkBjP,WAAW,CAAC7H,GADxB;AAEfF,oBAAQ,EAAE+H;AAFK,WAAjB;AAIAgc,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,kBAAkBnc,WAAW,CAAC7H;AADN,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOkQ,aAAP,uDAAOA,aAAP,OAAyB,QAA1B,IAAuCmB,YAAY,CAACrD,aAAvD,EAAqE;AACnEkC,qBAAa,CAACtO,IAAd,GAAqBtE,OAArB,CAA6B,UAASunB,YAAT,EAAsB;AACjD,iBAAOA,YAAY,CAAChO,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,mBAAmB+N,YAAY,CAAC7kB,GAD1B;AAEfF,oBAAQ,EAAE+kB;AAFK,WAAjB;AAIAhB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,mBAAmBa,YAAY,CAAC7kB;AADR,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOoQ,QAAP,uDAAOA,QAAP,OAAoB,QAArB,IAAkCiB,YAAY,CAAC5D,QAAlD,EAA2D;AACzD2C,gBAAQ,CAACxO,IAAT,GAAgBtE,OAAhB,CAAwB,UAASoK,OAAT,EAAiB;AACvC,iBAAOA,OAAO,CAACmP,SAAf;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,cAAcpP,OAAO,CAAC1H,GADhB;AAEfF,oBAAQ,EAAE4H;AAFK,WAAjB;AAIAmc,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,cAActc,OAAO,CAAC1H;AADE,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOwQ,OAAP,uDAAOA,OAAP,OAAmB,QAApB,IAAiCa,YAAY,CAAC3D,OAAjD,EAAyD;AACvD8C,eAAO,CAAC5O,IAAR,GAAetE,OAAf,CAAuB,UAASwnB,MAAT,EAAgB;AACrC,iBAAOA,MAAM,CAACjO,SAAd;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,aAAagO,MAAM,CAAC9kB,GADd;AAEfF,oBAAQ,EAAEglB;AAFK,WAAjB;AAIAjB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,aAAac,MAAM,CAAC9kB;AADI,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOiB,aAAP,uDAAOA,aAAP,OAAyB,QAA1B,IAAuCoQ,YAAY,CAAC1D,aAAvD,EAAqE;AACnE1M,qBAAa,CAACW,IAAd,GAAqBtE,OAArB,CAA6B,UAASynB,YAAT,EAAsB;AACjD,iBAAOA,YAAY,CAAClO,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,mBAAmBiO,YAAY,CAAC/kB,GAD1B;AAEfF,oBAAQ,EAAEilB;AAFK,WAAjB;AAIAlB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,mBAAmBe,YAAY,CAAC/kB;AADR,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOjC,UAAP,uDAAOA,UAAP,OAAsB,QAAvB,IAAoCsT,YAAY,CAACzD,UAApD,EAA+D;AAC7D7P,kBAAU,CAAC6D,IAAX,GAAkBtE,OAAlB,CAA0B,UAAS0nB,SAAT,EAAmB;AAC3C,iBAAOA,SAAS,CAACnO,SAAjB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,gBAAgBkO,SAAS,CAAChlB,GADpB;AAEfF,oBAAQ,EAAEklB;AAFK,WAAjB;AAIAnB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,gBAAgBgB,SAAS,CAAChlB;AADF,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOuQ,eAAP,uDAAOA,eAAP,OAA2B,QAA5B,IAAyCc,YAAY,CAACtD,eAAzD,EAAyE;AACvEwC,uBAAe,CAAC3O,IAAhB,GAAuBtE,OAAvB,CAA+B,UAAS2nB,cAAT,EAAwB;AACrD,iBAAOA,cAAc,CAACpO,SAAtB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,qBAAqBmO,cAAc,CAACjlB,GAD9B;AAEfF,oBAAQ,EAAEmlB;AAFK,WAAjB;AAIApB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,qBAAqBiB,cAAc,CAACjlB;AADZ,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO4Q,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCS,YAAY,CAAClD,SAAnD,EAA6D;AAC3DyC,iBAAS,CAAChP,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS4nB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACrO,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAeoO,QAAQ,CAACllB,GADlB;AAEfF,oBAAQ,EAAEolB;AAFK,WAAjB;AAIArB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAekB,QAAQ,CAACllB;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO2Q,eAAP,uDAAOA,eAAP,OAA2B,QAA5B,IAAyCU,YAAY,CAACnD,eAAzD,EAAyE;AACvEyC,uBAAe,CAAC/O,IAAhB,GAAuBtE,OAAvB,CAA+B,UAAS6nB,cAAT,EAAwB;AACrD,iBAAOA,cAAc,CAACtO,SAAtB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,qBAAqBqO,cAAc,CAACnlB,GAD9B;AAEfF,oBAAQ,EAAEqlB;AAFK,WAAjB;AAIAtB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,qBAAqBmB,cAAc,CAACnlB;AADZ,WAArC;AAGD,SATD;AAUD;;AAGDsiB,yBAAmB,CAAC3iB,KAApB,CAA0B0H,IAA1B,CAA+Bwc,cAA/B;AAEAD,iBAAW,CAACtmB,OAAZ,CAAoB,UAAS8nB,YAAT,EAAsB;AACxC9C,2BAAmB,CAAC3iB,KAApB,CAA0B0H,IAA1B,CAA+B+d,YAA/B;AACD,OAFD;AAIArmB,aAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCsjB,mBAAnC;AACD;;;;;SACD+C,sB;oCAAuBte,K,EAAOY,K,EAAOX,K,EAAM;AACzC3K,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCyK,KAAtC,EAA6CY,KAA7C,EAAoDX,KAApD;AACAjI,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BgI,KAA9B;AACD;;;;;SAiBDse,oB;oCAAsB,CAErB;;;;;SACDC,mB;mCAAqB;AACnB,WAAKrE,QAAL,CAAc;AAACK,qBAAa,EAAE,CAAC,KAAKvD,KAAL,CAAWuD;AAA5B,OAAd;AACD;;;;;SACDjd,M;sBAAQ;AACN,UAAIkhB,aAAa,GAAG,WAApB;;AAEA,UAAG,CAAC,QAAD,EAAW7jB,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD2e,qBAAa,GAAG,mBAAhB;AACD;;AAED,UAAIC,eAAe,GAAG,CAAtB;AACA,UAAIC,oBAAoB,GAAG,CAA3B;AACA,UAAIC,gBAAgB,GAAG,CAAvB;;AAEA,UAAGhpB,MAAM,CAACipB,WAAP,GAAqBjpB,MAAM,CAACkpB,UAA/B,EAA0C;AACxCJ,uBAAe,GAAG,EAAlB;AACAC,4BAAoB,GAAG,EAAvB;AACAC,wBAAgB,GAAG,EAAnB;AACD;;AAED,UAAIG,UAAU,GAAG,MAAjB,CAjBM,CAmBN;AACA;AACA;;AAEA,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAEL;AAAT,SACE,oBAAC,eAAD,OADF,CADF,EAIE,oBAAC,GAAD;AAAK,UAAE,EAAEC;AAAT,SACE,oBAAC,SAAD;AAAW,cAAM,EAAEI,UAAnB;AAA+B,aAAK,EAAE;AAACvgB,sBAAY,EAAE;AAAf;AAAtC,SACE,oBAAC,SAAD;AACE,aAAK,EAAC;AADR,QADF,EAIE,oBAAC,QAAD,QACE,oBAAC,GAAD,QACE,oBAAC,oBAAD;AACE,oBAAY,EAAG,KAAKzG,IAAL,CAAUuS,YAD3B;AAEE,aAAK,EAAE;AACLrM,gBAAM,EAAE,KAAKlG,IAAL,CAAU+iB,cAAV,CAAyB7c,MAD5B;AAEL+gB,kBAAQ,EAAE,QAFL;AAGLhhB,eAAK,EAAE;AAHF;AAFT,QADF,CADF,CAJF,CADF,CAJF,EA2CE,oBAAC,GAAD;AAAK,UAAE,EAAE4gB;AAAT,SACE,oBAAC,eAAD,OADF,CA3CF,CADF,CADF,CADF;AAsDD;;;;;SAEDhO,U;wBAAWI,S,EAAU;AACnB1b,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Byb,SAA1B;AAEA9b,YAAM,CAACsS,IAAP,CAAYwJ,SAAZ;AACD;;;;;;EAlqBiCnU,KAAK,CAACuE,S;;AAsqB1CrE,UAAU,CAACxB,cAAc,CAAC8F,SAAhB,EAA2BvE,eAA3B,CAAV;AA/sBAhI,MAAM,CAACmF,aAAP,CAgtBesB,cAhtBf,E;;;;;;;;;;;;;;;;;ACAAzG,MAAM,CAACiG,MAAP,CAAc;AAACkf,iBAAe,EAAC;AAAA,WAAIA,eAAJ;AAAA;AAAjB,CAAd;AAAqD,IAAI1Y,GAAJ,EAAQC,IAAR,EAAayd,UAAb;AAAwBnqB,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACwM,KAAD,YAAKvM,CAAL,EAAO;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAAd;AAAewM,MAAf,YAAoBxM,CAApB,EAAsB;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA9B;AAA+BiqB,YAA/B,YAA0CjqB,CAA1C,EAA4C;AAACiqB,cAAU,GAACjqB,CAAX;AAAa;AAA1D,CAAhC,EAA4F,CAA5F;AAA+F,IAAIkqB,SAAJ;AAAcpqB,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAAA,uBAASC,CAAT,EAAW;AAACkqB,aAAS,GAAClqB,CAAV;AAAY;AAAxB,CAAzB,EAAmD,CAAnD;AAAsD,IAAIyM,UAAJ,EAAeH,WAAf,EAA2BlF,UAA3B,EAAsCF,QAAtC,EAA+CC,SAA/C,EAAyD8c,WAAzD,EAAqExb,QAArE,EAA8E4W,SAA9E,EAAwFnD,YAAxF,EAAqG1O,MAArG;AAA4G1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC0M,YAAD,YAAYzM,CAAZ,EAAc;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAA5B;AAA6BsM,aAA7B,YAAyCtM,CAAzC,EAA2C;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA1D;AAA2DoH,YAA3D,YAAsEpH,CAAtE,EAAwE;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAAtF;AAAuFkH,UAAvF,YAAgGlH,CAAhG,EAAkG;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAA9G;AAA+GmH,WAA/G,YAAyHnH,CAAzH,EAA2H;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAxI;AAAyIikB,aAAzI,YAAqJjkB,CAArJ,EAAuJ;AAACikB,eAAW,GAACjkB,CAAZ;AAAc,GAAtK;AAAuKyI,UAAvK,YAAgLzI,CAAhL,EAAkL;AAACyI,YAAQ,GAACzI,CAAT;AAAW,GAA9L;AAA+Lqf,WAA/L,YAAyMrf,CAAzM,EAA2M;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAAxN;AAAyNkc,cAAzN,YAAsOlc,CAAtO,EAAwO;AAACkc,gBAAY,GAAClc,CAAb;AAAe,GAAxP;AAAyPwN,QAAzP,YAAgQxN,CAAhQ,EAAkQ;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAA5Q,CAA1B,EAAwS,CAAxS;AAA2S,IAAImqB,aAAJ;AAAkBrqB,MAAM,CAACC,IAAP,CAAY,6CAAZ,EAA0D;AAAA,uBAASC,CAAT,EAAW;AAACmqB,iBAAa,GAACnqB,CAAd;AAAgB;AAA5B,CAA1D,EAAwF,CAAxF;AAA2F,IAAIE,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,CAAlD;AAAqD,IAAIoiB,KAAJ;AAAUtiB,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACqiB,OAAD,YAAOpiB,CAAP,EAAS;AAACoiB,SAAK,GAACpiB,CAAN;AAAQ;AAAlB,CAApC,EAAwD,CAAxD;AAA2D,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,CAArD;AAAwD,IAAI0N,KAAJ;AAAU5N,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,EAAlD;AAAsD,IAAIuH,cAAJ,EAAmBD,cAAnB,EAAkCG,aAAlC,EAAgDJ,SAAhD,EAA0DG,KAA1D;AAAgE1H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACwH,gBAAD,YAAgBvH,CAAhB,EAAkB;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApC;AAAqCsH,gBAArC,YAAoDtH,CAApD,EAAsD;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAxE;AAAyEyH,eAAzE,YAAuFzH,CAAvF,EAAyF;AAACyH,iBAAa,GAACzH,CAAd;AAAgB,GAA1G;AAA2GqH,WAA3G,YAAqHrH,CAArH,EAAuH;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAApI;AAAqIwH,OAArI,YAA2IxH,CAA3I,EAA6I;AAACwH,SAAK,GAACxH,CAAN;AAAQ;AAAtJ,CAAvC,EAA+L,EAA/L;AAAmM,IAAI+kB,WAAJ;AAAgBjlB,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACglB,aAAD,YAAa/kB,CAAb,EAAe;AAAC+kB,eAAW,GAAC/kB,CAAZ;AAAc;AAA9B,CAArB,EAAqD,EAArD;AAAyD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;AAAqE,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,EAArC;AAwB7oD,IAAIoqB,aAAJ;AACA,IAAIC,WAAJ;AACA,IAAIC,YAAJ;;AACA,IAAIpqB,MAAM,CAACif,SAAX,EAAsB;AACpB7e,SAAO,CAACC,GAAR,CAAY,kBAAZ;;AACA+pB,cAAY,GAAG,UAAUC,QAAV,EAAoBC,CAApB,EAAuB;AACpC,QAAIpqB,GAAG,GAAG,EAAV;;AAEA,YAAQoqB,CAAC,CAACpf,IAAV;AACI,WAAKqf,SAAS,CAACC,kBAAf;AACItqB,WAAG,GAAG,wBAAN;AACA;;AACJ,WAAKqqB,SAAS,CAACE,aAAf;AACIvqB,WAAG,GAAG,gBAAN;AACA;;AACJ,WAAKqqB,SAAS,CAACG,YAAf;AACIxqB,WAAG,GAAG,gBAAN;AACA;;AACJ,WAAKqqB,SAAS,CAACI,wBAAf;AACIzqB,WAAG,GAAG,sBAAN;AACA;;AACJ,WAAKqqB,SAAS,CAACK,iBAAf;AACI1qB,WAAG,GAAG,eAAN;AACA;;AACJ;AACIA,WAAG,GAAG,eAAN;AACA;AAlBR;;AAmBC;AAEDE,WAAO,CAACC,GAAR,CAAY,YAAYgqB,QAAZ,GAAuB,KAAvB,GAA+BnqB,GAA3C;AACD,GAzBD;;AA0BAgqB,eAAa,GAAG,YAAW;AACzB9pB,WAAO,CAACC,GAAR,CAAY,oBAAZ;;AACA8pB,eAAW,GAAG,UAASE,QAAT,EAAmBxnB,IAAnB,EAAyB;AACrCzC,aAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BgqB,QAA7B,EAAuCxnB,IAAvC;AAEAA,UAAI,GAAGvC,IAAI,CAACC,SAAL,CAAesC,IAAf,EAAqB,IAArB,EAA2B,IAA3B,CAAP;AACAzC,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBwC,IAApB;AACAzC,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBK,MAAtB;AACAN,aAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBwqB,OAAvB;AACAzqB,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BwqB,OAAO,CAACC,IAApC;AACA1qB,aAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDwqB,OAAO,CAACC,IAAR,CAAaC,mBAA7D;AACA3qB,aAAO,CAACC,GAAR,CAAY,2DAAZ,EAAyE2qB,iBAAiB,CAACC,kBAAlB,CAAqCJ,OAAO,CAACC,IAAR,CAAaC,mBAAlD,CAAzE;AAEErqB,YAAM,CAACwqB,yBAAP,CAAiCL,OAAO,CAACC,IAAR,CAAaC,mBAA9C,EAAmE,UAAUI,cAAV,EAA0B;AAC7F/qB,eAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CC,IAAI,CAACC,SAAL,CAAe4qB,cAAf,CAA5C,EAD6F,CAG7F;;AAGIA,sBAAc,CAACC,OAAf,CAAuBf,QAAvB,EAAiC;AAAEgB,gBAAM,EAAE;AAAV,SAAjC,EAAmD,UAAUC,SAAV,EAAqB;AACtE;AACAlrB,iBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BC,IAAI,CAACC,SAAL,CAAe+qB,SAAf,CAA3B;AACAlrB,iBAAO,CAACC,GAAR,CAAY,iDAAZ,EAA+D2qB,iBAAiB,CAACC,kBAAlB,CAAqCK,SAAS,CAACC,SAA/C,CAA/D;AAEAD,mBAAS,CAACE,YAAV,CAAuB,UAAUC,UAAV,EAAsB;AAC3CrrB,mBAAO,CAACC,GAAR,CAAY,iBAAZ;;AACAorB,sBAAU,CAACC,UAAX,GAAwB,UAAUpB,CAAV,EAAa;AAC7B;AACAlqB,qBAAO,CAACC,GAAR,CAAY,oBAAoBgqB,QAApB,GAA+B,cAA3C;AACH,aAHL;;AAKIoB,sBAAU,CAACE,OAAX,GAAqB,UAAUrB,CAAV,EAAa;AAC9B;AACAlqB,qBAAO,CAACC,GAAR,CAAY,mBAAmBiqB,CAAC,CAACxG,QAAF,EAA/B;AACH,aAHD;;AAKA,gBAAIgD,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAClkB,IAAD,CAAT,EAAiB;AAAEmkB,kBAAI,EAAE;AAAR,aAAjB,CAAX,CAZuC,CAavC;;AAEA,gBAAGF,IAAH,EAAQ;AACN1mB,qBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BymB,IAA5B;AACA2E,wBAAU,CAACG,KAAX,CAAiB9E,IAAjB;AACD;AACJ,WAnBH,EAmBKsD,YAAY,CAAC7O,IAAb,CAAkB,IAAlB,EAAwB8O,QAAxB,CAnBL;AAoBD,SAzBD,EAyBGD,YAAY,CAAC7O,IAAb,CAAkB,IAAlB,EAAwB8O,QAAxB,CAzBH;AA0BH,OAhCD,EAgCGD,YAAY,CAAC7O,IAAb,CAAkB,IAAlB,EAAwB8O,QAAxB,CAhCH;AAiCH,KA5CD,CAFyB,CAgDzB;;AACD,GAjDD;;AAmDApP,UAAQ,CAAC4Q,gBAAT,CAA0B,aAA1B,EAAyC3B,aAAzC,EAAwD,KAAxD;AACD,C,CAID;AACA;;;AAGA,SAAS4B,YAAT,CAAsBpjB,KAAtB,EAA6B;AAC3B,SACE,oBAAC,UAAD;AAAY,aAAS,EAAC;AAAtB,KACGA,KAAK,CAACsC,QADT,CADF;AAKD;;AAED8gB,YAAY,CAACC,SAAb,GAAyB;AACvB/gB,UAAQ,EAAEgf,SAAS,CAACgC,IAAV,CAAeC;AADF,CAAzB;AAMAnpB,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,EAApC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,aAAnB,EAAkC,EAAlC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,gBAAnB,EAAqC,CAArC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,gBAAnB,EAAqC,CAArC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,gBAAnB,EAAqC,CAArC;;IAEasc,e;;;;;AACX,2BAAYrc,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;;AADiB,UA6zBnBsc,YA7zBmB,GA6zBJ,UAACja,KAAD,EAAW;AACxB,YAAKka,QAAL,CAAc;AACZla,aAAK,EAAEA;AADK,OAAd;AAGD,KAj0BkB;;AAAA,UAw0BnBqC,eAx0BmB,GAw0BD,UAACtC,KAAD,EAAQC,KAAR,EAAkB;AAClC,YAAKka,QAAL,CAAc;AACZE,mBAAW,EAAEpa,KADD;AAEZgC,gBAAQ,EAAEhC;AAFE,OAAd;AAID,KA70BkB;;AAEjB,UAAKgX,KAAL,GAAa;AACXhV,cAAQ,EAAE,CADC;AAEXoY,iBAAW,EAAE,WAFF;AAGXE,iBAAW,EAAE,WAHF;AAIXC,mBAAa,EAAE,KAJJ;AAKX+E,cAAQ,EAAE;AALC,KAAb;AAFiB;AASlB,G,CACD;AACA;AACA;AACA;AACA;AACA;;;;;SAEA1hB,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACLuc,iBAAO,EAAEziB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADJ;AAELiN,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE,MAFV;AAGHzB,oBAAQ,EAAE;AAHP;AAFA,SADE;AASTma,cAAM,EAAE;AACNC,cAAI,EAAE3iB,OAAO,CAACnD,GAAR,CAAY,MAAZ;AADA,SATC;AAYTuC,YAAI,EAAE;AACJqQ,iBAAO,EAAE;AADL,SAZG;AAeTtJ,aAAK,EAAE,oBAfE;AAgBTyc,oBAAY,EAAE,KAhBL;AAiBTJ,qBAAa,EAAE,KAAKvD,KAAL,CAAWuD,aAjBjB;AAkBT,kBAAQ;AACNK,uBAAa,EAAE7iB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADT;AAEN;AACAoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IAHtC;AAG6C;AACnDkD,cAAI,EAAE;AAJA,SAlBC;AAwBT+iB,sBAAc,EAAE;AACd7c,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC;AAD9B,SAxBP;AA2BT,kBAAQ;AACNoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IADtC;AAENkD,cAAI,EAAE;AAFA,SA3BC;AA+BTgjB,sBAAc,EAAE/iB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CA/BP;AAgCTyV,oBAAY,EAAEtS,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CAhCL;AAiCTusB,sBAAc,EAAEppB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CAjCP;AAkCTwsB,sBAAc,EAAErpB,OAAO,CAACnD,GAAR,CAAY,gBAAZ;AAlCP,OAAX;;AAqCA,UAAGA,GAAG,CAACK,MAAD,EAAS,0CAAT,CAAN,EAA2D;AACzD;AACA6C,YAAI,CAAC6iB,YAAL,GAAoB/lB,GAAG,CAACK,MAAD,EAAS,0CAAT,CAAvB;AACD;;AAED,UAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,QAAvB,EAAiC0F,QAAjC,CAA0C5C,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAA1C,CAAH,EAA2E;AACzEkD,YAAI,CAACijB,MAAL,CAAYjjB,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAf,EAA2C,IAA3C,EAAiD,CAAjD,CAAnB;AACD;;AACD,UAAG,CAAC,MAAD,EAAS+F,QAAT,CAAkB5C,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAAlB,CAAH,EAAmD;AACjDkD,YAAI,CAACijB,MAAL,CAAYjjB,IAAZ,GAAmBC,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAnB;AACD;;AAED,UAAIuC,IAAI,GAAGlC,MAAM,CAACkC,IAAP,EAAX;;AACA,UAAGA,IAAH,EAAQ;AACN,YAAIA,IAAI,CAACuD,KAAT,EAAgB;AACdvD,cAAI,CAACuD,KAAL,CAAWpE,OAAX,CAAmB,UAASyT,IAAT,EAAc;AAC/B,gBAAIA,IAAI,KAAK,UAAb,EAAyB;AACvBjS,kBAAI,CAACX,IAAL,CAAUqQ,OAAV,GAAoB,IAApB;AACD,aAFD,MAEO,IAAIuC,IAAI,KAAK,cAAb,EAA6B;AAClCjS,kBAAI,CAACX,IAAL,CAAU6S,cAAV,GAA2B,IAA3B;AACD,aAFM,MAEA,IAAID,IAAI,KAAK,SAAb,EAAwB;AAC7BjS,kBAAI,CAACX,IAAL,CAAU8S,SAAV,GAAsB,IAAtB;AACD;AACF,WARD;AASD;AACF;;AAED,UAAGlS,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAH,EAA+B;AAC7B;AAEA,YAAG,KAAKoiB,KAAL,CAAWuD,aAAd,EAA4B;AAC1B;AACAziB,cAAI,CAACgD,MAAL,CAAYhD,IAAZ,GAAmB0jB,QAAQ,CAACC,GAAT,CAAaC,OAAb,CAAqBnmB,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAf,CAArB,EAAkEK,MAAM,CAACiC,MAAP,EAAlE,CAAnB;AACD,SAHD,MAGO;AACLY,cAAI,CAACgD,MAAL,CAAYhD,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAf,EAA4C,IAA5C,EAAkD,CAAlD,CAAnB;AACD;AACF;;AAEDkD,UAAI,CAACmG,KAAL,GAAa1B,KAAK,CAAC4F,IAAN,CAAWrK,IAAI,CAACmG,KAAhB,CAAb;AACAnG,UAAI,CAACmG,KAAL,CAAW4D,GAAX,GAAiBtF,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAW4D,GAA1B,CAAjB,CA7Ec,CA+Ed;;AACAxM,aAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CwC,IAA5C;AACA,aAAOA,IAAP;AACD;;;;;SAEDkjB,W;yBAAYC,Q,EAAUlb,K,EAAOC,K,EAAM;AACjCjI,aAAO,CAACC,GAAR,CAAYijB,QAAZ,EAAsBjb,KAAtB;AACD;;;;;SACD3H,qB;mCAAsBC,Y,EAAa;AACjC,UAAIC,UAAU,GAAG,EAAjB;;AACA,cAAQD,YAAR;AACE,aAAK,QAAL;AACEC,oBAAU,GAAG,UAAb;AACA;;AACF,aAAK,SAAL;AACEA,oBAAU,GAAG,WAAb;AACA;;AACF,aAAK,gBAAL;AACEA,oBAAU,GAAG,kBAAb;AACA;;AACF,aAAK,cAAL;AACEA,oBAAU,GAAG,gBAAb;AACA;;AACF,aAAK,qBAAL;AACEA,oBAAU,GAAG,uBAAb;AACA;;AACF,aAAK,eAAL;AACEA,oBAAU,GAAG,iBAAb;AACA;;AACF;AACEA,oBAAU,GAAGD,YAAY,GAAG,GAA5B;AACA;AArBJ;;AAwBA,aAAOC,UAAP;AACD;;;OACD;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;SACA6iB,iB;iCAAmB;AACjBrjB,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,IAA5B;AACD;;;;;SACDqjB,2B;2CAA6B;AAC3BhmB,aAAO,CAACC,GAAR,CAAY,6BAAZ;AACA,UAAIqmB,YAAY,GAAG5jB,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAnB;AACA,UAAI2mB,QAAJ;;AAEA,UAAG,CAAC,QAAD,EAAW5gB,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAEhD;AAEA;AACAxK,eAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,YAAIqmB,YAAY,GAAGzL,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAnB;AACA9a,eAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BqmB,YAA5B;AAEAA,oBAAY,CAACC,KAAb;AACAD,oBAAY,CAACE,MAAb;AAEA3L,gBAAQ,CAAC4L,WAAT,CAAqB,MAArB;AAED,OAdD,MAcO;AAEL,YAAG,KAAK9E,KAAL,CAAWuD,aAAd,EAA4B;AAC1B;AACAgB,kBAAQ,GAAGC,QAAQ,CAACC,GAAT,CAAaC,OAAb,CAAqBnmB,IAAI,CAACC,SAAL,CAAemmB,YAAf,CAArB,EAAmD1mB,MAAM,CAACiC,MAAP,EAAnD,CAAX;AACD,SAHD,MAGO;AACLqkB,kBAAQ,GAAGhmB,IAAI,CAACC,SAAL,CAAemmB,YAAf,EAA6B,IAA7B,EAAmC,CAAnC,CAAX;AACD;;AAGD,YAAII,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACT,QAAD,CAAT,EAAqB;AAAEU,cAAI,EAAE;AAAR,SAArB,CAAX;AACA5mB,eAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBymB,IAApB;AAEA,YAAI7a,GAAG,GAAGgb,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAV;AACA1mB,eAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB4L,GAAnB;AAEA,YAAIkb,QAAQ,GAAG,EAAf;;AAEA,YAAG,KAAKpF,KAAL,CAAWsI,QAAX,CAAoB1mB,MAApB,GAA6B,CAAhC,EAAkC;AAChCwjB,kBAAQ,GAAG,KAAKpF,KAAL,CAAWsI,QAAX,GAAsB,SAAjC;AACD,SAFD,MAEO;AACLlD,kBAAQ,GAAG,wBAAX;AACD;;AAGD,gBAAQrkB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CAAR;AACE,eAAK,CAAL;AAAS;AACPwnB,oBAAQ,GAAGA,QAAQ,GAAG,UAAtB;AACA;;AACF;AACE,gBAAG,KAAKpF,KAAL,CAAWuD,aAAd,EAA4B;AAC1B6B,sBAAQ,GAAGA,QAAQ,GAAG,OAAtB;AACD,aAFD,MAEO;AACLA,sBAAQ,GAAGA,QAAQ,GAAG,OAAtB;AACD;;AACD;AAVJ,SAzBK,CAsCL;AACA;;;AAEA,YAAIC,WAAW,GAAGpnB,MAAM,CAACkC,IAAP,GAAcmlB,WAAd,EAAlB;AACAjnB,eAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC+mB,WAAnC;AACAhnB,eAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB8mB,QAAxB;AAEA,YAAInM,qBAAqB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,CAA5B;AAEAF,6BAAqB,CAACG,YAAtB,CAAmC,MAAnC,EAA2ClP,GAA3C;AACA+O,6BAAqB,CAACG,YAAtB,CAAmC,UAAnC,EAA+CgM,QAA/C;AACAnM,6BAAqB,CAAChS,KAAtB,CAA4Bse,UAA5B,GAAyC,QAAzC;AACArM,gBAAQ,CAACsM,IAAT,CAAcC,WAAd,CAA0BxM,qBAA1B;AACAA,6BAAqB,CAACI,KAAtB,GAnDK,CAqDL;AACA;AAGE;AACA;AACA;AACF;AACA;AACA;AACD;AAEF;;;;;SACDsM,yB;yCAA2B;AACzBtnB,aAAO,CAACC,GAAR,CAAY,yCAAZ;AAEA,UAAI+U,YAAY,GAAGtS,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CAAnB;;AAEA,UAAG,CAAC,QAAD,EAAW+F,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD;AACA2e,qBAAa,GAAG,6CAAhB;AACA6C,wBAAgB,GAAG,IAAnB;AACAC,sBAAc,GAAG;AAAI,eAAK,EAAE;AAACvjB,iBAAK,EAAE,MAAR;AAAgBkW,qBAAS,EAAE,QAA3B;AAAqCsN,kBAAM,EAAE;AAA7C;AAAX,yDAAjB;AACAC,gBAAQ,GAAG,oBAAC,GAAD;AAAK,eAAK,EAAC,OAAX;AAAmB,eAAK,EAAE,CAA1B;AAA6B,eAAK,EAAE,KAAK1pB,IAAL,CAAUmG,KAAV,CAAgB4D;AAApD,UAAX;AAEAwI,oBAAY,GAAG;AACb/C,oBAAU,EAAE,IADC;AAEbtC,mBAAS,EAAE,IAFE;AAGbC,sBAAY,EAAE,IAHD;AAIbC,iBAAO,EAAE,IAJI;AAKbC,mBAAS,EAAE,IALE;AAMbC,gBAAM,EAAE,IANK;AAObC,oBAAU,EAAE,IAPC;AAQbC,kBAAQ,EAAE,IARG;AASbC,mBAAS,EAAE,IATE;AAUbC,wBAAc,EAAE,IAVH;AAWbC,6BAAmB,EAAE,IAXR;AAYbC,iBAAO,EAAE,IAZI;AAabC,2BAAiB,EAAE,IAbN;AAcbC,mBAAS,EAAE,IAdE;AAebC,+BAAqB,EAAE,IAfV;AAgBbC,eAAK,EAAE,IAhBM;AAiBbC,uBAAa,EAAE,IAjBF;AAkBbC,wBAAc,EAAE,IAlBH;AAmBbC,eAAK,EAAE,IAnBM;AAoBbC,mBAAS,EAAE,IApBE;AAqBbC,qBAAW,EAAE,IArBA;AAsBbC,0BAAgB,EAAE,IAtBL;AAuBbC,8BAAoB,EAAE,IAvBT;AAwBbC,wBAAc,EAAE,IAxBH;AAyBbC,wBAAc,EAAE,IAzBH;AA0BbC,gCAAsB,EAAE,IA1BX;AA2BbC,kBAAQ,EAAE,IA3BG;AA4BbC,iBAAO,EAAE,IA5BI;AA6BbC,uBAAa,EAAE,IA7BF;AA8BbC,oBAAU,EAAE,IA9BC;AA+BbC,2BAAiB,EAAE,IA/BN;AAgCb5H,sBAAY,EAAE,IAhCD;AAiCb6H,wBAAc,EAAE,IAjCH;AAkCbC,yBAAe,EAAE,IAlCJ;AAmCbC,uBAAa,EAAE,IAnCF;AAoCbC,mBAAS,EAAE,IApCE;AAqCbC,yBAAe,EAAE,IArCJ;AAsCbC,mBAAS,EAAE,IAtCE;AAuCbC,cAAI,EAAE;AAvCO,SAAf;AAyCD;;AAGD,UAAIwV,WAAW,GAAG,EAAlB;AACA,UAAIjB,YAAY,GAAG;AACjBrjB,oBAAY,EAAE,QADG;AAEjBK,aAAK,EAAE;AAFU,OAAnB;AAKA,UAAIkkB,cAAc,GAAG;AACnB/M,eAAO,EAAE,kBAAkB5W,MAAM,CAACH,EAAP,EADR;AAEnBD,gBAAQ,EAAE;AACR,0BAAgB,aADR;AAER,wBAAe,EAFP;AAGR,oBAAW,aAHH;AAIR,kBAAS,EAJD;AAKR,mBAAU,EALF;AAMR,qBAAY;AACV,uBAAW,EADD;AAEV,yBAAa;AAFH,WANJ;AAUR,uBAAc;AACZ,uBAAW,EADC;AAEZ,yBAAa;AAFD,WAVN;AAcR,kBAAS,YAdD;AAeR,oBAAW,CAAC;AACV,uBAAW,EADD;AAEV,yBAAa;AAFH,WAAD,CAfH;AAmBR,mBAAU,6BAnBF;AAoBR,6BAAoB,GApBZ;AAqBR,sBAAa,EArBL;AAsBR,uBAAc;AACZ,uBAAW,EADC;AAEZ,yBAAa;AAFD,WAtBN;AA0BR,uBAAc,EA1BN;AA2BR,mBAAU,EA3BF;AA4BR,qBAAY;AA5BJ;AAFS,OAArB;;AAmCA,UAAGqe,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,SAApC,CAAH,EAAkD;AAChD2lB,sBAAc,CAAC/jB,QAAf,CAAwB2oB,OAAxB,CAAgCnjB,OAAhC,GAA0CrJ,MAAM,CAACkC,IAAP,GAAcC,QAAd,EAA1C;AACAylB,sBAAc,CAAC/jB,QAAf,CAAwB2oB,OAAxB,CAAgCzE,SAAhC,GAA4C,aAAa/nB,MAAM,CAACiC,MAAP,EAAzD;AAEA2lB,sBAAc,CAAC/jB,QAAf,CAAwB4oB,MAAxB,CAA+BpjB,OAA/B,GAAyCrJ,MAAM,CAACkC,IAAP,GAAcC,QAAd,EAAzC;AACAylB,sBAAc,CAAC/jB,QAAf,CAAwB4oB,MAAxB,CAA+B1E,SAA/B,GAA2C,aAAa/nB,MAAM,CAACiC,MAAP,EAAxD;AACD;;AAED,UAAGigB,KAAK,CAACC,YAAN,CAAmBniB,MAAM,CAACiC,MAAP,EAAnB,EAAoC,cAApC,CAAH,EAAuD;AACrD,YAAGkS,QAAQ,CAACtP,OAAT,EAAH,EAAsB;AACpB+iB,wBAAc,CAAC/jB,QAAf,CAAwB2oB,OAAxB,CAAgCnjB,OAAhC,GAA0C8K,QAAQ,CAACtP,OAAT,GAAmBwiB,WAAnB,EAA1C;AACAO,wBAAc,CAAC/jB,QAAf,CAAwB2oB,OAAxB,CAAgCzE,SAAhC,GAA4C,aAAapoB,GAAG,CAACwU,QAAQ,CAACtP,OAAT,EAAD,EAAqB,KAArB,CAA5D;AACD;;AAED+iB,sBAAc,CAAC/jB,QAAf,CAAwB4oB,MAAxB,CAA+BpjB,OAA/B,GAAyCrJ,MAAM,CAACkC,IAAP,GAAcC,QAAd,EAAzC;AACAylB,sBAAc,CAAC/jB,QAAf,CAAwB4oB,MAAxB,CAA+B1E,SAA/B,GAA2C,kBAAkB/nB,MAAM,CAACiC,MAAP,EAA7D;AACD;;AAGD,UAAI,QAAOV,mBAAP,uDAAOA,mBAAP,OAA+B,QAAhC,IAA6C6T,YAAY,CAACrF,SAA7D,EAAuE;AACrE3P,eAAO,CAACC,GAAR,CAAY,mDAAZ;AACAkB,2BAAmB,CAACoE,IAApB,GAA2BtE,OAA3B,CAAmC,UAASwmB,OAAT,EAAiB;AAClD,iBAAOA,OAAO,CAACjN,SAAf;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,yBAAyBgN,OAAO,CAAC9jB,GAD3B;AAEfF,oBAAQ,EAAEgkB;AAFK,WAAjB;AAIAD,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC1H,iBAAK,EAAE,CAAC;AACNqkB,uBAAS,EAAE,yBAAyBF,OAAO,CAAC9jB;AADtC,aAAD;AAD4B,WAArC;AAKD,SAXD;AAYD;;AACD,UAAI,QAAOiP,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCoC,YAAY,CAAClF,SAAnD,EAA6D;AAC3D8C,iBAAS,CAACrN,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS2mB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACpN,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAemN,QAAQ,CAACjkB,GADlB;AAEfF,oBAAQ,EAAEmkB;AAFK,WAAjB;AAIAJ,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAeC,QAAQ,CAACjkB;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOkP,MAAP,uDAAOA,MAAP,OAAkB,QAAnB,IAAgCmC,YAAY,CAACjF,MAAhD,EAAuD;AACrD8C,cAAM,CAACtN,IAAP,GAActE,OAAd,CAAsB,UAASqrB,KAAT,EAAe;AACnC,iBAAOA,KAAK,CAAC9R,SAAb;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,YAAY6R,KAAK,CAAC3oB,GADZ;AAEfF,oBAAQ,EAAE6oB;AAFK,WAAjB;AAIA9E,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,YAAY2E,KAAK,CAAC3oB;AADM,WAArC;AAGD,SATD;AAUD;;AAED,UAAI,QAAOrC,UAAP,uDAAOA,UAAP,OAAsB,QAAvB,IAAoC0T,YAAY,CAAChF,UAApD,EAA+D;AAC7D,YAAI6M,KAAK,GAAG,EAAZ;;AACA,YAAGna,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CAAH,EAAqC;AACnCsd,eAAK,CAACK,kBAAN,GAA2B;AAACC,gBAAI,EAAE,CAAC,kBAAD,CAAP,CAA8B;;AAA9B,WAA3B;AACD;;AAED7b,kBAAU,CAACiE,IAAX,CAAgBsX,KAAhB,EAAuB5b,OAAvB,CAA+B,UAAS4mB,SAAT,EAAmB;AAChD,iBAAOA,SAAS,CAACrN,SAAjB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,gBAAgBoN,SAAS,CAAClkB,GADpB;AAEfF,oBAAQ,EAAEokB;AAFK,WAAjB;AAIAL,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,gBAAgBE,SAAS,CAAClkB;AADF,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOmP,QAAP,uDAAOA,QAAP,OAAoB,QAArB,IAAkCkC,YAAY,CAAC/E,QAAlD,EAA2D;AACzD6C,gBAAQ,CAACvN,IAAT,GAAgBtE,OAAhB,CAAwB,UAAS6mB,OAAT,EAAiB;AACvC,iBAAOA,OAAO,CAACtN,SAAf;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,cAAcqN,OAAO,CAACnkB,GADhB;AAEfF,oBAAQ,EAAEqkB;AAFK,WAAjB;AAIAN,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,cAAcG,OAAO,CAACnkB;AADE,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOkP,MAAP,uDAAOA,MAAP,OAAkB,QAAnB,IAAgCmC,YAAY,CAACjF,MAAhD,EAAuD;AACrD8C,cAAM,CAACtN,IAAP,GAActE,OAAd,CAAsB,UAASqrB,KAAT,EAAe;AACnC,iBAAOA,KAAK,CAAC9R,SAAb;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,YAAY6R,KAAK,CAAC3oB,GADZ;AAEfF,oBAAQ,EAAE6oB;AAFK,WAAjB;AAIA9E,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,YAAY2E,KAAK,CAAC3oB;AADM,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOqP,cAAP,uDAAOA,cAAP,OAA0B,QAA3B,IAAwCgC,YAAY,CAAC7E,cAAxD,EAAuE;AACrE6C,sBAAc,CAACzN,IAAf,GAAsBtE,OAAtB,CAA8B,UAAS+mB,aAAT,EAAuB;AACnD,iBAAOA,aAAa,CAACxN,SAArB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,oBAAoBuN,aAAa,CAACrkB,GAD5B;AAEfF,oBAAQ,EAAEukB;AAFK,WAAjB;AAIAR,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,oBAAoBK,aAAa,CAACrkB;AADV,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOoP,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCiC,YAAY,CAAC9E,SAAnD,EAA6D;AAC3D6C,iBAAS,CAACxN,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS8mB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACvN,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAesN,QAAQ,CAACpkB,GADlB;AAEfF,oBAAQ,EAAEskB;AAFK,WAAjB;AAIAP,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAeI,QAAQ,CAACpkB;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO4oB,oBAAP,uDAAOA,oBAAP,OAAgC,QAAjC,IAA8CvX,YAAY,CAAC5E,mBAA9D,EAAkF;AAChFmc,4BAAoB,CAAChnB,IAArB,GAA4BtE,OAA5B,CAAoC,UAASurB,kBAAT,EAA4B;AAC9D,iBAAOA,kBAAkB,CAAChS,SAA1B;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,0BAA0B+R,kBAAkB,CAAC7oB,GADvC;AAEfF,oBAAQ,EAAE+oB;AAFK,WAAjB;AAIAhF,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,0BAA0B6E,kBAAkB,CAAC7oB;AADrB,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOuP,OAAP,uDAAOA,OAAP,OAAmB,QAApB,IAAiC8B,YAAY,CAAC3E,OAAjD,EAAyD;AACvD6C,eAAO,CAAC3N,IAAR,GAAetE,OAAf,CAAuB,UAASgnB,MAAT,EAAgB;AACrC,iBAAOA,MAAM,CAACzN,SAAd;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,aAAawN,MAAM,CAACtkB,GADd;AAEfF,oBAAQ,EAAEwkB;AAFK,WAAjB;AAIAT,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,aAAaM,MAAM,CAACtkB;AADI,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOwP,iBAAP,uDAAOA,iBAAP,OAA6B,QAA9B,IAA2C6B,YAAY,CAAC1E,iBAA3D,EAA6E;AAC3E6C,yBAAiB,CAAC5N,IAAlB,GAAyBtE,OAAzB,CAAiC,UAASwrB,gBAAT,EAA0B;AACzD,iBAAOA,gBAAgB,CAACjS,SAAxB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,uBAAuBgS,gBAAgB,CAAC9oB,GADlC;AAEfF,oBAAQ,EAAEgpB;AAFK,WAAjB;AAIAjF,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,uBAAuB8E,gBAAgB,CAAC9oB;AADhB,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO4P,KAAP,uDAAOA,KAAP,OAAiB,QAAlB,IAA+ByB,YAAY,CAACvE,KAA/C,EAAqD;AACnD8C,aAAK,CAAChO,IAAN,GAAatE,OAAb,CAAqB,UAASinB,IAAT,EAAc;AACjC,iBAAOA,IAAI,CAAC1N,SAAZ;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,WAAWyN,IAAI,CAACvkB,GADV;AAEfF,oBAAQ,EAAEykB;AAFK,WAAjB;AAIAV,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,WAAWO,IAAI,CAACvkB;AADQ,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOpC,aAAP,uDAAOA,aAAP,OAAyB,QAA1B,IAAuCyT,YAAY,CAACtE,aAAvD,EAAqE;AACnEnP,qBAAa,CAACgE,IAAd,GAAqBtE,OAArB,CAA6B,UAASknB,YAAT,EAAsB;AACjD,iBAAOA,YAAY,CAAC3N,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,mBAAmB0N,YAAY,CAACxkB,GAD1B;AAEfF,oBAAQ,EAAE0kB;AAFK,WAAjB;AAIAX,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,mBAAmBQ,YAAY,CAACxkB;AADR,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO6P,cAAP,uDAAOA,cAAP,OAA0B,QAA3B,IAAwCwB,YAAY,CAACrE,cAAxD,EAAuE;AACrE6C,sBAAc,CAACjO,IAAf,GAAsBtE,OAAtB,CAA8B,UAASmnB,YAAT,EAAsB;AAClD,iBAAOA,YAAY,CAAC5N,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,qBAAqB2N,YAAY,CAACzkB,GAD5B;AAEfF,oBAAQ,EAAE2kB;AAFK,WAAjB;AAIAZ,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,qBAAqBS,YAAY,CAACzkB;AADV,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO+P,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCsB,YAAY,CAACnE,SAAnD,EAA6D;AAC3D6C,iBAAS,CAACnO,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS4gB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACrH,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAeoH,QAAQ,CAACle,GADlB;AAEfF,oBAAQ,EAAEoe;AAFK,WAAjB;AAIA2F,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAe9F,QAAQ,CAACle;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOgQ,WAAP,uDAAOA,WAAP,OAAuB,QAAxB,IAAqCqB,YAAY,CAAClE,WAArD,EAAiE;AAC/D6C,mBAAW,CAACpO,IAAZ,GAAmBtE,OAAnB,CAA2B,UAASonB,UAAT,EAAoB;AAC7C,iBAAOA,UAAU,CAAC7N,SAAlB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,iBAAiB4N,UAAU,CAAC1kB,GADtB;AAEfF,oBAAQ,EAAE4kB;AAFK,WAAjB;AAIAb,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,iBAAiBU,UAAU,CAAC1kB;AADJ,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOlC,gBAAP,uDAAOA,gBAAP,OAA4B,QAA7B,IAA0CuT,YAAY,CAACjE,gBAA1D,EAA2E;AACzEtP,wBAAgB,CAAC8D,IAAjB,GAAwBtE,OAAxB,CAAgC,UAASqnB,eAAT,EAAyB;AACvD,iBAAOA,eAAe,CAAC9N,SAAvB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,sBAAsB6N,eAAe,CAAC3kB,GADhC;AAEfF,oBAAQ,EAAE6kB;AAFK,WAAjB;AAIAd,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,sBAAsBW,eAAe,CAAC3kB;AADd,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOiQ,oBAAP,uDAAOA,oBAAP,OAAgC,QAAjC,IAA8CoB,YAAY,CAAChE,oBAA9D,EAAmF;AACjF4C,4BAAoB,CAACrO,IAArB,GAA4BtE,OAA5B,CAAoC,UAASsnB,mBAAT,EAA6B;AAC/D,iBAAOA,mBAAmB,CAAC/N,SAA3B;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,0BAA0B8N,mBAAmB,CAAC5kB,GADxC;AAEfF,oBAAQ,EAAE8kB;AAFK,WAAjB;AAIAf,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,0BAA0BY,mBAAmB,CAAC5kB;AADtB,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOnC,YAAP,uDAAOA,YAAP,OAAwB,QAAzB,IAAsCwT,YAAY,CAACpL,YAAtD,EAAmE;AACjEpI,oBAAY,CAAC+D,IAAb,GAAoBtE,OAApB,CAA4B,UAASuK,WAAT,EAAqB;AAC/C,iBAAOA,WAAW,CAACgP,SAAnB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,kBAAkBjP,WAAW,CAAC7H,GADxB;AAEfF,oBAAQ,EAAE+H;AAFK,WAAjB;AAIAgc,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,kBAAkBnc,WAAW,CAAC7H;AADN,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOkQ,aAAP,uDAAOA,aAAP,OAAyB,QAA1B,IAAuCmB,YAAY,CAACrD,aAAvD,EAAqE;AACnEkC,qBAAa,CAACtO,IAAd,GAAqBtE,OAArB,CAA6B,UAASunB,YAAT,EAAsB;AACjD,iBAAOA,YAAY,CAAChO,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,mBAAmB+N,YAAY,CAAC7kB,GAD1B;AAEfF,oBAAQ,EAAE+kB;AAFK,WAAjB;AAIAhB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,mBAAmBa,YAAY,CAAC7kB;AADR,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOoQ,QAAP,uDAAOA,QAAP,OAAoB,QAArB,IAAkCiB,YAAY,CAAC5D,QAAlD,EAA2D;AACzD2C,gBAAQ,CAACxO,IAAT,GAAgBtE,OAAhB,CAAwB,UAASoK,OAAT,EAAiB;AACvC,iBAAOA,OAAO,CAACmP,SAAf;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,cAAcpP,OAAO,CAAC1H,GADhB;AAEfF,oBAAQ,EAAE4H;AAFK,WAAjB;AAIAmc,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,cAActc,OAAO,CAAC1H;AADE,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOwQ,OAAP,uDAAOA,OAAP,OAAmB,QAApB,IAAiCa,YAAY,CAAC3D,OAAjD,EAAyD;AACvD8C,eAAO,CAAC5O,IAAR,GAAetE,OAAf,CAAuB,UAASwnB,MAAT,EAAgB;AACrC,iBAAOA,MAAM,CAACjO,SAAd;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,aAAagO,MAAM,CAAC9kB,GADd;AAEfF,oBAAQ,EAAEglB;AAFK,WAAjB;AAIAjB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,aAAac,MAAM,CAAC9kB;AADI,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOiB,aAAP,uDAAOA,aAAP,OAAyB,QAA1B,IAAuCoQ,YAAY,CAAC1D,aAAvD,EAAqE;AACnE1M,qBAAa,CAACW,IAAd,GAAqBtE,OAArB,CAA6B,UAASynB,YAAT,EAAsB;AACjD,iBAAOA,YAAY,CAAClO,SAApB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,mBAAmBiO,YAAY,CAAC/kB,GAD1B;AAEfF,oBAAQ,EAAEilB;AAFK,WAAjB;AAIAlB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,mBAAmBe,YAAY,CAAC/kB;AADR,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOjC,UAAP,uDAAOA,UAAP,OAAsB,QAAvB,IAAoCsT,YAAY,CAACzD,UAApD,EAA+D;AAC7D7P,kBAAU,CAAC6D,IAAX,GAAkBtE,OAAlB,CAA0B,UAAS0nB,SAAT,EAAmB;AAC3C,iBAAOA,SAAS,CAACnO,SAAjB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,gBAAgBkO,SAAS,CAAChlB,GADpB;AAEfF,oBAAQ,EAAEklB;AAFK,WAAjB;AAIAnB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,gBAAgBgB,SAAS,CAAChlB;AADF,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOqQ,cAAP,uDAAOA,cAAP,OAA0B,QAA3B,IAAwCgB,YAAY,CAAC9D,cAAxD,EAAuE;AACrE8C,sBAAc,CAACzO,IAAf,GAAsBtE,OAAtB,CAA8B,UAASyrB,aAAT,EAAuB;AACnD,iBAAOA,aAAa,CAAClS,SAArB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,oBAAoBiS,aAAa,CAAC/oB,GAD5B;AAEfF,oBAAQ,EAAEipB;AAFK,WAAjB;AAIAlF,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,oBAAoB+E,aAAa,CAAC/oB;AADV,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOsQ,sBAAP,uDAAOA,sBAAP,OAAkC,QAAnC,IAAgDe,YAAY,CAAC7D,sBAAhE,EAAuF;AACrF8C,8BAAsB,CAAC1O,IAAvB,GAA8BtE,OAA9B,CAAsC,UAAS0rB,qBAAT,EAA+B;AACnE,iBAAOA,qBAAqB,CAACnS,SAA7B;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,4BAA4BkS,qBAAqB,CAAChpB,GAD5C;AAEfF,oBAAQ,EAAEkpB;AAFK,WAAjB;AAIAnF,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,4BAA4BgF,qBAAqB,CAAChpB;AAD1B,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAOuQ,eAAP,uDAAOA,eAAP,OAA2B,QAA5B,IAAyCc,YAAY,CAACtD,eAAzD,EAAyE;AACvEwC,uBAAe,CAAC3O,IAAhB,GAAuBtE,OAAvB,CAA+B,UAAS2nB,cAAT,EAAwB;AACrD,iBAAOA,cAAc,CAACpO,SAAtB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,qBAAqBmO,cAAc,CAACjlB,GAD9B;AAEfF,oBAAQ,EAAEmlB;AAFK,WAAjB;AAIApB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,qBAAqBiB,cAAc,CAACjlB;AADZ,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO4Q,SAAP,uDAAOA,SAAP,OAAqB,QAAtB,IAAmCS,YAAY,CAAClD,SAAnD,EAA6D;AAC3DyC,iBAAS,CAAChP,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS4nB,QAAT,EAAkB;AACzC,iBAAOA,QAAQ,CAACrO,SAAhB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,eAAeoO,QAAQ,CAACllB,GADlB;AAEfF,oBAAQ,EAAEolB;AAFK,WAAjB;AAIArB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,eAAekB,QAAQ,CAACllB;AADA,WAArC;AAGD,SATD;AAUD;;AACD,UAAI,QAAO2Q,eAAP,uDAAOA,eAAP,OAA2B,QAA5B,IAAyCU,YAAY,CAACnD,eAAzD,EAAyE;AACvEyC,uBAAe,CAAC/O,IAAhB,GAAuBtE,OAAvB,CAA+B,UAAS6nB,cAAT,EAAwB;AACrD,iBAAOA,cAAc,CAACtO,SAAtB;AACA+M,qBAAW,CAACvc,IAAZ,CAAiB;AACfyP,mBAAO,EAAE,qBAAqBqO,cAAc,CAACnlB,GAD9B;AAEfF,oBAAQ,EAAEqlB;AAFK,WAAjB;AAIAtB,wBAAc,CAAC/jB,QAAf,CAAwBikB,OAAxB,CAAgC1c,IAAhC,CAAqC;AACnC2c,qBAAS,EAAE,qBAAqBmB,cAAc,CAACnlB;AADZ,WAArC;AAGD,SATD;AAUD;;AACD2iB,kBAAY,CAAChjB,KAAb,CAAmB0H,IAAnB,CAAwBwc,cAAxB;AAEAD,iBAAW,CAACtmB,OAAZ,CAAoB,UAAS8nB,YAAT,EAAsB;AACxCzC,oBAAY,CAAChjB,KAAb,CAAmB0H,IAAnB,CAAwB+d,YAAxB;AACD,OAFD;AAIArmB,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B2jB,YAA5B;AAEA,UAAIsG,SAAS,GAAG;AACd,wBAAiB,YADH;AAEd,kBAAW,iCAFG;AAGd,oBAAa,IAAIhrB,IAAJ,EAHC;AAId,mBAAY,SAJE;AAKd,uBAAgB,gCALF;AAMd,iBAAU,CAAC;AACT,mBAAUhC,MAAM,CAACiC,MAAP,KAAkBjC,MAAM,CAACiC,MAAP,EAAlB,GAAoC,EADrC;AACyC;AAClD,kBAASjC,MAAM,CAACkC,IAAP,KAAgBlC,MAAM,CAACkC,IAAP,GAAcC,QAAd,EAAhB,GAA2C,EAF3C;AAE+C;AACxD,uBAAc;AAHL,SAAD,CANI;AAWd,kBAAW;AACT,kBAASnC,MAAM,CAACoC,WAAP,EADA;AAET,wBAAc;AACZ,qBAAS;AADG;AAFL,SAXG;AAiBd,kBAAU,EAjBI,CAoBhB;;AApBgB,OAAhB;AAqBAC,iBAAW,CAACC,aAAZ,CAA0B0qB,SAA1B,EAAqC;AAACzqB,gBAAQ,EAAE5C,GAAG,CAACK,MAAD,EAAS,2CAAT,EAAsD,KAAtD;AAAd,OAArC,EAAkH,UAASwC,KAAT,EAAgBC,MAAhB,EAAuB;AACvI,YAAGD,KAAH,EAAUpC,OAAO,CAACoC,KAAR,CAAc,wCAAd,EAAwDA,KAAK,CAACE,WAA9D;AACV,YAAGD,MAAH,EAAWrC,OAAO,CAACoC,KAAR,CAAcC,MAAd;AACZ,OAHD;AAID;;;;;SACDwqB,a;6BAAe;AACb7sB,aAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCyT,SAAS,CAACnO,IAAV,GAAiB2E,KAAjB,EAAtC;AAEA,UAAI4iB,oBAAoB,GAAG;AACzB,gBAAQ,mBADiB;AAEzB,eAAO;AAAE,kBAAQ,MAAV;AAAkB,wBAAc;AAAE,oBAAQ;AAAV;AAAhC,SAFkB;AAGzB,oBAAY;AAHa,OAA3B;AAMApZ,eAAS,CAACnO,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS4gB,QAAT,EAAkB;AACzC,YAAIkL,UAAU,GAAG;AACf,kBAAQ,SADO;AAEf,wBAAclL,QAFC;AAGf,sBAAY;AACV,oBAAQ,OADE;AAEV,2BAAe,CAAEtiB,GAAG,CAACsiB,QAAD,EAAW,oBAAX,EAAiC,IAAjC,CAAL,EAA6CtiB,GAAG,CAACsiB,QAAD,EAAW,mBAAX,EAAgC,IAAhC,CAAhD;AAFL;AAHG,SAAjB;AAQAiL,4BAAoB,CAACE,QAArB,CAA8BhiB,IAA9B,CAAmC+hB,UAAnC;AACD,OAVD;AAaArqB,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BmqB,oBAA5B;AAGD;;;;;SACDG,U;wBAAWrH,Q,EAAUlb,K,EAAOC,K,EAAM;AAChC3K,aAAO,CAACC,GAAR,CAAY,+BAAZ;AACA,UAAIoD,IAAI,GAAG,IAAX;AAEA,UAAID,WAAW,GAAGV,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAlB;;AAEA,cAAQmD,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CAAR;AACE,aAAK,CAAL;AAAS;AACT,eAAK+nB,yBAAL;AACA;;AACA,aAAK,CAAL;AAAS;AACP,eAAKuF,aAAL;AACA;;AACF;AACE,eAAKvF,yBAAL;AACA;AATJ;;AAYA,UAAG,CAAC,MAAD,EAAShiB,QAAT,CAAkBhF,MAAM,CAACiK,SAAP,CAAiBC,QAAnC,CAAH,EAAgD;AAC9C9C,sBAAc,CAACsD,IAAf,CAAoB,qBAApB;AACD;AACF;;;;;SACDge,sB;oCAAuBte,K,EAAOY,K,EAAOX,K,EAAM;AACzC3K,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCyK,KAAtC,EAA6CY,KAA7C,EAAoDX,KAApD;AACAjI,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BgI,KAA9B;AACD;;;;;SAODuiB,c;4BAAexiB,K,EAAOC,K,EAAM;AAC1B3K,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8ByK,KAA9B,EAAqCC,KAArC;AACA,WAAKka,QAAL,CAAc;AACZoF,gBAAQ,EAAEtf;AADE,OAAd;AAGD;;;;;SAODse,oB;oCAAsB,CAErB;;;;;SACDkE,mB;mCAAqB;AACnBntB,aAAO,CAACC,GAAR,CAAY,8BAAZ;AACA6D,aAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,SAAzB,IAAsChE,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4ByC,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAA5B,CAAtC;;AAGA,cAAQmD,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CAAR;AACE,aAAK,CAAL;AACES,iBAAO,CAACC,GAAR,CAAY,8BAAZ;AACA0S,iBAAO,CAACtR,MAAR,CAAeqB,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAf,EAA4C;AAAC6tB,sBAAU,EAAE,KAAb;AAAoB1oB,kBAAM,EAAE;AAA5B,WAA5C,EAAgF,UAAStC,KAAT,EAAgBC,MAAhB,EAAuB;AACrGrC,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBmC,KAArB;;AACA,gBAAGC,MAAH,EAAU;AACRqF,4BAAc,CAACsD,IAAf,CAAoB,UAApB;AACD;AACF,WALD;AAMA;;AACF,aAAK,CAAL;AACEhL,iBAAO,CAACC,GAAR,CAAY,yBAAZ;AACAL,gBAAM,CAACsS,IAAP,CAAY,wBAAZ,EAAsCxP,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAtC,EAAmE,UAAS6C,KAAT,EAAgBC,MAAhB,EAAuB;AACxF,gBAAGD,KAAH,EAAS;AAACpC,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBmC,KAArB;AAA6B;;AACvCxC,kBAAM,CAACsS,IAAP,CAAY,gBAAZ,EAA8B,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AACnD,kBAAGA,MAAH,EAAU;AACRK,uBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BN,MAA7B;AACD;AACF,aAJD;AAKD,WAPD,EAFF,CAWE;AACA;AACA;AACA;;AAEF;;AACA,aAAK,CAAL;AACErC,iBAAO,CAACC,GAAR,CAAY,qCAAZ;AACA;;AAEF;AACE;AAhCJ;AAmCD;;;;;SACDipB,mB;mCAAqB;AACnB,WAAKrE,QAAL,CAAc;AAACK,qBAAa,EAAE,CAAC,KAAKvD,KAAL,CAAWuD;AAA5B,OAAd;AACD;;;;;SACDmI,0B;wCAA2B3iB,K,EAAOY,K,EAAOX,K,EAAM;AAC7C;AACAjI,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BgI,KAA9B;AACD;;;;;SACD2iB,0B;wCAA2B5iB,K,EAAOY,K,EAAOX,K,EAAM;AAC7C;AACAjI,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BgI,KAA9B;AACD;;;;;SACD1C,M;sBAAQ;AAAA,UACE0E,QADF,GACe,KAAKgV,KAAL,CAAWhV,QAD1B,CACEA,QADF;AAGN,UAAIwf,QAAJ;AACA,UAAIhD,aAAa,GAAG,WAApB;AACA,UAAI6C,gBAAgB,GAAG,KAAvB;AACA,UAAIuB,aAAJ;AAEA,UAAItB,cAAc,GAAG,oBAAC,YAAD;AACnB,aAAK,EAAE9C,aADY;AAEnB,eAAO,EAAE,KAAKnD,2BAAL,CAAiC7K,IAAjC,CAAsC,IAAtC,CAFU;AAGnB,aAAK,EAAE;AAAClR,kBAAQ,EAAE,QAAX;AAAqB2V,gBAAM,EAAE,MAA7B;AAAqC1W,sBAAY,EAAE;AAAnD,SAHY;AAInB,eAAO,EAAE,IAJU;AAKnB,gBAAQ,EAAE8iB,gBALS;AAMnB,iBAAS;AANU,QAArB;;AASA,UAAG,CAAC,QAAD,EAAW1mB,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD;AACA2e,qBAAa,GAAG,6CAAhB;AACA6C,wBAAgB,GAAG,IAAnB;AACAC,sBAAc,GAAG;AAAI,eAAK,EAAE;AAACrN,qBAAS,EAAE,QAAZ;AAAsBlW,iBAAK,EAAE,MAA7B;AAAqCwjB,kBAAM,EAAE;AAA7C;AAAX,yDAAjB;AACD,OALD,MAKO;AACLC,gBAAQ,GAAG,oBAAC,GAAD;AAAK,eAAK,EAAC,OAAX;AAAmB,eAAK,EAAE,CAA1B;AAA6B,eAAK,EAAE,KAAK1pB,IAAL,CAAUmG,KAAV,CAAgB4D;AAApD,UAAX;AACA+gB,qBAAa,GAAG,oBAAC,SAAD;AACd,YAAE,EAAC,UADW;AAEd,cAAI,EAAC,UAFS;AAGd,cAAI,EAAC,MAHS;AAId,2BAAiB,EAAC,WAJJ;AAKd,kBAAQ,EAAE,KAAKL,cAAL,CAAoB/R,IAApB,CAAyB,IAAzB,CALI;AAMd,4BAAkB,EAAE,IANN;AAOd,kBAAQ,EAAGvb,MAAM,CAACkC,IAAP,KAAgBlC,MAAM,CAACkC,IAAP,GAAcC,QAAd,KAA2B,OAA3C,GAAqD,EAPlD,CAQd;AACA;AATc;AAUd,mBAAS;AAVK,UAAhB;AAYD;;AAED,UAAIqnB,eAAe,GAAG,CAAtB;AACA,UAAIC,oBAAoB,GAAG,CAA3B;AACA,UAAIC,gBAAgB,GAAG,CAAvB;;AAEA,UAAGhpB,MAAM,CAACipB,WAAP,GAAqBjpB,MAAM,CAACkpB,UAA/B,EAA0C;AACxCJ,uBAAe,GAAG,EAAlB;AACAC,4BAAoB,GAAG,EAAvB;AACAC,wBAAgB,GAAG,EAAnB;AACD;;AAED,UAAIG,UAAU,GAAG,MAAjB,CAhDM,CAkDN;AACA;AACA;;AAEA,UAAI+D,YAAJ;;AACA,UAAG9qB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,MAAkC,CAArC,EAAuC;AACrCiuB,oBAAY,GAAG,iCACb,oBAAC,SAAD;AACE,YAAE,EAAC,UADL;AAEE,cAAI,EAAC,UAFP;AAGE,cAAI,EAAC,MAHP;AAIE,2BAAiB,EAAC,gBAJpB,CAKE;AACA;AANF;AAOE,4BAAkB,EAAE,IAPtB;AAQE,kBAAQ,EAAC,oCARX,CASE;AATF;AAUE,mBAAS;AAVX,UADa,EAYT,+BAZS,EAcb,oBAAC,SAAD;AACE,YAAE,EAAC,eADL;AAEE,cAAI,EAAC,eAFP;AAGE,cAAI,EAAC,MAHP;AAIE,2BAAiB,EAAC,gBAJpB,CAKE;AACA;AANF;AAOE,4BAAkB,EAAE,IAPtB;AAQE,kBAAQ,EAAC,2BARX;AASE,mBAAS;AATX,WAUI,oBAAC,UAAD;AACE,eAAK,EAAC,UADR;AAEE,mBAAS,EAAC,gBAFZ;AAGE,iBAAO,EAAE,IAHX;AAIE,kBAAQ,EAAE,KAAKC,kBAJjB;AAKE,cAAI,EAAG,oBAAC,aAAD,OALT;AAME,eAAK,EAAE;AAAC7O,qBAAS,EAAE,OAAZ;AAAqBxD,kBAAM,EAAE;AAA7B;AANT,UAVJ,CAda,EAgCC,+BAhCD,CAAf;AAkCD;;AAED,aAEE,oBAAC,SAAD;AAAW,UAAE,EAAC,iBAAd;AAAgC,aAAK,EAAE;AAAClS,sBAAY,EAAE;AAAf;AAAvC,SACE,oBAAC,IAAD;AACI,aAAK,EAAE,KAAKyY,KAAL,CAAWhV,QADtB;AAEI,gBAAQ,EAAE,KAAKK;AAFnB,SAIE,oBAAC,GAAD;AAAK,aAAK,EAAC,QAAX;AAAoB,aAAK,EAAE,CAA3B;AAA8B,aAAK,EAAE,KAAKvK,IAAL,CAAUmG,KAAV,CAAgB4D;AAArD,QAJF,EAMI2f,QANJ,CADF,EAUG,KAAKxK,KAAL,CAAWhV,QAAX,KAAwB,CAAxB,IAA6B,oBAAC,YAAD,QAC5B,oBAAC,QAAD,QACA,oBAAC,WAAD;AACI,yBAAiB,EAAC,kBADtB;AAEI,aAAK,EAAE,KAAKlK,IAAL,CAAUqpB,cAFrB;AAGI,gBAAQ,EAAE,KAAKuB,0BAHnB;AAII,iBAAS;AAJb,SAMI,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC;AAAhC,QANJ,EAOI,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC,kBAAhC;AAAmD,gBAAQ;AAA3D,QAPJ,EAQI,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC,qBAAhC;AAAsD,gBAAQ;AAA9D,QARJ,EASI,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC,oBAAhC;AAAqD,gBAAQ;AAA7D,QATJ,EAUI,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC;AAAhC,QAVJ,CADA,EAeIE,aAfJ,EAgBE,+BAhBF,EAiBE,oBAAC,MAAD;AAAQ,gBAAQ,EAAE,KAAKrE,mBAAL,CAAyB/N,IAAzB,CAA8B,IAA9B,CAAlB;AAAwD,eAAO,EAAE5b,GAAG,CAAC,IAAD,EAAO,oBAAP,CAApE;AAAkG,aAAK,EAAC,SAAxG;AAAkH,qBAAa,EAAC;AAAhI,QAjBF,EAiB4I,+BAjB5I,EAmBE,oBAAC,YAAD;AACE,UAAE,EAAC,cADL;AAEE,aAAK,EAAC,qCAFR;AAGE,eAAO,EAAE,KAAK0tB,UAAL,CAAgB9R,IAAhB,CAAqB,IAArB,CAHX,CAIE;AAJF;AAKE,eAAO,EAAE,IALX;AAME,aAAK,EAAE;AAACyE,gBAAM,EAAE,MAAT;AAAiB1W,sBAAY,EAAE;AAA/B,SANT;AAOE,iBAAS;AAPX,QAnBF,EA6BE;AACE,UAAE,EAAC,cADL;AAEE,aAAK,EAAG3J,GAAG,CAAC,IAAD,EAAO,kBAAP,CAFb;AAGE,gBAAQ,EAAI,KAAK0pB,oBAHnB;AAIE,aAAK,EAAE;AAACvgB,eAAK,EAAE,MAAR;AAAgBuB,kBAAQ,EAAE,UAA1B;AAAsCyjB,mBAAS,EAAE,OAAjD;AAA0D/kB,gBAAM,EAAE,OAAlE;AAA2EglB,yBAAe,EAAE,SAA5F;AAAuGzN,qBAAW,EAAE,MAApH;AAA4H0N,sBAAY,EAAE;AAA1I;AAJT,QA7BF,CAD4B,EAoC1B3B,cApC0B,EAqC5B;AAAG,UAAE,EAAC,uBAAN;AAA8B,aAAK,EAAE;AAAChjB,iBAAO,EAAE;AAAV;AAArC,QArC4B,CAVhC,EAkDG,KAAK0Y,KAAL,CAAWhV,QAAX,KAAwB,CAAxB,IAA6B,oBAAC,YAAD,QAC5B,oBAAC,QAAD,QACE;AACE,UAAE,EAAC,cADL;AAEE,aAAK,EAAGpN,GAAG,CAAC,IAAD,EAAO,kBAAP,CAFb;AAGE,gBAAQ,EAAI,KAAK0pB,oBAHnB;AAIE,aAAK,EAAE;AAACvgB,eAAK,EAAE,MAAR;AAAgBuB,kBAAQ,EAAE,UAA1B;AAAsCyjB,mBAAS,EAAE,OAAjD;AAA0D/kB,gBAAM,EAAE,OAAlE;AAA2EglB,yBAAe,EAAE,SAA5F;AAAuGzN,qBAAW,EAAE,MAApH;AAA4H0N,sBAAY,EAAE,KAA1I;AAAiJC,oBAAU,EAAE;AAA7J;AAJT,QADF,CAD4B,CAlDhC,EA6DG,KAAKlM,KAAL,CAAWhV,QAAX,KAAwB,CAAxB,IAA6B,oBAAC,YAAD,QAC5B,oBAAC,QAAD,QACE,iCACE,oBAAC,WAAD;AACE,yBAAiB,EAAC,mBADpB;AAEE,aAAK,EAAE,KAAKlK,IAAL,CAAUspB,cAFnB;AAGE,gBAAQ,EAAE,KAAKuB,0BAHjB;AAIE,iBAAS;AAJX,SAME,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,mBAAvB;AAA2C,WAAG,EAAC,mBAA/C;AAAmE,mBAAW,EAAC;AAA/E,QANF,EAOE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,mBAAvB;AAA2C,WAAG,EAAC,mBAA/C;AAAmE,mBAAW,EAAC;AAA/E,QAPF,EAQE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,mBAAvB;AAA2C,WAAG,EAAC,mBAA/C;AAAmE,mBAAW,EAAC;AAA/E,QARF,CADF,EAaIE,YAbJ,EAeE,oBAAC,YAAD;AACE,aAAK,EAAC,wBADR;AAEE,eAAO,EAAE,KAAKL,mBAAL,CAAyBhS,IAAzB,CAA8B,IAA9B,CAFX;AAGE,aAAK,EAAE;AAAClR,kBAAQ,EAAE,QAAX;AAAqB2V,gBAAM,EAAE,MAA7B;AAAqC1W,sBAAY,EAAE;AAAnD,SAHT;AAIE,eAAO,EAAE,IAJX;AAKE,iBAAS;AALX,QAfF,CADF,CAD4B,CA7DhC,CAFF;AAqGD;;;;;SAEDoS,U;wBAAWI,S,EAAU;AACnB1b,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Byb,SAA1B;AAEA9b,YAAM,CAACsS,IAAP,CAAYwJ,SAAZ;AACD;;;;;;EA7kCkCnU,KAAK,CAACuE,S;;AAglC3C6Y,eAAe,CAACgH,SAAhB,GAA4B,EAA5B;AACAlkB,UAAU,CAACkd,eAAe,CAAC5Y,SAAjB,EAA4BvE,eAA5B,CAAV;AAxtCAhI,MAAM,CAACmF,aAAP,CAytCeggB,eAztCf,E;;;;;;;;;;;;;;;ACAAnlB,MAAM,CAACiG,MAAP,CAAc;AAACY,YAAU,EAAC;AAAA,WAAIA,UAAJ;AAAA;AAAZ,CAAd;AAA2C,IAAI8F,UAAJ,EAAeH,WAAf,EAA2BlF,UAA3B,EAAsCF,QAAtC,EAA+CC,SAA/C,EAAyD8c,WAAzD,EAAqExb,QAArE,EAA8E8D,GAA9E,EAAkFC,IAAlF,EAAuF6S,SAAvF,EAAiGnD,YAAjG,EAA8G1O,MAA9G;AAAqH1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC0M,YAAD,YAAYzM,CAAZ,EAAc;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAA5B;AAA6BsM,aAA7B,YAAyCtM,CAAzC,EAA2C;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA1D;AAA2DoH,YAA3D,YAAsEpH,CAAtE,EAAwE;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAAtF;AAAuFkH,UAAvF,YAAgGlH,CAAhG,EAAkG;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAA9G;AAA+GmH,WAA/G,YAAyHnH,CAAzH,EAA2H;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAxI;AAAyIikB,aAAzI,YAAqJjkB,CAArJ,EAAuJ;AAACikB,eAAW,GAACjkB,CAAZ;AAAc,GAAtK;AAAuKyI,UAAvK,YAAgLzI,CAAhL,EAAkL;AAACyI,YAAQ,GAACzI,CAAT;AAAW,GAA9L;AAA+LuM,KAA/L,YAAmMvM,CAAnM,EAAqM;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAA5M;AAA6MwM,MAA7M,YAAkNxM,CAAlN,EAAoN;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA5N;AAA6Nqf,WAA7N,YAAuOrf,CAAvO,EAAyO;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAAtP;AAAuPkc,cAAvP,YAAoQlc,CAApQ,EAAsQ;AAACkc,gBAAY,GAAClc,CAAb;AAAe,GAAtR;AAAuRwN,QAAvR,YAA8RxN,CAA9R,EAAgS;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAA1S,CAA1B,EAAsU,CAAtU;AAAyU,IAAIkkB,OAAJ,EAAYC,SAAZ;AAAsBrkB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACmkB,SAAD,YAASlkB,CAAT,EAAW;AAACkkB,WAAO,GAAClkB,CAAR;AAAU,GAAtB;AAAuBmkB,WAAvB,YAAiCnkB,CAAjC,EAAmC;AAACmkB,aAAS,GAACnkB,CAAV;AAAY;AAAhD,CAAxC,EAA0F,CAA1F;AAA6F,IAAIokB,OAAJ,EAAYC,OAAZ,EAAoBC,QAApB,EAA6BC,SAA7B,EAAuCC,MAAvC,EAA8CC,SAA9C;AAAwD3kB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACqkB,SAAD,YAASpkB,CAAT,EAAW;AAACokB,WAAO,GAACpkB,CAAR;AAAU,GAAtB;AAAuBqkB,SAAvB,YAA+BrkB,CAA/B,EAAiC;AAACqkB,WAAO,GAACrkB,CAAR;AAAU,GAA5C;AAA6CskB,UAA7C,YAAsDtkB,CAAtD,EAAwD;AAACskB,YAAQ,GAACtkB,CAAT;AAAW,GAApE;AAAqEukB,WAArE,YAA+EvkB,CAA/E,EAAiF;AAACukB,aAAS,GAACvkB,CAAV;AAAY,GAA9F;AAA+FwkB,QAA/F,YAAsGxkB,CAAtG,EAAwG;AAACwkB,UAAM,GAACxkB,CAAP;AAAS,GAAlH;AAAmHykB,WAAnH,YAA6HzkB,CAA7H,EAA+H;AAACykB,aAAS,GAACzkB,CAAV;AAAY;AAA5I,CAAxC,EAAsL,CAAtL;AAAyL,IAAI2H,IAAJ,EAASD,GAAT,EAAaE,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC4H,MAAD,YAAM3H,CAAN,EAAQ;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAAhB;AAAiB0H,KAAjB,YAAqB1H,CAArB,EAAuB;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI0kB,WAAJ;AAAgB5kB,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAAA,uBAASC,CAAT,EAAW;AAAC0kB,eAAW,GAAC1kB,CAAZ;AAAc;AAA1B,CAAjD,EAA6E,CAA7E;AAAgF,IAAI2kB,aAAJ;AAAkB7kB,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAAA,uBAASC,CAAT,EAAW;AAAC2kB,iBAAa,GAAC3kB,CAAd;AAAgB;AAA5B,CAAnD,EAAiF,CAAjF;AAAoF,IAAI4kB,cAAJ;AAAmB9kB,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAAA,uBAASC,CAAT,EAAW;AAAC4kB,kBAAc,GAAC5kB,CAAf;AAAiB;AAA7B,CAApD,EAAmF,CAAnF;AAAsF,IAAI6kB,oBAAJ;AAAyB/kB,MAAM,CAACC,IAAP,CAAY,8CAAZ,EAA2D;AAAA,uBAASC,CAAT,EAAW;AAAC6kB,wBAAoB,GAAC7kB,CAArB;AAAuB;AAAnC,CAA3D,EAAgG,CAAhG;AAAmG,IAAIuN,oBAAJ;AAAyBzN,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAACwN,sBAAD,YAAsBvN,CAAtB,EAAwB;AAACuN,wBAAoB,GAACvN,CAArB;AAAuB;AAAhD,CAArC,EAAuF,CAAvF;AAA0F,IAAI8kB,MAAJ;AAAWhlB,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAAC8kB,UAAM,GAAC9kB,CAAP;AAAS;AAArB,CAAjC,EAAwD,CAAxD;AAA2D,IAAIyN,iBAAJ;AAAsB3N,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACyN,qBAAiB,GAACzN,CAAlB;AAAoB;AAAhC,CAAvC,EAAyE,EAAzE;AAA6E,IAAIE,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,EAAlD;AAAsD,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAA8C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,EAA/E;AAAmF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,EAArD;AAAyD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,EAArD;AAAyD,IAAI0N,KAAJ;AAAU5N,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,EAAlD;AAAsD,IAAIuH,cAAJ,EAAmBD,cAAnB,EAAkCG,aAAlC,EAAgDJ,SAAhD,EAA0DG,KAA1D;AAAgE1H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACwH,gBAAD,YAAgBvH,CAAhB,EAAkB;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApC;AAAqCsH,gBAArC,YAAoDtH,CAApD,EAAsD;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAxE;AAAyEyH,eAAzE,YAAuFzH,CAAvF,EAAyF;AAACyH,iBAAa,GAACzH,CAAd;AAAgB,GAA1G;AAA2GqH,WAA3G,YAAqHrH,CAArH,EAAuH;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAApI;AAAqIwH,OAArI,YAA2IxH,CAA3I,EAA6I;AAACwH,SAAK,GAACxH,CAAN;AAAQ;AAAtJ,CAAvC,EAA+L,EAA/L;AAAmM,IAAI+kB,WAAJ;AAAgBjlB,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACglB,aAAD,YAAa/kB,CAAb,EAAe;AAAC+kB,eAAW,GAAC/kB,CAAZ;AAAc;AAA9B,CAArB,EAAqD,EAArD;AAAyD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;AAAqE,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,EAArC;AAAyC,IAAIilB,eAAJ;AAAoBnlB,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACklB,iBAAD,YAAiBjlB,CAAjB,EAAmB;AAACilB,mBAAe,GAACjlB,CAAhB;AAAkB;AAAtC,CAAhC,EAAwE,EAAxE;;IA6B7/E2G,U;;;;;AACX,sBAAYiC,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;AACA,UAAKqZ,KAAL,GAAa;AACXoD,iBAAW,EAAE,WADF;AAEXE,iBAAW,EAAE,WAFF;AAGXC,mBAAa,EAAE;AAHJ,KAAb;AAFiB;AAOlB;;;;SAGD3c,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACLuc,iBAAO,EAAEziB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADJ;AAELiN,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE;AAFV;AAFA,SADE;AAQT0Y,cAAM,EAAE;AACNC,cAAI,EAAE3iB,OAAO,CAACnD,GAAR,CAAY,MAAZ;AADA,SARC;AAWTuC,YAAI,EAAE;AACJqQ,iBAAO,EAAE;AADL,SAXG;AAcTtJ,aAAK,EAAE,oBAdE;AAeTyc,oBAAY,EAAE,KAfL;AAgBTJ,qBAAa,EAAE,KAAKvD,KAAL,CAAWuD,aAhBjB;AAiBT,kBAAQ;AACNK,uBAAa,EAAE7iB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADT;AAEN;AACAoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IAHtC;AAG6C;AACnDkD,cAAI,EAAE;AAJA,SAjBC;AAuBT+iB,sBAAc,EAAE;AACd7c,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC;AAD9B,SAvBP;AA0BT,kBAAQ;AACNoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IADtC;AAENkD,cAAI,EAAE;AAFA,SA1BC;AA8BTgjB,sBAAc,EAAE/iB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CA9BP;AA+BTyV,oBAAY,EAAEtS,OAAO,CAACnD,GAAR,CAAY,cAAZ;AA/BL,OAAX;;AAmCA,UAAGmD,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAH,EAAsC;AACpCkD,YAAI,CAACgD,MAAL,CAAYhD,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAf,EAAmD,IAAnD,EAAyD,CAAzD,CAAnB;AACD;;AAEDkD,UAAI,CAACmG,KAAL,GAAa1B,KAAK,CAAC4F,IAAN,CAAWrK,IAAI,CAACmG,KAAhB,CAAb;AACAnG,UAAI,CAACmG,KAAL,CAAW4D,GAAX,GAAiBtF,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAW4D,GAA1B,CAAjB;AAEAxM,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCwC,IAAvC;AACA,aAAOA,IAAP;AACD;;;;;SAEDwF,M;sBAAQ;AACN,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,eAAD,OADF,CADF,CADF;AAOD;;;;;;EAlE6BV,KAAK,CAACuE,S;;AAuEtCrE,UAAU,CAACpB,UAAU,CAAC0F,SAAZ,EAAuBvE,eAAvB,CAAV;AApGAhI,MAAM,CAACmF,aAAP,CAqGe0B,UArGf,E;;;;;;;;;;;;;;;;;ACAA7G,MAAM,CAACiG,MAAP,CAAc;AAACW,aAAW,EAAC;AAAA,WAAIA,WAAJ;AAAA;AAAb,CAAd;AAA6C,IAAIgB,GAAJ,EAAQE,GAAR;AAAY9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe4H,KAAf,YAAmB5H,CAAnB,EAAqB;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5B,CAA9B,EAA4D,CAA5D;AAA+D,IAAIkH,QAAJ,EAAaC,SAAb,EAAuBmF,WAAvB,EAAmCC,GAAnC,EAAuCC,IAAvC,EAA4CC,UAA5C,EAAuD4S,SAAvD,EAAiEnD,YAAjE,EAA8E1O,MAA9E;AAAqF1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACmH,UAAD,YAAUlH,CAAV,EAAY;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAxB;AAAyBmH,WAAzB,YAAmCnH,CAAnC,EAAqC;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAlD;AAAmDsM,aAAnD,YAA+DtM,CAA/D,EAAiE;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAAhF;AAAiFuM,KAAjF,YAAqFvM,CAArF,EAAuF;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAA9F;AAA+FwM,MAA/F,YAAoGxM,CAApG,EAAsG;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA9G;AAA+GyM,YAA/G,YAA0HzM,CAA1H,EAA4H;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAA1I;AAA2Iqf,WAA3I,YAAqJrf,CAArJ,EAAuJ;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAApK;AAAqKkc,cAArK,YAAkLlc,CAAlL,EAAoL;AAACkc,gBAAY,GAAClc,CAAb;AAAe,GAApM;AAAqMwN,QAArM,YAA4MxN,CAA5M,EAA8M;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAAxN,CAA1B,EAAoP,CAApP;AAAuP,IAAI6H,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYC,IAAZ,EAAiBC,MAAjB;AAAwBrI,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6BkI,MAA7B,YAAkClI,CAAlC,EAAoC;AAACkI,QAAI,GAAClI,CAAL;AAAO,GAA5C;AAA6CmI,QAA7C,YAAoDnI,CAApD,EAAsD;AAACmI,UAAM,GAACnI,CAAP;AAAS;AAAhE,CAArB,EAAuF,CAAvF;AAA0F,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIqH,SAAJ,EAAcE,cAAd,EAA6BE,aAA7B;AAA2C3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACsH,WAAD,YAAWrH,CAAX,EAAa;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA1B;AAA2BuH,gBAA3B,YAA0CvH,CAA1C,EAA4C;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAA9D;AAA+DyH,eAA/D,YAA6EzH,CAA7E,EAA+E;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAhG,CAAvC,EAAyI,CAAzI;AAA4I,IAAIouB,IAAJ;AAAStuB,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAAA,uBAASC,CAAT,EAAW;AAACouB,QAAI,GAACpuB,CAAL;AAAO;AAAnB,CAArC,EAA0D,CAA1D;AAA6D,IAAIwI,MAAJ;AAAW1I,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACwI,UAAM,GAACxI,CAAP;AAAS;AAArB,CAAvC,EAA8D,CAA9D;AAAiE,IAAIyI,QAAJ;AAAa3I,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAAA,uBAASC,CAAT,EAAW;AAACyI,YAAQ,GAACzI,CAAT;AAAW;AAAvB,CAAzC,EAAkE,CAAlE;;AAeppC,IAAMquB,UAAU,GAAG,UAAAC,KAAK;AAAA,SAAK;AAC3BC,QAAI,EAAE;AACJhlB,aAAO,EAAE,MADL;AAEJilB,oBAAc,EAAE,QAFZ;AAGJC,cAAQ,EAAE;AAHN,KADqB;AAM3BC,QAAI,EAAE;AACJlC,YAAM,EAAE8B,KAAK,CAACK,OAAN,CAAcC;AADlB;AANqB,GAAL;AAAA,CAAxB;;AAYA5rB,OAAO,CAAC2F,UAAR,CAAmB,sBAAnB,EAA2C,CAA3C;AAEA3F,OAAO,CAAC2F,UAAR,CAAmB,aAAnB,EAAkC,IAAlC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,IAApC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,iBAAnB,EAAsC,IAAtC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,IAApC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,sBAAnB,EAA2C,IAA3C;AAEA3F,OAAO,CAAC2F,UAAR,CAAmB,uBAAnB,EAA4C,IAA5C;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,qBAAnB,EAA0C,IAA1C;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,qBAAnB,EAA0C,IAA1C;AAEA3F,OAAO,CAAC2F,UAAR,CAAmB,oBAAnB,EAAyC,IAAzC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,iBAAnB,EAAsC,IAAtC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,aAAnB,EAAkC,IAAlC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,iBAAnB,EAAsC,IAAtC;AAEA3F,OAAO,CAAC2F,UAAR,CAAmB,wBAAnB,EAA6C,OAA7C;;IAEajC,W;;;;;AACX,uBAAYkC,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;AACA,UAAKqZ,KAAL,GAAa;AACX4M,uBAAiB,EAAE,EADR;AAEXC,mBAAa,EAAE;AAFJ,KAAb;AAFiB;AAMlB;;;;SAEDjmB,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACL4D,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE,MAFV;AAGHhE,iBAAK,EAAE;AAHJ;AADA,SADE;AAQTiE,gBAAQ,EAAEjK,OAAO,CAACnD,GAAR,CAAY,sBAAZ,CARD;AASTqN,WAAG,EAAE,IATI;AAUTC,uBAAe,EAAE,EAVR;AAWTiZ,qBAAa,EAAE,EAXN;AAYT2I,eAAO,EAAE;AACPC,sBAAY,EAAEhsB,OAAO,CAACnD,GAAR,CAAY,aAAZ,CADP;AAEPovB,wBAAc,EAAEjsB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAFT;AAGPqvB,0BAAgB,EAAElsB,OAAO,CAACnD,GAAR,CAAY,iBAAZ,CAHX;AAIPsvB,wBAAc,EAAEnsB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAJT;AAKPuvB,+BAAqB,EAAEpsB,OAAO,CAACnD,GAAR,CAAY,sBAAZ,CALhB;AAMPwvB,+BAAqB,EAAExvB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,+CAAhB,CANnB;AAOPktB,6BAAmB,EAAEzvB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,6CAAhB,CAPjB;AAQPmtB,6BAAmB,EAAE1vB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,6CAAhB,CARjB;AASPotB,4BAAkB,EAAExsB,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CATb;AAUPud,yBAAe,EAAEpa,OAAO,CAACnD,GAAR,CAAY,iBAAZ,CAVV;AAWPwd,qBAAW,EAAEra,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAXN;AAYPyd,yBAAe,EAAEta,OAAO,CAACnD,GAAR,CAAY,iBAAZ;AAZV,SAZA;AA0BT4J,mBAAW,EAAE,EA1BJ;AA2BTC,8BAAsB,EAAE1G,OAAO,CAACnD,GAAR,CAAY,wBAAZ;AA3Bf,OAAX;;AA8BA,UAAGK,MAAM,CAACkC,IAAP,EAAH,EAAiB;AACfW,YAAI,CAACqjB,aAAL,GAAqBvmB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,+BAAhB,EAAiD,EAAjD,CAAxB;AACAW,YAAI,CAAC2a,OAAL,GAAe7d,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,iBAAhB,CAAlB;AACD;;AAED,UAAI8H,YAAY,GAAGpI,YAAY,CAAC+D,IAAb,GAAoBsE,GAApB,CAAwB,UAAS3I,MAAT,EAAgB;AACzD,eAAO3B,GAAG,CAAC2B,MAAD,EAAS,WAAT,CAAV;AACD,OAFkB,CAAnB;;AAGA,UAAG0I,YAAH,EAAgB;AACd,YAAIT,WAAW,GAAGvB,IAAI,CAACgC,YAAD,CAAtB,CADc,CAEd;;AAEAnH,YAAI,CAAC0G,WAAL,GAAmBvB,IAAI,CAACgC,YAAD,CAAvB;AACD;;AAED5J,aAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCwC,IAAxC;AACA,aAAOA,IAAP;AACD;;;;;SAEDoS,c;4BAAeC,U,EAAYC,c,EAAe;AACxC,UAAIC,YAAY,GAAGtS,OAAO,CAACnD,GAAR,CAAY,cAAZ,CAAnB;AACAyV,kBAAY,CAACF,UAAD,CAAZ,GAA2BC,cAA3B;AACA/U,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B+U,YAA5B;AACAtS,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BqS,YAA5B;AACD;;;;;SAEDI,e;6BAAgB1K,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDQ,e;6BAAgB7K,K,EAAOqK,c,EAAe;AACpC,WAAKF,cAAL,CAAoB,WAApB,EAAiCE,cAAjC;AACD;;;;;SACDU,gB;8BAAiB/K,K,EAAOqK,c,EAAe;AACrC,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACD;;;;;SACDoB,mB;iCAAoBzL,K,EAAOqK,c,EAAe;AACxC,WAAKF,cAAL,CAAoB,eAApB,EAAqCE,cAArC;AACD;;;;;SACDwB,iB;+BAAkB7L,K,EAAOqK,c,EAAe;AACtC,WAAKF,cAAL,CAAoB,aAApB,EAAmCE,cAAnC;AACD;;;;;SACD0B,0B;wCAA2B/L,K,EAAOqK,c,EAAe;AAC/C,WAAKF,cAAL,CAAoB,aAApB,EAAmCE,cAAnC;AACD;;;;;SACDyB,sB;oCAAuB9L,K,EAAOqK,c,EAAe;AAC3C,WAAKF,cAAL,CAAoB,aAApB,EAAmCE,cAAnC;AACD;;;;;SACD4B,kB;gCAAmBjM,K,EAAOqK,c,EAAe;AACvC,WAAKF,cAAL,CAAoB,cAApB,EAAoCE,cAApC;AACD;;;;;SACDiC,gB;8BAAiBtM,K,EAAOqK,c,EAAe;AACrC,WAAKF,cAAL,CAAoB,YAApB,EAAkCE,cAAlC;AACD;;;;;SAGD/H,e;6BAAgB1B,K,EAAM;AACpB5I,aAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC2I,KAApC;AACD;;;;;SACD6jB,Y;4BAAc;AACZ1N,WAAK,CAAC,cAAD,CAAL;AACD;;;;;SACD2N,gB;gCAAkB;AAChBxvB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACytB,iBAAS,EAAE;AACtD,oCAA0B,KAAK3N,KAAL,CAAW4M;AADiB;AAAZ,OAA5C;AAGA,WAAK1J,QAAL,CAAc;AACZ0J,yBAAiB,EAAE;AADP,OAAd;AAGD;;;;;SACDgB,iB;iCAAmB;AACjB3vB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACytB,iBAAS,EAAE;AACtD,sCAA4B,KAAK3N,KAAL,CAAW6M;AADe;AAAZ,OAA5C;AAGA,WAAK3J,QAAL,CAAc;AACZ2J,qBAAa,EAAE;AADH,OAAd;AAID;;;;;SACDgB,qB;mCAAsBC,K,EAAO9kB,K,EAAM;AACjC;AACA,WAAKka,QAAL,CAAc;AACZ0J,yBAAiB,EAAE5jB;AADP,OAAd;AAGD;;;;;SACD+kB,sB;oCAAuBD,K,EAAO9kB,K,EAAM;AAClC;AACA,WAAKka,QAAL,CAAc;AACZ2J,qBAAa,EAAE7jB;AADH,OAAd;AAGD;;;;;SACDglB,kB;gCAAmBhlB,K,EAAO8kB,K,EAAOtO,G,EAAI;AACnC;AAEA,UAAIyO,OAAO,GAAG,EAAd;AACA,UAAIC,WAAW,GAAGtwB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,wBAAhB,CAArB;AAEA+tB,iBAAW,CAAC5uB,OAAZ,CAAoB,UAAS6uB,GAAT,EAAa;AAC/B,YAAGA,GAAG,KAAKnlB,KAAX,EAAiB;AACfilB,iBAAO,CAAC5kB,IAAR,CAAa8kB,GAAb;AACD;AACF,OAJD,EANmC,CAYnC;;AAEAlwB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACkuB,YAAI,EAAE;AACjD,oCAA0BH;AADuB;AAAP,OAA5C;AAGD;;;;;SACDI,oB;kCAAqBrlB,K,EAAO8kB,K,EAAOtO,G,EAAI;AACrC;AAEA,UAAIyO,OAAO,GAAG,EAAd;AACA,UAAIC,WAAW,GAAGtwB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,0BAAhB,CAArB;AAEA+tB,iBAAW,CAAC5uB,OAAZ,CAAoB,UAAS6uB,GAAT,EAAa;AAC/B,YAAGA,GAAG,KAAKnlB,KAAX,EAAiB;AACfilB,iBAAO,CAAC5kB,IAAR,CAAa8kB,GAAb;AACD;AACF,OAJD,EANqC,CAarC;;AAEAlwB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACkuB,YAAI,EAAE;AACjD,sCAA4BH;AADqB;AAAP,OAA5C;AAID;;;;;SACDK,qB;mCAAsB5V,c,EAAe;AACnC,UAAIyL,aAAa,GAAG,EAApB;AACAA,mBAAa,GAAGvmB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,+BAAhB,CAAnB;AACA9B,aAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmD6lB,aAAnD;AACA9lB,aAAO,CAACC,GAAR,CAAY,8BAAZ,wBAAmD6lB,aAAnD;;AAEA,UAAG,sBAAOA,aAAP,MAAyB,QAA5B,EAAqC;AACnC,YAAGA,aAAa,CAACxgB,QAAd,CAAuB+U,cAAvB,CAAH,EAA0C;AACxCza,gBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,eAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,WAApB,EAA4C;AAACquB,iBAAK,EAAE;AAClD,+CAAiC7V;AADiB;AAAR,WAA5C;AAGD,SAJD,MAIO;AACLza,gBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,eAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,WAApB,EAA4C;AAACytB,qBAAS,EAAE;AACtD,+CAAiCjV;AADqB;AAAZ,WAA5C;AAGD;AACF,OAVD,MAUO;AACLra,eAAO,CAACC,GAAR,CAAY,oEAAZ;AAEAL,cAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,aAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,SAApB,EAA4C;AAACkuB,cAAI,EAAE;AACjD,6CAAiC,CAC/B1V,cAD+B;AADgB;AAAP,SAA5C,EAHK,CASL;AACA;AACD;AACF;;;;;SACDrD,gB;gCAAkB;AAChB,WAAKiZ,qBAAL,CAA2B,YAA3B;AACD;;;;;SACDtZ,kB;kCAAoB;AAClB,WAAKsZ,qBAAL,CAA2B,cAA3B;AACD;;;;;SACDxZ,0B;0CAA4B;AAC1B,WAAKwZ,qBAAL,CAA2B,sBAA3B;AACD;;;;;SACDzZ,sB;sCAAwB;AACtB,WAAKyZ,qBAAL,CAA2B,kBAA3B;AACD;;;;;SACD9Z,mB;mCAAqB;AACnB,WAAK8Z,qBAAL,CAA2B,eAA3B;AACD;;;;;SACDxa,gB;gCAAkB;AAChB,WAAKwa,qBAAL,CAA2B,YAA3B;AACD;;;;;SACD1a,e;+BAAiB;AACf,WAAK0a,qBAAL,CAA2B,WAA3B;AACD;;;;;SACD7a,e;+BAAiB;AACf,WAAK6a,qBAAL,CAA2B,WAA3B;AACD;;;;;SACDpZ,c;8BAAgB;AACd,WAAKoZ,qBAAL,CAA2B,UAA3B;AACD;;;;;SAGDE,W;2BAAa;AACXnwB,aAAO,CAACC,GAAR,CAAY,aAAZ;AACAyC,aAAO,CAAC0tB,MAAR,CAAe,aAAf;AACD;;;;;SACDC,a;6BAAe;AACb3tB,aAAO,CAAC0tB,MAAR,CAAe,eAAf;AACD;;;;;SACDE,e;+BAAiB;AACf5tB,aAAO,CAAC0tB,MAAR,CAAe,iBAAf;AACD;;;;;SACDG,a;6BAAe;AACb7tB,aAAO,CAAC0tB,MAAR,CAAe,eAAf;AACD;;;;;SACDI,oB;oCAAsB;AACpB9tB,aAAO,CAAC0tB,MAAR,CAAe,sBAAf;AACD;;;;;SAGDK,oB;oCAAsB;AACpB,UAAIC,mBAAmB,GAAGnxB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,+CAAhB,CAA7B;;AACA,UAAG,OAAO4uB,mBAAP,KAA+B,WAAlC,EAA8C;AAC5CA,2BAAmB,GAAG,KAAtB;AACD;;AAED9wB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACytB,iBAAS,EAAE;AACtD,2DAAiD,CAACoB;AADI;AAAZ,OAA5C;AAGD;;;;;SACDC,kB;kCAAoB;AAClB,UAAID,mBAAmB,GAAGnxB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,6CAAhB,CAA7B;;AACA,UAAG,OAAO8uB,iBAAP,KAA6B,WAAhC,EAA4C;AAC1CA,yBAAiB,GAAG,KAApB;AACD;;AAEDhxB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACytB,iBAAS,EAAE;AACtD,yDAA+C,CAACsB;AADM;AAAZ,OAA5C;AAGD;;;;;SACDC,kB;kCAAoB;AAClB,UAAIH,mBAAmB,GAAGnxB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,6CAAhB,CAA7B;;AACA,UAAG,OAAOgvB,iBAAP,KAA6B,WAAhC,EAA4C;AAC1CA,yBAAiB,GAAG,KAApB;AACD;;AAEDlxB,YAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,WAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,OAApB,EAA4C;AAACytB,iBAAS,EAAE;AACtD,yDAA+C,CAACwB;AADM;AAAZ,OAA5C;AAGD;;;;;SACDC,oB;oCAAsB;AACpB/wB,aAAO,CAACC,GAAR,CAAY,sBAAZ;AACAyC,aAAO,CAAC0tB,MAAR,CAAe,oBAAf;AACD;;;;;SACDY,uB;uCAAyB;AACvBhxB,aAAO,CAACC,GAAR,CAAY,yBAAZ;AACAyC,aAAO,CAAC0tB,MAAR,CAAe,iBAAf;AACD;;;;;SACDa,gB;8BAAiBC,U,EAAW;AAC1BlxB,aAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCixB,UAAhC;AACAxuB,aAAO,CAAC0tB,MAAR,CAAec,UAAf;AACD;;;;;SACDzmB,qB;mCAAsBC,K,EAAOC,K,EAAM;AACjC3K,aAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiD0K,KAAK,CAACrC,KAAN,CAAYsC,QAA7D;AACAlI,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCgI,KAAK,CAACrC,KAAN,CAAYsC,QAAlD;AACD;;;;;SACD3C,M;sBAAQ;AACN,UAAI5E,IAAI,GAAG,IAAX;AAEA,UAAI8tB,WAAW,GAAG,EAAlB;;AACA,UAAG5xB,GAAG,CAAC,IAAD,EAAO,qBAAP,CAAN,EAAoC;AAClC,aAAKkD,IAAL,CAAU2a,OAAV,CAAkBC,MAAlB,CAAyBpc,OAAzB,CAAiC,UAASyD,MAAT,EAAgB;AAC/CysB,qBAAW,CAACnmB,IAAZ,CAAiB,oBAAC,IAAD;AACG,iBAAK,EAAEtG,MADV;AAEG,eAAG,EAAEA,MAFR;AAGG,qBAAS,EAAEqpB,UAAU,CAACK,IAHzB;AAIG,mBAAO,EAAC,UAJX;AAKG,iBAAK,EAAE;AAACgD,yBAAW,EAAE,MAAd;AAAsBtS,wBAAU,EAAE,MAAlC;AAA0C7T,sBAAQ,EAAE;AAApD,aALV;AAMG,qBAAS,MANZ;AAOG,oBAAQ,EAAG5H,IAAI,CAACssB,kBAAL,CAAwBxU,IAAxB,CAA6B,IAA7B,EAAmCzW,MAAnC;AAPd,YAAjB;AAQD,SATD;AAUD;;AAGD,UAAI2sB,aAAa,GAAG,EAApB;;AACA,UAAG9xB,GAAG,CAAC,IAAD,EAAO,uBAAP,CAAN,EAAsC;AACpC,aAAKkD,IAAL,CAAU2a,OAAV,CAAkBI,QAAlB,CAA2Bvc,OAA3B,CAAmC,UAASyD,MAAT,EAAgB;AACjD2sB,uBAAa,CAACrmB,IAAd,CAAmB,oBAAC,IAAD;AACC,iBAAK,EAAEtG,MADR;AAEC,eAAG,EAAEA,MAFN;AAGC,qBAAS,EAAEqpB,UAAU,CAACK,IAHvB;AAIC,mBAAO,EAAC,UAJT;AAKC,iBAAK,EAAE;AAACgD,yBAAW,EAAE,MAAd;AAAsBtS,wBAAU,EAAE,MAAlC;AAA0C7T,sBAAQ,EAAE;AAApD,aALR;AAMC,oBAAQ,EAAG5H,IAAI,CAAC2sB,oBAAL,CAA0B7U,IAA1B,CAA+B,IAA/B,EAAqCzW,MAArC;AANZ,YAAnB;AAOD,SARD;AASD;;AAED,UAAIohB,aAAa,GAAG,KAAKrjB,IAAL,CAAUqjB,aAA9B;AACA9lB,aAAO,CAACC,GAAR,CAAY,6EAAZ,EAA2F,KAAKwC,IAAL,CAAUqjB,aAArG;AAEA,UAAIwL,gBAAgB,GAAG,KAAvB;AACA,UAAIC,gBAAgB,GAAG,KAAvB;AACA,UAAIC,iBAAiB,GAAG,KAAxB;AACA,UAAIC,oBAAoB,GAAG,KAA3B;AACA,UAAIC,uBAAuB,GAAG,KAA9B;AACA,UAAIC,2BAA2B,GAAG,KAAlC;AACA,UAAIC,mBAAmB,GAAG,KAA1B;AACA,UAAIC,eAAe,GAAG,KAAtB;AACA,UAAIC,iBAAiB,GAAG,KAAxB;;AAGA,UAAG,sBAAOhM,aAAP,MAAyB,QAA5B,EAAqC;AACnCwL,wBAAgB,GAAGxL,aAAa,CAACxgB,QAAd,CAAuB,WAAvB,CAAnB;AACAisB,wBAAgB,GAAGzL,aAAa,CAACxgB,QAAd,CAAuB,WAAvB,CAAnB;AACAksB,yBAAiB,GAAG1L,aAAa,CAACxgB,QAAd,CAAuB,YAAvB,CAApB;AACAmsB,4BAAoB,GAAG3L,aAAa,CAACxgB,QAAd,CAAuB,eAAvB,CAAvB;AACAosB,+BAAuB,GAAG5L,aAAa,CAACxgB,QAAd,CAAuB,kBAAvB,CAA1B;AACAqsB,mCAA2B,GAAG7L,aAAa,CAACxgB,QAAd,CAAuB,sBAAvB,CAA9B;AACAssB,2BAAmB,GAAG9L,aAAa,CAACxgB,QAAd,CAAuB,cAAvB,CAAtB;AACAusB,uBAAe,GAAG/L,aAAa,CAACxgB,QAAd,CAAuB,UAAvB,CAAlB;AACAwsB,yBAAiB,GAAGhM,aAAa,CAACxgB,QAAd,CAAuB,YAAvB,CAApB;AACD;;AAED,UAAIuF,SAAS,GAAG,EAAhB;AACA,WAAKpI,IAAL,CAAU0G,WAAV,CAAsBlI,OAAtB,CAA8B,UAAS6J,IAAT,EAAeC,OAAf,EAAuB;AACnDF,iBAAS,CAACG,IAAV,CAAe,oBAAC,QAAD;AAAU,aAAG,EAAED,OAAf;AAAwB,eAAK,EAAEA,OAA/B;AAAwC,eAAK,EAAE;AAACE,oBAAQ,EAAE;AAAX;AAA/C,WAAoEH,IAApE,CAAf;AACD,OAFD;AAGA,UAAII,kBAAkB,GAAG,KAAKzI,IAAL,CAAU0G,WAAV,CAAsBgC,OAAtB,CAA8B5L,GAAG,CAAC,IAAD,EAAO,6BAAP,CAAjC,CAAzB;AAEAS,aAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB4K,SAAzB;AACA7K,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCiL,kBAAlC;AAEA,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,UAAD;AACE,aAAK,EAAC,MADR;AAEE,eAAO,EAAG,KAAKkkB,gBAAL,CAAsBjU,IAAtB,CAA2B,IAA3B,CAFZ;AAGE,eAAO,EAAE,IAHX;AAIE,aAAK,EAAE;AAAClR,kBAAQ,EAAE,UAAX;AACL8nB,eAAK,EAAE,MADF;AAELC,mBAAS,EAAE,MAFN;AAGLC,gBAAM,EAAE;AAHH;AAJT,QADF,EAWE,oBAAC,SAAD;AACE,UAAE,EAAC,sBADL;AAEE,YAAI,EAAC,sBAFP;AAGE,YAAI,EAAC,MAHP;AAIE,yBAAiB,EAAC,2BAJpB;AAKE,0BAAkB,EAAE,IALtB;AAME,aAAK,EAAE,KAAKtQ,KAAL,CAAW4M,iBANpB;AAOE,gBAAQ,EAAG,KAAKiB,qBAAL,CAA2BrU,IAA3B,CAAgC,IAAhC,CAPb;AAQE,gBAAQ,EAAC,KARX;AASE,iBAAS;AATX,QAXF,EAuBE,+BAvBF,EAyBIgW,WAzBJ,CAFF,CADF,EAiCE,oBAAC,aAAD,OAjCF,EAkCE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,UAAD;AACE,aAAK,EAAC,MADR;AAEE,eAAO,EAAG,KAAK5B,iBAAL,CAAuBpU,IAAvB,CAA4B,IAA5B,CAFZ;AAGE,eAAO,EAAE,IAHX;AAIE,aAAK,EAAE;AAAClR,kBAAQ,EAAE,UAAX;AACL8nB,eAAK,EAAE,MADF;AAELC,mBAAS,EAAE,MAFN;AAGLC,gBAAM,EAAE;AAHH;AAJT,QADF,EAYE,oBAAC,SAAD;AACE,UAAE,EAAC,eADL;AAEE,YAAI,EAAC,eAFP;AAGE,YAAI,EAAC,MAHP;AAIE,yBAAiB,EAAC,UAJpB;AAKE,gBAAQ,EAAG,KAAKvC,sBAAL,CAA4BvU,IAA5B,CAAiC,IAAjC,CALb;AAME,aAAK,EAAE,KAAKwG,KAAL,CAAW6M,aANpB;AAOE,0BAAkB,EAAE,IAPtB;AAQE,gBAAQ,EAAC,KARX;AASE,iBAAS;AATX,QAZF,EAyBI6C,aAzBJ,CAFF,CAlCF,EAkEE,oBAAC,aAAD,OAlEF,EAqEE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,MAAD;AACE,aAAK,EAAC,WADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKjc,eAAL,CAAqB+F,IAArB,CAA0B,IAA1B,CAHZ;AAIE,eAAO,EAAGmW;AAJZ,QADF,EAMI,+BANJ,EAOE,oBAAC,MAAD;AACE,aAAK,EAAC,WADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK/b,eAAL,CAAqB4F,IAArB,CAA0B,IAA1B,CAHZ;AAIE,eAAO,EAAGoW;AAJZ,QAPF,EAYI,+BAZJ,EAaE,oBAAC,MAAD;AACE,aAAK,EAAC,YADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK9b,gBAAL,CAAsB0F,IAAtB,CAA2B,IAA3B,CAHZ;AAIE,eAAO,EAAGqW;AAJZ,QAbF,EAkBI,+BAlBJ,EAmBE,oBAAC,MAAD;AACE,aAAK,EAAC,eADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKrb,mBAAL,CAAyBgF,IAAzB,CAA8B,IAA9B,CAHZ;AAIE,eAAO,EAAGsW;AAJZ,QAnBF,EAwBI,+BAxBJ,EAyBE,oBAAC,MAAD;AACE,aAAK,EAAC,kBADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKjb,sBAAL,CAA4B2E,IAA5B,CAAiC,IAAjC,CAHZ;AAIE,eAAO,EAAGuW;AAJZ,QAzBF,EA8BI,+BA9BJ,EA+BE,oBAAC,MAAD;AACE,aAAK,EAAC,sBADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKjb,0BAAL,CAAgC0E,IAAhC,CAAqC,IAArC,CAHZ;AAIE,eAAO,EAAGwW;AAJZ,QA/BF,EAoCI,+BApCJ,EAqCE,oBAAC,MAAD;AACE,aAAK,EAAC,cADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKhb,kBAAL,CAAwBwE,IAAxB,CAA6B,IAA7B,CAHZ;AAIE,eAAO,EAAGyW;AAJZ,QArCF,EA0CI,+BA1CJ,EA2CE,oBAAC,MAAD;AACE,aAAK,EAAC,UADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK/a,cAAL,CAAoBsE,IAApB,CAAyB,IAAzB,CAHZ;AAIE,eAAO,EAAG0W;AAJZ,QA3CF,EAgDI,+BAhDJ,EAiDE,oBAAC,MAAD;AACE,aAAK,EAAC,YADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK7a,gBAAL,CAAsBmE,IAAtB,CAA2B,IAA3B,CAHZ;AAIE,eAAO,EAAG2W;AAJZ,QAjDF,EAsDI,+BAtDJ,CAFF,CADF,EA6DE,oBAAC,aAAD,OA7DF,CADF,EAgEE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC,mBAAjB;AAAqC,gBAAQ;AAA7C,QADF,EAEE,oBAAC,QAAD;AAAU,gBAAQ;AAAlB,SACE,oBAAC,MAAD;AACE,aAAK,EAAC,UADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK3B,WAAL,CAAiBhV,IAAjB,CAAsB,IAAtB,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBC,YAJ9B;AAKE,gBAAQ,EAAG;AALb,QADF,EAOI,+BAPJ,EAQE,oBAAC,MAAD;AACE,aAAK,EAAC,SADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK2B,aAAL,CAAmBlV,IAAnB,CAAwB,IAAxB,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBE,cAJ9B;AAKE,gBAAQ,EAAG;AALb,QARF,EAcI,+BAdJ,EAeE,oBAAC,MAAD;AACE,aAAK,EAAC,WADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK2B,eAAL,CAAqBnV,IAArB,CAA0B,IAA1B,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBG,gBAJ9B;AAKE,gBAAQ,EAAG;AALb,QAfF,EAqBI,+BArBJ,EAsBE,oBAAC,MAAD;AACE,aAAK,EAAC,SADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK2B,aAAL,CAAmBpV,IAAnB,CAAwB,IAAxB,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBI,cAJ9B;AAKE,gBAAQ,EAAG;AALb,QAtBF,EA4BI,+BA5BJ,EA6BE,oBAAC,MAAD;AACE,aAAK,EAAC,iBADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK2B,oBAAL,CAA0BrV,IAA1B,CAA+B,IAA/B,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBK,qBAJ9B;AAKE,gBAAQ,EAAG;AALb,QA7BF,EAmCI,+BAnCJ,CAFF,CADF,EA0CE,oBAAC,aAAD,OA1CF,CAhEF,CArEF,CADF,EAqLE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,MAAD;AACE,UAAE,EAAC,sBADL;AAEE,aAAK,EAAG5jB,kBAFV;AAGE,gBAAQ,EAAE,KAAKT,qBAHjB;AAIE,aAAK,EAAE;AACLR,kBAAQ,EAAE,UADL;AAELvB,eAAK,EAAE,MAFF;AAGLuC,kBAAQ,EAAE,MAHL;AAILtC,gBAAM,EAAE;AAJH,SAJT,CAUE;AACA;AACA;AACA;;AAbF,SAeIkC,SAfJ,CADF,CAFF,CADF,EAuBE,oBAAC,aAAD,OAvBF,EAwBE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,MAAD;AACE,aAAK,EAAC,iBADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK4lB,oBAAL,CAA0BtV,IAA1B,CAA+B,IAA/B,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBM;AAJ9B,QADF,EAMI,+BANJ,EAOE,oBAAC,MAAD;AACE,aAAK,EAAC,eADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK4B,kBAAL,CAAwBxV,IAAxB,CAA6B,IAA7B,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBO;AAJ9B,QAPF,EAYI,+BAZJ,EAaE,oBAAC,MAAD;AACE,aAAK,EAAC,eADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK6B,kBAAL,CAAwB1V,IAAxB,CAA6B,IAA7B,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBQ;AAJ9B,QAbF,EAkBI,+BAlBJ,CAFF,EAsBE,oBAAC,aAAD,OAtBF,CAxBF,CADF,EAoDE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,MAAD;AACE,aAAK,EAAC,kBADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK8B,oBAAL,CAA0B5V,IAA1B,CAA+B,IAA/B,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBS;AAJ9B,QADF,EAMI,+BANJ,CAFF,CADF,EAcE,oBAAC,aAAD,OAdF,EAeE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,MAAD;AACE,aAAK,EAAC,cADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAK+B,gBAAL,CAAsB9V,IAAtB,CAA2B,IAA3B,EAAiC,iBAAjC,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkB3R;AAJ9B,QADF,EAMI,+BANJ,EAOE,oBAAC,MAAD;AACE,aAAK,EAAC,SADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKmU,gBAAL,CAAsB9V,IAAtB,CAA2B,IAA3B,EAAiC,aAAjC,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkB1R;AAJ9B,QAPF,EAYI,+BAZJ,EAaE,oBAAC,MAAD;AACE,aAAK,EAAC,cADR;AAEE,qBAAa,EAAC,OAFhB;AAGE,gBAAQ,EAAE,KAAKkU,gBAAL,CAAsB9V,IAAtB,CAA2B,IAA3B,EAAiC,iBAAjC,CAHZ;AAIE,eAAO,EAAG,KAAK1Y,IAAL,CAAUgsB,OAAV,CAAkBzR;AAJ9B,QAbF,EAkBI,+BAlBJ,CAFF,CAfF,CApDF,CADF,CArLF,CADF,CADF,CADF;AAiSD;;;;;;EAroB8BzV,KAAK,CAACuE,S;;AAuoBvCrE,UAAU,CAACrB,WAAW,CAAC2F,SAAb,EAAwBvE,eAAxB,CAAV;AArrBAhI,MAAM,CAACmF,aAAP,CAsrBeyB,WAtrBf,E;;;;;;;;;;;;;;;ACAA5G,MAAM,CAACiG,MAAP,CAAc;AAACU,kBAAgB,EAAC;AAAA,WAAIA,gBAAJ;AAAA;AAAlB,CAAd;AAAuD,IAAIiB,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe2H,MAAf,YAAoB3H,CAApB,EAAsB;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAIoH,UAAJ,EAAeF,QAAf,EAAwBC,SAAxB,EAAkCmF,WAAlC,EAA8CC,GAA9C,EAAkDC,IAAlD,EAAuDC,UAAvD;AAAkE3M,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACqH,YAAD,YAAYpH,CAAZ,EAAc;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAA5B;AAA6BkH,UAA7B,YAAsClH,CAAtC,EAAwC;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAApD;AAAqDmH,WAArD,YAA+DnH,CAA/D,EAAiE;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA9E;AAA+EsM,aAA/E,YAA2FtM,CAA3F,EAA6F;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA5G;AAA6GuM,KAA7G,YAAiHvM,CAAjH,EAAmH;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAA1H;AAA2HwM,MAA3H,YAAgIxM,CAAhI,EAAkI;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA1I;AAA2IyM,YAA3I,YAAsJzM,CAAtJ,EAAwJ;AAACyM,cAAU,GAACzM,CAAX;AAAa;AAAtK,CAA1B,EAAkM,CAAlM;AAAqM,IAAI6H,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYyE,MAAZ;AAAmB5M,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6B0M,QAA7B,YAAoC1M,CAApC,EAAsC;AAAC0M,UAAM,GAAC1M,CAAP;AAAS;AAAhD,CAArB,EAAuE,CAAvE;AAA0E,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIwH,KAAJ,EAAUH,SAAV,EAAoBC,cAApB,EAAmCC,cAAnC,EAAkDE,aAAlD;AAAgE3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACyH,OAAD,YAAOxH,CAAP,EAAS;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAAlB;AAAmBqH,WAAnB,YAA6BrH,CAA7B,EAA+B;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA5C;AAA6CsH,gBAA7C,YAA4DtH,CAA5D,EAA8D;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAhF;AAAiFuH,gBAAjF,YAAgGvH,CAAhG,EAAkG;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApH;AAAqHyH,eAArH,YAAmIzH,CAAnI,EAAqI;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAtJ,CAAvC,EAA+L,CAA/L;AAAkM,IAAI2M,eAAJ;AAAoB7M,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAAC4M,iBAAD,YAAiB3M,CAAjB,EAAmB;AAAC2M,mBAAe,GAAC3M,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,CAA7F;AAAgG,IAAI4M,UAAJ;AAAe9M,MAAM,CAACC,IAAP,CAAY,mCAAZ,EAAgD;AAAC6M,YAAD,YAAY5M,CAAZ,EAAc;AAAC4M,cAAU,GAAC5M,CAAX;AAAa;AAA5B,CAAhD,EAA8E,CAA9E;AAaxoCgD,OAAO,CAAC2F,UAAR,CAAmB,sBAAnB,EAA2C,CAA3C;;IAEalC,gB;;;;;AACX,4BAAYmC,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SAEDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACL4D,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE,MAFV;AAGHhE,iBAAK,EAAE;AAHJ;AADA,SADE;AAQTiE,gBAAQ,EAAEjK,OAAO,CAACnD,GAAR,CAAY,sBAAZ,CARD;AASTqN,WAAG,EAAE,IATI;AAUTC,uBAAe,EAAE;AAVR,OAAX;AAaA,UAAG/I,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoChE,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCwC,IAAtC;AACpC,aAAOA,IAAP;AACD;;;;;SACDuK,e;6BAAgB1B,K,EAAM;AACpB5I,aAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC2I,KAApC;AACD;;;;;SACDrD,M;sBAAQ;AAGN,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,aAAK,EAAC,UAAjB;AAA4B,gBAAQ,EAAC;AAArC,QADF,CADF,EAIE,oBAAC,aAAD,OAJF,CADF,EAQE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,QARF,CADF,CADF,CADF;AAkBD;;;;;;EA9CmCV,KAAK,CAACuE,S;;AAgD5CrE,UAAU,CAACtB,gBAAgB,CAAC4F,SAAlB,EAA6BvE,eAA7B,CAAV;AA/DAhI,MAAM,CAACmF,aAAP,CAgEewB,gBAhEf,E;;;;;;;;;;;;;;;;;ACAA3G,MAAM,CAACiG,MAAP,CAAc;AAACK,gBAAc,EAAC;AAAA,WAAIA,cAAJ;AAAA;AAAhB,CAAd;AAAmD,IAAI6V,IAAJ,EAAS3P,WAAT,EAAqBlF,UAArB,EAAgCF,QAAhC,EAAyCC,SAAzC,EAAmDsF,UAAnD,EAA8DyP,YAA9D;AAA2Epc,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACkc,MAAD,YAAMjc,CAAN,EAAQ;AAACic,QAAI,GAACjc,CAAL;AAAO,GAAhB;AAAiBsM,aAAjB,YAA6BtM,CAA7B,EAA+B;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA9C;AAA+CoH,YAA/C,YAA0DpH,CAA1D,EAA4D;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAA1E;AAA2EkH,UAA3E,YAAoFlH,CAApF,EAAsF;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAlG;AAAmGmH,WAAnG,YAA6GnH,CAA7G,EAA+G;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA5H;AAA6HyM,YAA7H,YAAwIzM,CAAxI,EAA0I;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAAxJ;AAAyJkc,cAAzJ,YAAsKlc,CAAtK,EAAwK;AAACkc,gBAAY,GAAClc,CAAb;AAAe;AAAxL,CAA1B,EAAoN,CAApN;AAAuN,IAAI0H,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe2H,MAAf,YAAoB3H,CAApB,EAAsB;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI0N,KAAJ,EAAUyO,SAAV,EAAoBC,WAApB,EAAgCC,iBAAhC,EAAkDC,QAAlD,EAA2DC,cAA3D;AAA0Ezc,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ,GAAlB;AAAmBmc,WAAnB,YAA6Bnc,CAA7B,EAA+B;AAACmc,aAAS,GAACnc,CAAV;AAAY,GAA5C;AAA6Coc,aAA7C,YAAyDpc,CAAzD,EAA2D;AAACoc,eAAW,GAACpc,CAAZ;AAAc,GAA1E;AAA2Eqc,mBAA3E,YAA6Frc,CAA7F,EAA+F;AAACqc,qBAAiB,GAACrc,CAAlB;AAAoB,GAApH;AAAqHsc,UAArH,YAA8Htc,CAA9H,EAAgI;AAACsc,YAAQ,GAACtc,CAAT;AAAW,GAA5I;AAA6Iuc,gBAA7I,YAA4Jvc,CAA5J,EAA8J;AAACuc,kBAAc,GAACvc,CAAf;AAAiB;AAAhL,CAAhC,EAAkN,CAAlN;AAAqN,IAAIsH,cAAJ,EAAmBC,cAAnB,EAAkCF,SAAlC,EAA4CI,aAA5C;AAA0D3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACuH,gBAAD,YAAgBtH,CAAhB,EAAkB;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAApC;AAAqCuH,gBAArC,YAAoDvH,CAApD,EAAsD;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAAxE;AAAyEqH,WAAzE,YAAmFrH,CAAnF,EAAqF;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAAlG;AAAmGyH,eAAnG,YAAiHzH,CAAjH,EAAmH;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAApI,CAAvC,EAA6K,CAA7K;AAAgL,IAAIH,GAAJ,EAAQoI,GAAR;AAAYnI,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM;AAA5B,CAArB,EAAmD,CAAnD;AAAsD,IAAIqI,iBAAJ;AAAsBvI,MAAM,CAACC,IAAP,CAAY,0CAAZ,EAAuD;AAACsI,mBAAD,YAAmBrI,CAAnB,EAAqB;AAACqI,qBAAiB,GAACrI,CAAlB;AAAoB;AAA1C,CAAvD,EAAmG,CAAnG;AAAsG,IAAIwc,wBAAJ;AAA6B1c,MAAM,CAACC,IAAP,CAAY,kDAAZ,EAA+D;AAACyc,0BAAD,YAA0Bxc,CAA1B,EAA4B;AAACwc,4BAAwB,GAACxc,CAAzB;AAA2B;AAAxD,CAA/D,EAAyH,CAAzH;AAA4H,IAAI2M,eAAJ;AAAoB7M,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAAC4M,iBAAD,YAAiB3M,CAAjB,EAAmB;AAAC2M,mBAAe,GAAC3M,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,CAA7F;AAAgG,IAAIyc,kBAAJ;AAAuB3c,MAAM,CAACC,IAAP,CAAY,2CAAZ,EAAwD;AAAC0c,oBAAD,YAAoBzc,CAApB,EAAsB;AAACyc,sBAAkB,GAACzc,CAAnB;AAAqB;AAA5C,CAAxD,EAAsG,CAAtG;AAAyG,IAAI0c,cAAJ;AAAmB5c,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAAC2c,gBAAD,YAAgB1c,CAAhB,EAAkB;AAAC0c,kBAAc,GAAC1c,CAAf;AAAiB;AAApC,CAApD,EAA0F,CAA1F;AAA6F,IAAI2c,yBAAJ;AAA8B7c,MAAM,CAACC,IAAP,CAAY,mDAAZ,EAAgE;AAAC4c,2BAAD,YAA2B3c,CAA3B,EAA6B;AAAC2c,6BAAyB,GAAC3c,CAA1B;AAA4B;AAA1D,CAAhE,EAA4H,EAA5H;AAAgI,IAAI4c,qBAAJ;AAA0B9c,MAAM,CAACC,IAAP,CAAY,+CAAZ,EAA4D;AAAC6c,uBAAD,YAAuB5c,CAAvB,EAAyB;AAAC4c,yBAAqB,GAAC5c,CAAtB;AAAwB;AAAlD,CAA5D,EAAgH,EAAhH;AAAoH,IAAI6c,sBAAJ;AAA2B/c,MAAM,CAACC,IAAP,CAAY,gDAAZ,EAA6D;AAAC8c,wBAAD,YAAwB7c,CAAxB,EAA0B;AAAC6c,0BAAsB,GAAC7c,CAAvB;AAAyB;AAApD,CAA7D,EAAmH,EAAnH;AAAuH,IAAI8c,aAAJ,EAAkB0V,WAAlB;AAA8B1yB,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAAC+c,eAAD,YAAe9c,CAAf,EAAiB;AAAC8c,iBAAa,GAAC9c,CAAd;AAAgB,GAAlC;AAAmCwyB,aAAnC,YAA+CxyB,CAA/C,EAAiD;AAACwyB,eAAW,GAACxyB,CAAZ;AAAc;AAAhE,CAAnD,EAAqH,EAArH;AAAyH,IAAI+c,eAAJ;AAAoBjd,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAACgd,iBAAD,YAAiB/c,CAAjB,EAAmB;AAAC+c,mBAAe,GAAC/c,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,EAA7F;AAAiG,IAAIyyB,gBAAJ;AAAqB3yB,MAAM,CAACC,IAAP,CAAY,qCAAZ,EAAkD;AAAC2yB,aAAD,YAAa1yB,CAAb,EAAe;AAACyyB,oBAAgB,GAACzyB,CAAjB;AAAmB;AAAnC,CAAlD,EAAuF,EAAvF;AAA2F,IAAIU,qBAAJ;AAA0BZ,MAAM,CAACC,IAAP,CAAY,iCAAZ,EAA8C;AAAA,uBAASC,CAAT,EAAW;AAACU,yBAAqB,GAACV,CAAtB;AAAwB;AAApC,CAA9C,EAAoF,EAApF;AAAwF,IAAIgd,MAAJ;AAAWld,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAACgd,UAAM,GAAChd,CAAP;AAAS;AAArB,CAAjC,EAAwD,EAAxD;AAA4D,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAA8C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,EAA/E;AAAmF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,EAArD;AAAyD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;AAAqE,IAAIsI,IAAJ;AAASxI,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAmB;AAACuI,MAAD,YAAMtI,CAAN,EAAQ;AAACsI,QAAI,GAACtI,CAAL;AAAO;AAAhB,CAAnB,EAAqC,EAArC;;AAgDp7F,IAAIG,QAAQ,GAAG,UAAUC,GAAV,EAAe;AAC5B;AACAC,YAAU,CAAC,YAAY;AACrB;AACAC,WAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAAZ;AACD,GAHS,EAGP,CAHO,CAAV;AAID,CAND;;AAQA4C,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,IAAjC;;IAEamD,c;;;;;AACX,0BAAYwC,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SACDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTgG,aAAK,EAAE;AACLC,eAAK,EAAEhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,IAA0B,GAD5B;AAELoJ,gBAAM,EAAE;AAFH,SADE;AAKTC,aAAK,EAAE,EALE;AAMTgE,WAAG,EAAE;AACH+P,6BAAmB,EAAE,EADlB;AAEH7M,mBAAS,EAAE,EAFR;AAGHE,oBAAU,EAAE,EAHT;AAIHM,2BAAiB,EAAE,EAJhB;AAKHI,uBAAa,EAAE,EALZ;AAMHI,qBAAW,EAAE,EANV;AAOHC,0BAAgB,EAAE,EAPf;AAQHC,8BAAoB,EAAE,EARnB;AASHpH,sBAAY,EAAE,EATX;AAUHwH,kBAAQ,EAAE,EAVP;AAWHG,oBAAU,EAAE,EAXT;AAYHF,iBAAO,EAAE,EAZN;AAaHI,wBAAc,EAAE;AAbb,SANI;AAqBTmL,iBAAS,EAAE;AACTD,6BAAmB,EAAE,EADZ;AAET7M,mBAAS,EAAE,EAFF;AAGTE,oBAAU,EAAE,EAHH;AAITM,2BAAiB,EAAE,EAJV;AAKTI,uBAAa,EAAE,EALN;AAMTI,qBAAW,EAAE,EANJ;AAOTC,0BAAgB,EAAE,EAPT;AAQTC,8BAAoB,EAAE,EARb;AASTpH,sBAAY,EAAE,EATL;AAUTwH,kBAAQ,EAAE,EAVD;AAWTG,oBAAU,EAAE,EAXH;AAYTF,iBAAO,EAAE,EAZA;AAaTI,wBAAc,EAAE;AAbP,SArBF;AAoCToL,aAAK,EAAE,EApCE;AAqCTxR,eAAO,EAAE,EArCA;AAsCTvJ,YAAI,EAAE;AACJ6B,aAAG,EAAE,EADD;AAEJye,eAAK,EAAE,EAFH;AAGJiQ,iBAAO,EAAE,EAHL;AAIJpQ,eAAK,EAAE,EAJH;AAKJqQ,gBAAM,EAAE,EALJ;AAMJC,aAAG,EAAE,EAND;AAOJC,mBAAS,EAAE,EAPP;AAQJC,kBAAQ,EAAE,EARN;AASJC,sBAAY,EAAE,cATV;AAUJC,mBAAS,EAAE;AAVP,SAtCG;AAkDTvpB,8BAAsB,EAAE1G,OAAO,CAACnD,GAAR,CAAY,wBAAZ;AAlDf,OAAX;;AAqDA,UAAGwU,QAAQ,CAACtP,OAAT,EAAH,EAAsB;AACpBhC,YAAI,CAAC4I,OAAL,GAAe0I,QAAQ,CAACtP,OAAT,EAAf;AACD;;AAED,UAAG7E,MAAM,CAACkC,IAAP,EAAH,EAAiB;AACfW,YAAI,CAACX,IAAL,GAAY;AACV6B,aAAG,EAAE/D,MAAM,CAACiC,MAAP,EADK;AAEVogB,eAAK,EAAE1iB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,mBAAhB,CAFA;AAGVwwB,gBAAM,EAAE/yB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,gBAAhB,CAHD;AAIV8wB,gBAAM,EAAE,EAJE;AAKVD,mBAAS,EAAE,EALD;AAMVJ,aAAG,EAAE,EANK;AAOVC,mBAAS,EAAE,EAPD;AAQVC,kBAAQ,EAAE,EARA;AASVC,sBAAY,EAAEnzB,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,gBAAhB;AATP,SAAZ,CADe,CAaf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,YAAG,QAAOX,mBAAP,uDAAOA,mBAAP,OAA+B,QAAlC,EAA2C;AACzCsB,cAAI,CAACmK,GAAL,CAAS+P,mBAAT,GAA+Bxb,mBAAmB,CAACoE,IAApB,GAA2B+E,KAA3B,EAA/B;AACD;;AACD,YAAG,QAAOsI,SAAP,uDAAOA,SAAP,OAAqB,QAAxB,EAAiC;AAC/BnQ,cAAI,CAACmK,GAAL,CAASqQ,SAAT,GAAqBrK,SAAS,CAACrN,IAAV,GAAiB+E,KAAjB,EAArB;AACD;;AACD,YAAG,QAAOhJ,UAAP,uDAAOA,UAAP,OAAsB,QAAzB,EAAkC;AAChCmB,cAAI,CAACmK,GAAL,CAASoD,UAAT,GAAsB1O,UAAU,CAACiE,IAAX,GAAkB+E,KAAlB,EAAtB;AACD;;AACD,YAAG,QAAO6I,iBAAP,uDAAOA,iBAAP,OAA6B,QAAhC,EAAyC;AACvC1Q,cAAI,CAACmK,GAAL,CAAS0D,iBAAT,GAA6B6C,iBAAiB,CAAC5N,IAAlB,GAAyB+E,KAAzB,EAA7B;AACD;;AACD,YAAG,QAAO/I,aAAP,uDAAOA,aAAP,OAAyB,QAA5B,EAAqC;AACnCkB,cAAI,CAACmK,GAAL,CAAS8D,aAAT,GAAyBnP,aAAa,CAACgE,IAAd,GAAqB+E,KAArB,EAAzB;AACD;;AACD,YAAG,QAAOqJ,WAAP,uDAAOA,WAAP,OAAuB,QAA1B,EAAmC;AACjClR,cAAI,CAACmK,GAAL,CAASkE,WAAT,GAAuB6C,WAAW,CAACpO,IAAZ,GAAmB+E,KAAnB,EAAvB;AACD;;AACD,YAAG,QAAOqJ,WAAP,uDAAOA,WAAP,OAAuB,QAA1B,EAAmC;AACjClR,cAAI,CAACmK,GAAL,CAASmE,gBAAT,GAA4BtP,gBAAgB,CAAC8D,IAAjB,GAAwB+E,KAAxB,EAA5B;AACD;;AACD,YAAG,QAAOsJ,oBAAP,uDAAOA,oBAAP,OAAgC,QAAnC,EAA4C;AAC1CnR,cAAI,CAACmK,GAAL,CAASoE,oBAAT,GAAgC4C,oBAAoB,CAACrO,IAArB,GAA4B+E,KAA5B,EAAhC;AACD;;AACD,YAAG,QAAOyJ,QAAP,uDAAOA,QAAP,OAAoB,QAAvB,EAAgC;AAC9BtR,cAAI,CAACmK,GAAL,CAASwE,QAAT,GAAoB2C,QAAQ,CAACxO,IAAT,GAAgB+E,KAAhB,EAApB;AACD;;AACD,YAAG,QAAO9I,YAAP,uDAAOA,YAAP,OAAwB,QAA3B,EAAoC;AAClCiB,cAAI,CAACmK,GAAL,CAAShD,YAAT,GAAwBpI,YAAY,CAAC+D,IAAb,GAAoB+E,KAApB,EAAxB;AACD;;AACD,YAAG,QAAO5I,UAAP,uDAAOA,UAAP,OAAsB,QAAzB,EAAkC;AAChCe,cAAI,CAACmK,GAAL,CAAS2E,UAAT,GAAsB7P,UAAU,CAAC6D,IAAX,GAAkB+E,KAAlB,EAAtB;AACD;;AACD,YAAG,QAAO6J,OAAP,uDAAOA,OAAP,OAAmB,QAAtB,EAA+B;AAC7B1R,cAAI,CAACmK,GAAL,CAASyE,OAAT,GAAmB8C,OAAO,CAAC5O,IAAR,GAAe+E,KAAf,EAAnB;AACD;;AACD,YAAG,QAAO8J,cAAP,uDAAOA,cAAP,OAA0B,QAA7B,EAAsC;AACpC3R,cAAI,CAACmK,GAAL,CAAS6E,cAAT,GAA0B2C,cAAc,CAAC7O,IAAf,GAAsB+E,KAAtB,EAA1B;AACD;;AAGD,YAAI8S,OAAO,GAAG7d,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,iBAAhB,CAAjB;;AAEA,YAAGsb,OAAH,EAAW;AACT,cAAGA,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACC,MAAR,CAAe9Z,MAAf,GAAwB,CAA7C,EAA+C;AAC7Cd,gBAAI,CAACoa,KAAL,CAAWS,IAAX,GAAkB,EAAlB;AACAF,mBAAO,CAACC,MAAR,CAAepc,OAAf,CAAuB,UAASsc,IAAT,EAAc;AACnC,kBAAGA,IAAH,EAAQ;AACN9a,oBAAI,CAACoa,KAAL,CAAWS,IAAX,CAAgBtS,IAAhB,CAAqB;AAAE,+BAAa;AAAE,8BAAU,MAAMuS;AAAlB;AAAf,iBAArB;AACD;AACF,aAJD;AAKD;;AAED,cAAGH,OAAO,CAACI,QAAR,IAAoBJ,OAAO,CAACI,QAAR,CAAiBja,MAAjB,GAA0B,CAAjD,EAAmD;AACjDd,gBAAI,CAACoa,KAAL,CAAWY,GAAX,GAAiB,EAAjB;AACAL,mBAAO,CAACI,QAAR,CAAiBvc,OAAjB,CAAyB,UAASsc,IAAT,EAAc;AACrC,kBAAGA,IAAH,EAAQ;AACN9a,oBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,+BAAa;AAAE,8BAAU,MAAMuS;AAAlB;AAAf,iBAApB;AACD;AACF,aAJD;AAKD;AACF;AACF;;AAEDvd,aAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CwC,IAA3C;AACA,aAAOA,IAAP;AACD;;;;;SACDmJ,Q;sBAASC,G,EAAI;AACXnE,oBAAc,CAACsD,IAAf,CAAoBa,GAApB;AACD;;;;;SACD6R,c;8BAAgB;AACdhW,oBAAc,CAACsD,IAAf,CAAoB,oBAApB;AACD;;;;;SACD4S,W;yBAAYvD,c,EAAe;AACzBra,aAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Boa,cAA3B;AACD;;;;;SACDwD,kB;kCAAoB;AAClBnW,oBAAc,CAACsD,IAAf,CAAoB,kBAApB,EADkB,CAElB;AACD;;;;;SACD/C,M;sBAAQ;AACNjI,aAAO,CAACC,GAAR,CAAY,0BAAZ;AAEA,UAAI6d,aAAJ;AACA,UAAIC,aAAJ;AACA,UAAIC,cAAJ;AACA,UAAIC,qBAAJ;AACA,UAAIC,iBAAJ;AACA,UAAIC,eAAJ;AACA,UAAIC,oBAAJ;AACA,UAAIC,wBAAJ;AACA,UAAIC,gBAAJ;AACA,UAAIC,cAAJ;AACA,UAAIsU,iBAAJ;AACA,UAAIC,WAAJ;AACA,UAAIC,kBAAJ;AAEA,UAAItU,YAAY,GAAG,IAAnB;;AAEA,UAAG1K,QAAQ,CAACxO,IAAT,GAAgB2E,KAAhB,OAA4B,CAA/B,EAAiC;AAC/BlK,eAAO,CAACC,GAAR,CAAY,yBAAZ;AACAwe,oBAAY,GAAG,IAAf;AACD,OAHD,MAGO,IAAI1K,QAAQ,CAACxO,IAAT,GAAgB2E,KAAhB,OAA4B,CAAhC,EAAkC;AACvCuU,oBAAY,GAAG,KAAf;AACAoU,yBAAiB,GAAG;AAAK,eAAK,EAAE;AAACnJ,oBAAQ,EAAE;AAAX;AAAZ,WAClB,oBAAC,WAAD;AACE,iBAAO,EAAKnqB,GAAG,CAAC,IAAD,EAAO,cAAP,CADjB;AAEE,mBAAS,EAAE;AAFb,UADkB,CAApB;AAMD,OARM,MAQA,IAAIwU,QAAQ,CAACxO,IAAT,GAAgB2E,KAAhB,KAA0B,CAA9B,EAAgC;AACrCuU,oBAAY,GAAG,KAAf;AACAoU,yBAAiB,GAAG,iCAClB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,aAAD;AACE,cAAI,EAAG,KAAKpwB,IAAL,CAAUmK,GAAV,CAAcwE;AADvB,UADF,CAFF,CADkB,EASlB,oBAAC,aAAD,OATkB,CAApB;AAWD;;AAGD,UAAGjQ,mBAAmB,CAACoE,IAApB,GAA2B2E,KAA3B,KAAqC,CAAxC,EAA0C;AACxClK,eAAO,CAACC,GAAR,CAAY,+BAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAX,qBAAa,GAAG,iCACd,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,wBAAD;AACE,cAAI,EAAG,KAAKrb,IAAL,CAAUmK,GAAV,CAAc+P,mBADvB;AAEE,oBAAU,EAAE,IAFd;AAGE,yBAAe,EAAE,IAHnB;AAIE,qBAAW,EAAE,IAJf;AAKE,sBAAY,EAAE,IALhB;AAME,oBAAU,EAAE,IANd;AAOE,kBAAQ,EAAE,IAPZ;AAQE,sBAAY,EAAE,IARhB;AASE,wBAAc,EAAE,IATlB;AAUE,0BAAgB,EAAE,IAVpB;AAWE,kBAAQ,EAAE;AAXZ,UADF,CAFF,CADc,EAmBd,oBAAC,aAAD,OAnBc,CAAhB;AAqBD;;AAED,UAAG/J,SAAS,CAACrN,IAAV,GAAiB2E,KAAjB,KAA2B,CAA9B,EAAgC;AAC9BlK,eAAO,CAACC,GAAR,CAAY,qBAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAV,qBAAa,GAAG,iCACd,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,cAAD;AACE,cAAI,EAAG,KAAKtb,IAAL,CAAUmK,GAAV,CAAcqQ,SADvB;AAEE,sBAAY,EAAE;AAFhB,UADF,CAFF,CADc,EAUd,oBAAC,aAAD,OAVc,CAAhB;AAYD;;AACD,UAAG3b,UAAU,CAACiE,IAAX,GAAkB2E,KAAlB,KAA4B,CAA/B,EAAiC;AAC/BlK,eAAO,CAACC,GAAR,CAAY,sBAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAT,sBAAc,GAAG,iCACf,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,eAAD;AACE,cAAI,EAAG,KAAKvb,IAAL,CAAUmK,GAAV,CAAcoD,UADvB;AAEE,sBAAY,EAAE;AAFhB,UADF,CAFF,CADe,EAUf,oBAAC,aAAD,OAVe,CAAjB;AAYD;;AACD,UAAGmD,iBAAiB,CAAC5N,IAAlB,GAAyB2E,KAAzB,KAAmC,CAAtC,EAAwC;AACtClK,eAAO,CAACC,GAAR,CAAY,6BAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAR,6BAAqB,GAAG,iCACtB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,sBAAD;AACE,cAAI,EAAG,KAAKxb,IAAL,CAAUmK,GAAV,CAAc0D,iBADvB;AAEE,sBAAY,EAAE;AAFhB,UADF,CAFF,CADsB,EAWtB,oBAAC,aAAD,OAXsB,CAAxB;AAaD;;AACD,UAAG/O,aAAa,CAACgE,IAAd,GAAqB2E,KAArB,KAA+B,CAAlC,EAAoC;AAClClK,eAAO,CAACC,GAAR,CAAY,yBAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAP,yBAAiB,GAAG,iCAClB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,kBAAD;AACE,cAAI,EAAG,KAAKzb,IAAL,CAAUmK,GAAV,CAAc8D,aADvB;AAEE,wBAAc,EAAE,IAFlB;AAGE,oBAAU,EAAE,IAHd;AAIE,yBAAe,EAAE,IAJnB;AAKE,qBAAW,EAAE,IALf;AAME,qBAAW,EAAE,IANf;AAOE,kBAAQ,EAAE;AAPZ,UADF,CAFF,CADkB,EAelB,oBAAC,aAAD,OAfkB,CAApB;AAiBD,OA7IK,CA8IN;AACA;AACA;;;AACA,UAAGjP,gBAAgB,CAAC8D,IAAjB,GAAwB2E,KAAxB,KAAkC,CAArC,EAAuC;AACrClK,eAAO,CAACC,GAAR,CAAY,4BAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAL,4BAAoB,GAAG,iCACrB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,qBAAD;AACE,cAAI,EAAG,KAAK3b,IAAL,CAAUmK,GAAV,CAAcmE,gBADvB;AAEE,wBAAc,EAAE,IAFlB;AAGE,qBAAW,EAAE,IAHf;AAIE,oBAAU,EAAE,IAJd;AAKE,yBAAe,EAAE;AALnB,UADF,CAFF,CADqB,EAcrB,oBAAC,aAAD,OAdqB,CAAvB;AAgBD;;AACD,UAAG6C,oBAAoB,CAACrO,IAArB,GAA4B2E,KAA5B,KAAsC,CAAzC,EAA2C;AACzClK,eAAO,CAACC,GAAR,CAAY,gCAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAJ,gCAAwB,GAAG,iCACzB,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,yBAAD;AACE,cAAI,EAAG,KAAK5b,IAAL,CAAUmK,GAAV,CAAcoE,oBADvB;AAEE,oBAAU,EAAE,IAFd;AAGE,yBAAe,EAAE,IAHnB;AAIE,sBAAY,EAAE;AAJhB,UADF,CAFF,CADyB,EAazB,oBAAC,aAAD,OAbyB,CAA3B;AAeD;;AACD,UAAGxP,YAAY,CAAC+D,IAAb,GAAoB2E,KAApB,KAA8B,CAAjC,EAAmC;AACjClK,eAAO,CAACC,GAAR,CAAY,wBAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAH,wBAAgB,GAAG;AAAK,YAAE,EAAC;AAAR,WACb,oBAAC,SAAD,QACE,oBAAC,IAAD;AACE,eAAK,EAAE,KAAK7b,IAAL,CAAUgG,KAAV,CAAgBC,KADzB;AAEE,gBAAM,EAAE,KAAKjG,IAAL,CAAUgG,KAAV,CAAgBE,MAF1B;AAGE,eAAK,EAAC,UAHR,CAIE;AAJF;AAKE,gBAAM,EAAE,CAAC,SAAD,CALV;AAME,cAAI,EAAE,CACJ;AACE,kBAAMpJ,GAAG,CAAC,IAAD,EAAO,6BAAP,CADX;AAEE,qBAAS,SAFX;AAGE,oBAAQiC,YAAY,CAAC+D,IAAb,CAAkB;AAACkY,iBAAG,EAAE,CAAC;AAAC,6BAAale,GAAG,CAAC,IAAD,EAAO,6BAAP;AAAjB,eAAD;AAAN,aAAlB,EAAoF;AAAC6K,kBAAI,EAAE;AAACC,sBAAM,EAAE;AAAT;AAAP,aAApF,EAAyGR,GAAzG,CAA6G,UAAS2B,WAAT,EAAsBF,KAAtB,EAA4B;AAC/I,qBAAO;AACL/G,mBAAG,EAAE+G,KADA;AAEL;AACAG,iBAAC,EAAE3D,MAAM,CAACvI,GAAG,CAACiM,WAAD,EAAc,QAAd,CAAJ,CAAN,CAAmCE,MAAnC,CAA0C,YAA1C,CAHE;AAILC,iBAAC,EAAEpM,GAAG,CAACiM,WAAD,EAAc,qBAAd;AAJD,eAAP;AAMD,aAPO;AAHV,WADI,CANR;AAoBE,gBAAM,EAAE;AACN,mBAAO,EADD;AAEN,qBAAS,GAFH;AAGN,sBAAU,EAHJ;AAIN,oBAAQ;AAJF,WApBV;AA0BE,cAAI,EAAC,MA1BP;AA2BE,iBAAO,EAAE,IA3BX;AA4BE,oBAAU,EAAE;AACV,sBAAU,QADA;AAEV,wBAAY,CAFF;AAGV,2BAAe,CAHL;AAIV,4BAAgB,CAJN;AAKV;AACA,4BAAgB,EANN;AAOV,8BAAkB;AAPR,WA5Bd;AAqCE,kBAAQ,EAAE;AACR,sBAAU,MADF;AAER,wBAAY,CAFJ;AAGR,2BAAe,CAHP;AAIR,4BAAgB,CAJR;AAKR;AACA,4BAAgB,CAAC,EANT;AAOR,8BAAkB;AAPV,WArCZ;AA8CE,iBAAO,EAAE,EA9CX;AA+CE,kBAAQ,EAAC,SA/CX;AAgDE,wBAAc,EAAE,CAhDlB;AAiDE,wBAAc,EAAC,SAjDjB;AAkDE,wBAAc,EAAE,IAlDlB;AAmDE,kBAAQ,EAAC,GAnDX;AAoDE,yBAAe,EAAE,CAAC,EApDpB;AAqDE,iBAAO,EAAE,IArDX;AAsDE,yBAAe,EAAE,EAtDnB;AAuDE,uBAAa,EAAE,EAvDjB;AAwDE,iBAAO,EAAE,CACP;AACE,sBAAU,cADZ;AAEE,yBAAa,QAFf;AAGE,0BAAc,GAHhB;AAIE,yBAAa,EAJf;AAKE,0BAAc,EALhB;AAME,0BAAc,EANhB;AAOE,2BAAe;AAPjB,WADO;AAxDX,UADF,EAqEE,oBAAC,aAAD,OArEF,CADa,EAuFjB,oBAAC,aAAD,OAvFiB,CAAnB;AAyFD;;AACD,UAAG9J,UAAU,CAAC6D,IAAX,GAAkB2E,KAAlB,KAA4B,CAA/B,EAAiC;AAC/BlK,eAAO,CAACC,GAAR,CAAY,sBAAZ;AACAwe,oBAAY,GAAG,KAAf;AACAF,sBAAc,GAAG,iCACf,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,eAAD;AACE,cAAI,EAAG,KAAK9b,IAAL,CAAUmK,GAAV,CAAc2E,UADvB;AAEE,sBAAY,EAAE;AAFhB,UADF,CAFF,CADe,EAWf,oBAAC,aAAD,OAXe,CAAjB;AAaD;;AAED,UAAG4C,OAAO,CAAC5O,IAAR,GAAe2E,KAAf,KAAyB,CAA5B,EAA8B;AAC5BlK,eAAO,CAACC,GAAR,CAAY,mBAAZ;AACA6yB,mBAAW,GAAG,iCACZ,oBAAC,SAAD,QACE,oBAAC,SAAD;AAAW,eAAK,EAAC;AAAjB,UADF,EAEE,oBAAC,QAAD,QACE,oBAAC,gBAAD;AACE,cAAI,EAAG,KAAKrwB,IAAL,CAAUmK,GAAV,CAAcyE,OADvB;AAEE,sBAAY,EAAE;AAFhB,UADF,CAFF,CADY,EAWZ,oBAAC,aAAD,OAXY,CAAd;AAaD;;AAED,UAAIqN,YAAJ;AACA,UAAIjW,KAAJ;AACA,UAAIkW,WAAW,GAAG;AAChBC,iBAAS,EAAE,QADK;AAEhB3U,gBAAQ,EAAE,UAFM;AAGhBF,WAAG,EAAG,CAACrH,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,IAAoC,GAArC,GAA4C,GAA5C,GAAkD;AAHvC,OAAlB;;AAMA,UAAGkf,YAAH,EAAgB;AACdze,eAAO,CAACC,GAAR,CAAY,+BAAZ;;AAEA,YAAGL,MAAM,CAACif,SAAV,EAAoB;AAClB,cAAG,CAAC,QAAD,EAAWvZ,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChDxK,mBAAO,CAACC,GAAR,CAAY,6BAAZ;AACAye,wBAAY,GAAG,oBAAC,GAAD,QACb,oBAAC,IAAD,QACE,oBAAC,GAAD;AAAK,mBAAK,EAAEC;AAAZ,eACE;AAAI,mBAAK,EAAE;AAACG,0BAAU,EAAE;AAAb;AAAX,mDADF,EAEE,oBAAC,YAAD;AAAc,mBAAK,EAAC,4BAApB;AAAiD,qBAAO,EAAG,KAAKjB,kBAAhE;AAAqF,qBAAO,EAAE;AAA9F,cAFF,CADF,CADa,CAAf;AAWD;AACF,SAfD,MAeO;AACL7d,iBAAO,CAACC,GAAR,CAAY,qCAAZ;AACAye,sBAAY,GAAG,oBAAC,GAAD,QACX,oBAAC,IAAD,QACE,oBAAC,GAAD;AAAK,iBAAK,EAAEC;AAAZ,aACE;AAAI,iBAAK,EAAE;AAACG,wBAAU,EAAE;AAAb;AAAX,yDADF,EAIE,oBAAC,YAAD;AAAc,iBAAK,EAAC,4BAApB;AAAiD,mBAAO,EAAG,KAAKjB,kBAAhE;AAAqF,mBAAO,EAAE;AAA9F,YAJF,CADF,CADW,CAAf;AAUD;AACF,OA/BD,MA+BO;AACL7d,eAAO,CAACC,GAAR,CAAY,0BAAZ;AAEAye,oBAAY,GAAG,oBAAC,GAAD;AAAK,eAAK,EAAE;AAACsU,sBAAU,EAAE,MAAb;AAAqB5B,uBAAW,EAAE;AAAlC;AAAZ,WACb,oBAAC,GAAD;AAAK,YAAE,EAAE;AAAT,WACIyB,iBADJ,EAEIC,WAFJ,EAGIhV,aAHJ,EAIII,iBAJJ,EAKIE,oBALJ,EAMIE,gBANJ,CADa,EASb,oBAAC,GAAD;AAAK,YAAE,EAAE;AAAT,WACE,gCADF,CATa,CAAf;AAcD;;AAED,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACII,YADJ,CADF,CADF;AAOD;;;;;;EA/iBiCnX,KAAK,CAACuE,S;;AAijB1CrE,UAAU,CAAC3B,cAAc,CAACiG,SAAhB,EAA2BvE,eAA3B,CAAV;AA3mBAhI,MAAM,CAACmF,aAAP,CA4mBemB,cA5mBf,E;;;;;;;;;;;;;;;ACAAtG,MAAM,CAACiG,MAAP,CAAc;AAACif,iBAAe,EAAC;AAAA,WAAIA,eAAJ;AAAA;AAAjB,CAAd;AAAqD,IAAIzY,GAAJ,EAAQC,IAAR,EAAayd,UAAb;AAAwBnqB,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACwM,KAAD,YAAKvM,CAAL,EAAO;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAAd;AAAewM,MAAf,YAAoBxM,CAApB,EAAsB;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA9B;AAA+BiqB,YAA/B,YAA0CjqB,CAA1C,EAA4C;AAACiqB,cAAU,GAACjqB,CAAX;AAAa;AAA1D,CAAhC,EAA4F,CAA5F;AAA+F,IAAIkqB,SAAJ;AAAcpqB,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAAA,uBAASC,CAAT,EAAW;AAACkqB,aAAS,GAAClqB,CAAV;AAAY;AAAxB,CAAzB,EAAmD,CAAnD;AAAsD,IAAIyM,UAAJ,EAAeH,WAAf,EAA2BlF,UAA3B,EAAsCF,QAAtC,EAA+CC,SAA/C,EAAyD8c,WAAzD,EAAqExb,QAArE,EAA8E4W,SAA9E,EAAwFnD,YAAxF,EAAqG1O,MAArG;AAA4G1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC0M,YAAD,YAAYzM,CAAZ,EAAc;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAA5B;AAA6BsM,aAA7B,YAAyCtM,CAAzC,EAA2C;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA1D;AAA2DoH,YAA3D,YAAsEpH,CAAtE,EAAwE;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAAtF;AAAuFkH,UAAvF,YAAgGlH,CAAhG,EAAkG;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAA9G;AAA+GmH,WAA/G,YAAyHnH,CAAzH,EAA2H;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAxI;AAAyIikB,aAAzI,YAAqJjkB,CAArJ,EAAuJ;AAACikB,eAAW,GAACjkB,CAAZ;AAAc,GAAtK;AAAuKyI,UAAvK,YAAgLzI,CAAhL,EAAkL;AAACyI,YAAQ,GAACzI,CAAT;AAAW,GAA9L;AAA+Lqf,WAA/L,YAAyMrf,CAAzM,EAA2M;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAAxN;AAAyNkc,cAAzN,YAAsOlc,CAAtO,EAAwO;AAACkc,gBAAY,GAAClc,CAAb;AAAe,GAAxP;AAAyPwN,QAAzP,YAAgQxN,CAAhQ,EAAkQ;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAA5Q,CAA1B,EAAwS,CAAxS;AAA2S,IAAIkkB,OAAJ,EAAYC,SAAZ;AAAsBrkB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACmkB,SAAD,YAASlkB,CAAT,EAAW;AAACkkB,WAAO,GAAClkB,CAAR;AAAU,GAAtB;AAAuBmkB,WAAvB,YAAiCnkB,CAAjC,EAAmC;AAACmkB,aAAS,GAACnkB,CAAV;AAAY;AAAhD,CAAxC,EAA0F,CAA1F;AAA6F,IAAIokB,OAAJ,EAAYC,OAAZ,EAAoBC,QAApB,EAA6BC,SAA7B,EAAuCC,MAAvC,EAA8CC,SAA9C;AAAwD3kB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACqkB,SAAD,YAASpkB,CAAT,EAAW;AAACokB,WAAO,GAACpkB,CAAR;AAAU,GAAtB;AAAuBqkB,SAAvB,YAA+BrkB,CAA/B,EAAiC;AAACqkB,WAAO,GAACrkB,CAAR;AAAU,GAA5C;AAA6CskB,UAA7C,YAAsDtkB,CAAtD,EAAwD;AAACskB,YAAQ,GAACtkB,CAAT;AAAW,GAApE;AAAqEukB,WAArE,YAA+EvkB,CAA/E,EAAiF;AAACukB,aAAS,GAACvkB,CAAV;AAAY,GAA9F;AAA+FwkB,QAA/F,YAAsGxkB,CAAtG,EAAwG;AAACwkB,UAAM,GAACxkB,CAAP;AAAS,GAAlH;AAAmHykB,WAAnH,YAA6HzkB,CAA7H,EAA+H;AAACykB,aAAS,GAACzkB,CAAV;AAAY;AAA5I,CAAxC,EAAsL,CAAtL;AAAyL,IAAI2H,IAAJ,EAASD,GAAT,EAAaE,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC4H,MAAD,YAAM3H,CAAN,EAAQ;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAAhB;AAAiB0H,KAAjB,YAAqB1H,CAArB,EAAuB;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI0kB,WAAJ;AAAgB5kB,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAAA,uBAASC,CAAT,EAAW;AAAC0kB,eAAW,GAAC1kB,CAAZ;AAAc;AAA1B,CAAjD,EAA6E,CAA7E;AAAgF,IAAI2kB,aAAJ;AAAkB7kB,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAAA,uBAASC,CAAT,EAAW;AAAC2kB,iBAAa,GAAC3kB,CAAd;AAAgB;AAA5B,CAAnD,EAAiF,CAAjF;AAAoF,IAAI4kB,cAAJ;AAAmB9kB,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAAA,uBAASC,CAAT,EAAW;AAAC4kB,kBAAc,GAAC5kB,CAAf;AAAiB;AAA7B,CAApD,EAAmF,CAAnF;AAAsF,IAAI6kB,oBAAJ;AAAyB/kB,MAAM,CAACC,IAAP,CAAY,8CAAZ,EAA2D;AAAA,uBAASC,CAAT,EAAW;AAAC6kB,wBAAoB,GAAC7kB,CAArB;AAAuB;AAAnC,CAA3D,EAAgG,CAAhG;AAAmG,IAAIuN,oBAAJ;AAAyBzN,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAACwN,sBAAD,YAAsBvN,CAAtB,EAAwB;AAACuN,wBAAoB,GAACvN,CAArB;AAAuB;AAAhD,CAArC,EAAuF,EAAvF;AAA2F,IAAI8kB,MAAJ;AAAWhlB,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAAC8kB,UAAM,GAAC9kB,CAAP;AAAS;AAArB,CAAjC,EAAwD,EAAxD;AAA4D,IAAIyN,iBAAJ;AAAsB3N,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACyN,qBAAiB,GAACzN,CAAlB;AAAoB;AAAhC,CAAvC,EAAyE,EAAzE;AAA6E,IAAIE,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,EAAlD;AAAsD,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAA8C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,EAA/E;AAAmF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,EAArD;AAAyD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,EAArD;AAAyD,IAAI0N,KAAJ;AAAU5N,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,EAAlD;AAAsD,IAAIuH,cAAJ,EAAmBD,cAAnB,EAAkCG,aAAlC,EAAgDJ,SAAhD,EAA0DG,KAA1D;AAAgE1H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACwH,gBAAD,YAAgBvH,CAAhB,EAAkB;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApC;AAAqCsH,gBAArC,YAAoDtH,CAApD,EAAsD;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAxE;AAAyEyH,eAAzE,YAAuFzH,CAAvF,EAAyF;AAACyH,iBAAa,GAACzH,CAAd;AAAgB,GAA1G;AAA2GqH,WAA3G,YAAqHrH,CAArH,EAAuH;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAApI;AAAqIwH,OAArI,YAA2IxH,CAA3I,EAA6I;AAACwH,SAAK,GAACxH,CAAN;AAAQ;AAAtJ,CAAvC,EAA+L,EAA/L;AAAmM,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;AAAqE,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,EAArC;AAAyC,IAAI+kB,WAAJ;AAAgBjlB,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACglB,aAAD,YAAa/kB,CAAb,EAAe;AAAC+kB,eAAW,GAAC/kB,CAAZ;AAAc;AAA9B,CAArB,EAAqD,EAArD;AAAyD,IAAIuzB,IAAJ;AAASzzB,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAmB;AAAA,uBAASC,CAAT,EAAW;AAACuzB,QAAI,GAACvzB,CAAL;AAAO;AAAnB,CAAnB,EAAwC,EAAxC;AAA4C,IAAIU,qBAAJ;AAA0BZ,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAAA,uBAASC,CAAT,EAAW;AAACU,yBAAqB,GAACV,CAAtB;AAAwB;AAApC,CAA3C,EAAiF,EAAjF;AAoCruF;AACA;AACA,IAAIwzB,cAAc,GAAG,CAArB;AAEA,IAAI5lB,eAAe,GAAG;AACpBC,kBAAgB,EAAE,CAAC,OAAD,EAAU,MAAV,EAAkB,MAAlB,EAA0B,OAA1B,EAAmC,UAAnC,EAA+C,OAA/C,EAAwD,MAAxD,EAAgE,SAAhE,CADE;AAEpBC,eAAa,EAAE,CAAC,OAAD,EAAU,MAAV,EAAkB,OAAlB,EAA2B,UAA3B,EAAwC,MAAxC,EAA+C,QAA/C,EAAyD,OAAzD,EAAkE,MAAlE,CAFK;AAGpBC,kBAAgB,EAAE,IAHE;AAIpBC,SAAO,EAAE;AAJW,CAAtB;AAMA,IAAIC,SAAS,GAAG;AACdC,kBAAgB,EAAE,KADJ;AAEdC,gBAAc,EAAE,IAFF;AAGdslB,oBAAkB,EAAE;AAHN,CAAhB;AAKA,IAAIrlB,aAAa,GAAG;AAClB;AACA;AACA;AACAC,MAAI,EAAE,IAJY;AAKlB;AACAC,MAAI,EAAE,UAASsT,KAAT,EAAe;AACnBthB,WAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBqhB,KAArB;AACD,GARiB;AASlBrT,WAAS,EAAE,IATO;AAUlBC,SAAO,EAAE,IAVS;AAWlBC,WAAS,EAAE,IAXO;AAYlBC,UAAQ,EAAE,IAZQ;AAalBC,WAAS,EAAE,IAbO;AAclB;AACAC,WAAS,EAAE,UAAUoc,IAAV,EAAgB;AACzB1qB,WAAO,CAACC,GAAR,CAAY,qCAAZ;AACAD,WAAO,CAACC,GAAR,CAAY,MAAZ,EAAoByqB,IAApB,EAFyB,CAGzB;;AACA,QAAI0I,SAAS,GAAG1I,IAAI,CAAClmB,IAAL,CAAU6d,KAAV,CAAgB,GAAhB,EAAqBgR,GAArB,GAA2BC,WAA3B,EAAhB;AACAtzB,WAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BmzB,SAA3B;AAEA1wB,WAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BywB,SAA7B,EAPyB,CASzB;;AACA,QAAIG,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,QAAMC,IAAI,GAAG,CAAC,CAACF,MAAM,CAACG,kBAAtB;;AAGAH,UAAM,CAACI,MAAP,GAAgB,UAASzJ,CAAT,EAAY;AAE1B,UAAGqJ,MAAM,CAAClxB,MAAV,EAAiB;AACfrC,eAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BszB,MAAM,CAAClxB,MAApC;AAEA,YAAII,IAAJ;;AAEA,YAAG2wB,SAAS,IAAI,KAAhB,EAAsB;AACpBpzB,iBAAO,CAACC,GAAR,CAAY,gCAAZ;AAEAwkB,qBAAW,CAAC8O,MAAM,CAAClxB,MAAR,EAAgB,UAAUuxB,GAAV,EAAevxB,MAAf,EAAuB;AAChDrC,mBAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,mBAAO,CAAC6zB,GAAR,CAAYxxB,MAAZ;AACAK,mBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BN,MAA3B;AACD,WAJU,CAAX;AAMD,SATD,MASO,IAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,QAAxB,EAAkC,KAAlC,EAAyCiD,QAAzC,CAAkD8tB,SAAlD,CAAH,EAAgE;AAGrEpzB,iBAAO,CAACC,GAAR,CAAY,0CAAZ,EAHqE,CAIrE;;AACAD,iBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BszB,MAAM,CAAClxB,MAApC;;AAEA,cAAG,CAAC,MAAD,EAASiD,QAAT,CAAkB8tB,SAAlB,CAAH,EAAgC;AAC9BpzB,mBAAO,CAACC,GAAR,CAAY,iEAAZ;AACA,gBAAI6zB,aAAa,GAAG3N,QAAQ,CAACC,GAAT,CAAa2N,OAAb,CAAqBR,MAAM,CAAClxB,MAA5B,EAAoCzC,MAAM,CAACiC,MAAP,EAApC,CAApB,CAF8B,CAG9B;;AAEA,gBAAImyB,QAAQ,GAAGF,aAAa,CAACpQ,QAAd,CAAuByC,QAAQ,CAAC8N,GAAT,CAAaC,IAApC,CAAf,CAL8B,CAM9B;;AAEA,gBAAIC,WAAW,GAAGC,SAAS,CAACJ,QAAD,CAA3B,CAR8B,CAS9B;;AAEAtxB,mBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BwxB,WAA3B;AACD,WAZD,MAYO;AACL,gBAAI/wB,WAAJ;AACCpD,mBAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCszB,MAAM,CAAClxB,MAA3C;;AAED,gBAAG,OAAOkxB,MAAM,CAAClxB,MAAd,KAAyB,QAA5B,EAAqC;AACnCe,yBAAW,GAAGlD,IAAI,CAACm0B,KAAL,CAAWd,MAAM,CAAClxB,MAAlB,CAAd;AACD,aAFD,MAEO;AACLe,yBAAW,GAAGmwB,MAAM,CAAClxB,MAArB;AACD;;AAEDrC,mBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BmD,WAA3B;;AAEA,gBAAGA,WAAH,EAAe;AACb,kBAAGA,WAAW,CAACX,IAAf,EAAoB;AAClBC,uBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BS,WAAW,CAACX,IAAvC;AACD,eAFD,MAEO;AACLC,uBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BS,WAA3B;AACD;AACF;AACF;AAGF,SAzCM,MAyCA,IAAGgwB,SAAS,IAAI,SAAhB,EAA0B;AAC/B,cAAG3wB,IAAI,CAACmkB,IAAL,IAAa,mBAAhB,EAAoC;AAClC5mB,mBAAO,CAACC,GAAR,CAAY,oCAAZ;AAEAL,kBAAM,CAACsS,IAAP,CAAY,cAAZ,EAA4BzP,IAA5B,EAAkC,UAAUL,KAAV,EAAiBC,MAAjB,EAAwB;AACxD,kBAAID,KAAJ,EAAU;AACRpC,uBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBmC,KAArB;AACD;;AACD,kBAAIC,MAAJ,EAAW;AACTrC,uBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBoC,MAAtB;AACD;AACF,aAPD;AAQD;AACF,SAbM,MAaA,IAAG,CAAC,KAAD,EAAQ,MAAR,EAAgBiD,QAAhB,CAAyB8tB,SAAzB,CAAH,EAAuC;AAC5CpzB,iBAAO,CAACC,GAAR,CAAY,mCAAZ;AACAD,iBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBszB,MAAtB;AACAvzB,iBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BszB,MAAM,CAAClxB,MAApC;AAEA,cAAMI,KAAI,GAAGynB,CAAC,CAACoK,MAAF,CAASjyB,MAAtB;AACA,cAAMmC,IAAI,GAAGkmB,IAAI,CAAClmB,IAAlB;AAEAxE,iBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBwC,KAApB;AACAzC,iBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBuE,IAApB;AAEA5E,gBAAM,CAACsS,IAAP,CAAYuhB,IAAI,GAAG,SAAH,GAAe,SAA/B,EAA0CA,IAAI,GAAGhxB,KAAH,GAAU,IAAI8xB,UAAJ,CAAe9xB,KAAf,CAAxD,EAA8E+B,IAA9E,EAAoF,UAASovB,GAAT,EAAcY,EAAd,EAAkB;AACpG,gBAAIZ,GAAJ,EAAS,MAAMA,GAAN;AACT;;AACA,gBAAMa,EAAE,GAAGD,EAAE,CAACE,MAAH,CAAUF,EAAE,CAACG,UAAH,CAAc,CAAd,CAAV,CAAX;AACA30B,mBAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBw0B,EAAlB;AAEA,gBAAIG,EAAE,GAAGr1B,GAAG,CAACk1B,EAAD,EAAK,IAAL,CAAZ;AACAz0B,mBAAO,CAACC,GAAR,CAAY,IAAZ,EAAkB20B,EAAlB;AAEAlyB,mBAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B8xB,EAA3B,EAToG,CAWpG;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACD,WAtBD;AA0BD,SArCM,MAqCA,IAAGrB,SAAS,IAAI,SAAhB,EAA0B;AAC/B,cAAG3wB,IAAI,CAACmkB,IAAL,IAAa,mBAAhB,EAAoC;AAClC5mB,mBAAO,CAACC,GAAR,CAAY,oCAAZ;AAEAL,kBAAM,CAACsS,IAAP,CAAY,aAAZ,EAA2BqhB,MAAM,CAAClxB,MAAlC,EAA0C,UAAUD,KAAV,EAAiBC,MAAjB,EAAwB;AAChE,kBAAID,KAAJ,EAAU;AACRpC,uBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBmC,KAArB;AACD;;AACD,kBAAIC,MAAJ,EAAW;AACTrC,uBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBoC,MAAtB;AACD;AACF,aAPD;AAQD;AACF,SAbM,MAaA,IAAG,CAAC,KAAD,EAAQiD,QAAR,CAAiB8tB,SAAjB,CAAH,EAA+B;AACpCpzB,iBAAO,CAACC,GAAR,CAAY,+BAAZ,EADoC,CAIpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,SAlDM,MAkDA,IAAGmzB,SAAS,IAAI,MAAhB,EAAuB;AAC5B;AACApzB,iBAAO,CAACC,GAAR,CAAY,8EAAZ;AACD,SAHM,MAGA;AACL;AACAszB,gBAAM,CAACsB,UAAP,CAAkBnK,IAAlB;AACD;AAEF;AACF,KAnLD;;AAsLA,QAAG+I,IAAH,EAASF,MAAM,CAACG,kBAAP,CAA0BhJ,IAA1B,EAAT,KAA+C6I,MAAM,CAACuB,iBAAP,CAAyBpK,IAAzB;AAEhD,GArNiB;AAsNlBnc,aAAW,EAAE,YAAU;AACrB7L,WAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,EAA3B;AACD,GAxNiB;AAyNlB6L,WAAS,EAAE,IAzNO;AA0NlBpM,OAAK,EAAE,IA1NW;AA2NlBqM,YAAU,EAAE,IA3NM;AA4NlBC,gBAAc,EAAE,IA5NE;AA6NlBC,SAAO,EAAE,IA7NS;AA8NlBC,SAAO,EAAE,IA9NS;AA+NlBC,UAAQ,EAAE,IA/NQ;AAgOlBC,UAAQ,EAAE,IAhOQ;AAiOlBC,iBAAe,EAAE,IAjOC;AAkOlBC,kBAAgB,EAAE,IAlOA;AAmOlB;AACA;AACA;AACAC,oBAAkB,EAAE,IAtOF;AAuOlBC,iBAAe,EAAE,IAvOC;AAwOlBC,iBAAe,EAAE,IAxOC;AAyOlBC,kBAAgB,EAAE,IAzOA;AA0OlBC,kBAAgB,EAAE,IA1OA;AA2OlB;AACAC,qBAAmB,EAAE,IA5OH;AA6OlBC,OAAK,EAAE,IA7OW;AA8OlBC,eAAa,EAAE;AA9OG,CAApB,C,CAiPA;AACA;AAEA;AAEA;AACA;;AAEA,SAASkc,YAAT,CAAsBpjB,KAAtB,EAA6B;AAC3B,SACE,oBAAC,UAAD;AAAY,aAAS,EAAC;AAAtB,KACGA,KAAK,CAACsC,QADT,CADF;AAKD;;AACD8gB,YAAY,CAACC,SAAb,GAAyB;AACvB/gB,UAAQ,EAAEgf,SAAS,CAACgC,IAAV,CAAeC;AADF,CAAzB;AAKAnpB,OAAO,CAAC2F,UAAR,CAAmB,eAAnB,EAAoC,EAApC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,aAAnB,EAAkC,EAAlC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,gBAAnB,EAAqC,CAArC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,kBAAnB,EAAuC,CAAvC;;IACaqc,e;;;;;AACX,2BAAYpc,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;;AADiB,UAkkBnBsc,YAlkBmB,GAkkBJ,UAACja,KAAD,EAAW;AACxB,YAAKka,QAAL,CAAc;AACZla,aAAK,EAAEA;AADK,OAAd;AAGD,KAtkBkB;;AAAA,UAukBnBqC,eAvkBmB,GAukBD,UAACtC,KAAD,EAAQC,KAAR,EAAkB;AAClC,YAAKka,QAAL,CAAc;AACZE,mBAAW,EAAEpa,KADD;AAEZgC,gBAAQ,EAAEhC;AAFE,OAAd;AAID,KA5kBkB;;AAEjB,UAAKgX,KAAL,GAAa;AACXhV,cAAQ,EAAE,CADC;AAEXoY,iBAAW,EAAE,WAFF;AAGXE,iBAAW,EAAE,WAHF;AAIXC,mBAAa,EAAE;AAJJ,KAAb;AAFiB;AAQlB;;;;SAED3c,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACLuc,iBAAO,EAAEziB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADJ;AAELiN,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE,MAFV;AAGHzB,oBAAQ,EAAE;AAHP;AAFA,SADE;AASTma,cAAM,EAAE;AACNC,cAAI,EAAE3iB,OAAO,CAACnD,GAAR,CAAY,MAAZ;AADA,SATC;AAYTuC,YAAI,EAAE;AACJqQ,iBAAO,EAAE;AADL,SAZG;AAeTtJ,aAAK,EAAE,oBAfE;AAgBTyc,oBAAY,EAAE,KAhBL;AAiBTJ,qBAAa,EAAE,KAAKvD,KAAL,CAAWuD,aAjBjB;AAkBT,kBAAQ;AACNK,uBAAa,EAAE7iB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADT;AAEN;AACAoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IAHtC;AAG6C;AACnDkD,cAAI,EAAE;AAJA,SAlBC;AAwBT+iB,sBAAc,EAAE;AACd7c,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC;AAD9B,SAxBP;AA2BT,kBAAQ;AACNoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IADtC;AAENkD,cAAI,EAAE;AAFA,SA3BC;AA+BTgjB,sBAAc,EAAE/iB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CA/BP;AAgCTw1B,wBAAgB,EAAEryB,OAAO,CAACnD,GAAR,CAAY,kBAAZ,CAhCT;AAiCTyV,oBAAY,EAAEtS,OAAO,CAACnD,GAAR,CAAY,cAAZ;AAjCL,OAAX;;AAoCA,UAAGA,GAAG,CAACK,MAAD,EAAS,0CAAT,CAAN,EAA2D;AACzD;AACA6C,YAAI,CAAC6iB,YAAL,GAAoB/lB,GAAG,CAACK,MAAD,EAAS,0CAAT,CAAvB;AACD;;AAED,UAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,MAAhB,EAAwB,MAAxB,EAAgC,KAAhC,EAAuC,QAAvC,EAAiD,KAAjD,EAAwD0F,QAAxD,CAAiE5C,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAAjE,CAAH,EAAkG;AAChGkD,YAAI,CAACijB,MAAL,CAAYjjB,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAf,EAA2C,IAA3C,EAAiD,CAAjD,CAAnB;AACD;;AACD,UAAG,CAAC,MAAD,EAAS+F,QAAT,CAAkB5C,OAAO,CAACnD,GAAR,CAAY,eAAZ,CAAlB,CAAH,EAAmD;AACjDkD,YAAI,CAACijB,MAAL,CAAYjjB,IAAZ,GAAmBC,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAnB;AACD;;AAED,UAAIuC,IAAI,GAAGlC,MAAM,CAACkC,IAAP,EAAX;;AACA,UAAGA,IAAH,EAAQ;AACN,YAAIA,IAAI,CAACuD,KAAT,EAAgB;AACdvD,cAAI,CAACuD,KAAL,CAAWpE,OAAX,CAAmB,UAASyT,IAAT,EAAc;AAC/B,gBAAIA,IAAI,KAAK,UAAb,EAAyB;AACvBjS,kBAAI,CAACX,IAAL,CAAUqQ,OAAV,GAAoB,IAApB;AACD,aAFD,MAEO,IAAIuC,IAAI,KAAK,cAAb,EAA6B;AAClCjS,kBAAI,CAACX,IAAL,CAAU6S,cAAV,GAA2B,IAA3B;AACD,aAFM,MAEA,IAAID,IAAI,KAAK,SAAb,EAAwB;AAC7BjS,kBAAI,CAACX,IAAL,CAAU8S,SAAV,GAAsB,IAAtB;AACD;AACF,WARD;AASD;AACF;;AAED,UAAGlS,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAH,EAAsC;AACpCkD,YAAI,CAACgD,MAAL,CAAYhD,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAf,EAAmD,IAAnD,EAAyD,CAAzD,CAAnB;AACD;;AAEDkD,UAAI,CAACmG,KAAL,GAAa1B,KAAK,CAAC4F,IAAN,CAAWrK,IAAI,CAACmG,KAAhB,CAAb;AACAnG,UAAI,CAACmG,KAAL,CAAW4D,GAAX,GAAiBtF,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAW4D,GAA1B,CAAjB,CArEc,CAuEd;;AACAxM,aAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CwC,IAA5C;AACA,aAAOA,IAAP;AACD;;;;;SAEDkjB,W;yBAAYC,Q,EAAUlb,K,EAAOC,K,EAAM;AACjCjI,aAAO,CAACC,GAAR,CAAYijB,QAAZ,EAAsBjb,KAAtB;AACD;;;;;SACD3H,qB;mCAAsBC,Y,EAAa;AACjC,UAAIC,UAAU,GAAG,EAAjB;;AACA,cAAQD,YAAR;AACE,aAAK,QAAL;AACEC,oBAAU,GAAG,UAAb;AACA;;AACF,aAAK,SAAL;AACEA,oBAAU,GAAG,WAAb;AACA;;AACF,aAAK,gBAAL;AACEA,oBAAU,GAAG,kBAAb;AACA;;AACF,aAAK,cAAL;AACEA,oBAAU,GAAG,gBAAb;AACA;;AACF,aAAK,qBAAL;AACEA,oBAAU,GAAG,uBAAb;AACA;;AACF,aAAK,eAAL;AACEA,oBAAU,GAAG,iBAAb;AACA;;AACF;AACEA,oBAAU,GAAGD,YAAY,GAAG,GAA5B;AACA;AArBJ;;AAwBA,aAAOC,UAAP;AACD;;;;;SACD8xB,oB;kCAAqB5xB,W,EAAY;AAC7B;AACA,UAAGA,WAAW,CAAC6xB,YAAf,EAA4B;AAC1B,YAAGxZ,OAAO,CAAC,oGAAD,CAAV,EAAiH;AAC/Gzb,iBAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDmD,WAAW,CAAC6xB,YAA9D;AAEA7xB,qBAAW,CAAC6xB,YAAZ,CAAyBA,YAAzB,CAAsCh0B,OAAtC,CAA8C,UAASqC,KAAT,EAAe;AAC3D,gBAAG,CAAC6Q,OAAO,CAAC1P,OAAR,CAAgB;AAAC,2BAAanB,KAAK,CAACkB;AAApB,aAAhB,CAAJ,EAA+C;AAC7C2P,qBAAO,CAAC9S,MAAR,CAAe;AACb4B,4BAAY,EAAE,QADD;AAEbuB,oBAAI,EAAE,CAAC;AACL+d,sBAAI,EAAEjf,KAAK,CAACkB;AADP,iBAAD;AAFO,eAAf;AAMD;AACF,WATD;AAWD;AACF,OAlB4B,CAoB7B;;;AACA,UAAGpB,WAAW,CAAC+e,OAAf,EAAuB;AACrB,YAAG1G,OAAO,CAAC,sGAAD,CAAV,EAAmH;AACjHzb,iBAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CmD,WAAW,CAAC+e,OAAzD;AAEA,cAAIhd,WAAW,GAAGvF,MAAM,CAACkC,IAAP,EAAlB;;AAEA,cAAGvC,GAAG,CAAC4F,WAAD,EAAc,SAAd,CAAN,EAA+B;AAE7B;AACA,gBAAG5F,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAAN,EAAoC;AAClC,kBAAI8xB,QAAQ,GAAG31B,GAAG,CAAC6D,WAAD,EAAc,cAAd,CAAlB;AACA+B,yBAAW,CAACgd,OAAZ,CAAoB3d,IAApB,CAAyB+d,IAAzB,GAAgC2S,QAAhC;AAEA,kBAAIC,SAAS,GAAGD,QAAQ,CAAC7S,KAAT,CAAe,GAAf,CAAhB;AAEAziB,oBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,mBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,eAApB,EAA4C;AAACkuB,oBAAI,EAAE;AACjD,yCAAuBoF,SAAS,CAAC,CAAD,CADiB;AAEjD,uCAAqB51B,GAAG,CAAC6D,WAAD,EAAc,cAAd;AAFyB,iBAAP;AAGzCksB,yBAAS,EAAE;AACZ,wCAAsB6F,SAAS,CAAC,CAAD;AADnB;AAH8B,eAA5C;AAMD,aAf4B,CAiB7B;;;AACA,gBAAG51B,GAAG,CAAC6D,WAAD,EAAc,iBAAd,CAAN,EAAuC;AACrC,kBAAIgyB,cAAc,GAAG71B,GAAG,CAAC6D,WAAD,EAAc,iBAAd,CAAxB;AAEAxD,oBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,mBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,eAApB,EAA4C;AAACwzB,sBAAM,EAAE;AACnD,yDAAuC;AADY;AAAT,eAA5C;AAIAz1B,oBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,mBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,eAApB,EAA4C;AAACkuB,oBAAI,EAAE;AACjD,yDAAuCqF,cAAc,CAACE,IADL;AAEjD,4DAA0CF,cAAc,CAACG,YAFR;AAGjD,0DAAwCH,cAAc,CAACI,MAHN;AAIjD,+DAA6CJ,cAAc,CAACK;AAJX,iBAAP;AAKzCnG,yBAAS,EAAE;AACZ,yDAAuC8F,cAAc,CAACM;AAD1C;AAL8B,eAA5C;AAQD,aAjC4B,CAmC7B;;;AACA,gBAAGn2B,GAAG,CAAC6D,WAAD,EAAc,8BAAd,CAAN,EAAoD;AAClDxD,oBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,mBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,eAApB,EAA4C;AAACkuB,oBAAI,EAAE;AACjD,oCAAkB5qB,WAAW,CAACgd,OAAZ,CAAoByQ,MAApB,CAA2B+C;AADI;AAAP,eAA5C;AAGD,aAxC4B,CA0C7B;;;AACA,gBAAGp2B,GAAG,CAAC6D,WAAD,EAAc,kBAAd,CAAN,EAAwC;AACtC+B,yBAAW,CAACgd,OAAZ,CAAoByT,SAApB,GAAgC,IAAIh0B,IAAJ,CAC9BrC,GAAG,CAAC6D,WAAD,EAAc,uBAAd,CAD2B,EAE9B7D,GAAG,CAAC6D,WAAD,EAAc,wBAAd,CAAH,GAA6C,CAFf,EAG9B7D,GAAG,CAAC6D,WAAD,EAAc,sBAAd,CAH2B,CAAhC;AAMAxD,oBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,mBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,eAApB,EAA4C;AAACkuB,oBAAI,EAAE;AACjD,uCAAqB5qB,WAAW,CAACgd,OAAZ,CAAoByT;AADQ;AAAP,eAA5C;AAGD,aArD4B,CAuD7B;;;AACA,gBAAGr2B,GAAG,CAAC6D,WAAD,EAAc,uBAAd,CAAN,EAA6C;AAC3CA,yBAAW,CAAC+e,OAAZ,CAAoB0T,MAApB,CAA2BA,MAA3B,CAAkC50B,OAAlC,CAA0C,UAAS60B,YAAT,EAAsB;AAC9Dl2B,sBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,qBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,iBAApB,EAA4C;AAACytB,2BAAS,EAAE;AACtD,uCAAmB;AACjB,gCAAU,OADO;AAEjB,+BAASwG;AAFQ;AADmC;AAAZ,iBAA5C;AAMD,eAPD;AAQD,aAjE4B,CAmE7B;;;AACA,gBAAGv2B,GAAG,CAAC6D,WAAD,EAAc,6BAAd,CAAN,EAAmD;AACjDxD,oBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,mBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,eAApB,EAA4C;AAACkuB,oBAAI,EAAE;AACjD,2CAAyBxwB,GAAG,CAAC6D,WAAD,EAAc,6BAAd;AADqB;AAAP,eAA5C;AAGD,aAxE4B,CA2E7B;;;AACA,gBAAG7D,GAAG,CAAC6D,WAAD,EAAc,wBAAd,CAAN,EAA8C;AAC5CA,yBAAW,CAAC+e,OAAZ,CAAoB4T,cAApB,CAAmC90B,OAAnC,CAA2C,UAAS+0B,YAAT,EAAsB;AAC/Dp2B,sBAAM,CAACwF,KAAP,CAAaiqB,MAAb,CAAoB;AAAC1rB,qBAAG,EAAE/D,MAAM,CAACiC,MAAP;AAAN,iBAApB,EAA4C;AAACytB,2BAAS,EAAE;AACtD,uCAAmB;AACjB,sCAAgB,CAAC;AAAC/M,4BAAI,EAAEyT,YAAY,CAACC;AAApB,uBAAD,CADC;AAEjB,8BAAQ;AAAC,gCAAQD,YAAY,CAACxxB;AAAtB;AAFS;AADmC;AAAZ,iBAA5C;;AAOA,oBAAG,CAAC4P,cAAc,CAAC3P,OAAf,CAAuB;AAAC,+BAAauxB,YAAY,CAACxxB;AAA3B,iBAAvB,CAAJ,EAA6D;AAC3D4P,gCAAc,CAAC/S,MAAf,CAAsB;AACpBmD,wBAAI,EAAE;AACJ+d,0BAAI,EAAEyT,YAAY,CAACxxB;AADf,qBADc;AAIpB0xB,gCAAY,EAAE;AACZ3T,0BAAI,EAAEyT,YAAY,CAACC;AADP;AAJM,mBAAtB;AAQD;AACF,eAlBD;AAmBD;AACF;AACF;AACF;AAEJ;;;;;SACDE,uB;qCAAwB/yB,W,EAAY;AAClCpD,aAAO,CAACC,GAAR,CAAY,yBAAZ;AAEAmD,iBAAW,CAACnC,OAAZ,CAAoB,UAASC,MAAT,EAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,YAAIk1B,WAAW,GAAG;AAChB5xB,cAAI,EAAEtD,MAAM,CAAC,CAAD,CADI;AAEhBm1B,qBAAW,EAAEn1B,MAAM,CAAC,CAAD,CAFH;AAGhBo1B,iBAAO,EAAE;AACPC,gBAAI,EAAEr1B,MAAM,CAAC,EAAD,CADL;AAEPo0B,gBAAI,EAAE,SAFC;AAGP3T,iBAAK,EAAE,IAHA;AAIP6U,sBAAU,EAAEt1B,MAAM,CAAC,EAAD;AAJX,WAHO;AAShB+I,kBAAQ,EAAE;AACRwoB,oBAAQ,EAAEvxB,MAAM,CAAC,EAAD,CADR;AAERsxB,qBAAS,EAAEtxB,MAAM,CAAC,EAAD;AAFT,WATM;AAahBu1B,oBAAU,EAAE,CAAC;AACXC,kBAAM,EAAE,kCADG;AAEX/rB,iBAAK,EAAEzJ,MAAM,CAAC,CAAD;AAFF,WAAD;AAbI,SAAlB;AAmBAwS,iBAAS,CAACrS,MAAV,CAAiB+0B,WAAjB;AACD,OA/BD;AAgCD;;;;;SACDO,kB;gCAAmBvzB,W,EAAY;AAC7BpD,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCmD,WAAlC;AAEA,UAAIpC,OAAO,GAAG,EAAd;AACA,UAAI41B,SAAS,GAAG,EAAhB;AACA,UAAIC,IAAI,GAAG,EAAX;;AAGA,UAAGn0B,OAAO,CAACnD,GAAR,CAAY,kBAAZ,IAAkC2zB,cAArC,EAAoD;AAClD,gBAAQxwB,OAAO,CAACnD,GAAR,CAAY,kBAAZ,CAAR;AACE,eAAK,CAAL;AAAS;AAEP4E,kBAAM,CAACC,IAAP,CAAYhB,WAAZ,EAAyBnC,OAAzB,CAAiC,UAAS61B,IAAT,EAAc;AAE7C;AACA,kBAAIC,QAAQ,GAAGD,IAAI,CAACE,OAAL,CAAa,KAAb,EAAmB,EAAnB,CAAf;AAEA,kBAAIC,GAAG,GAAG,EAAV;;AACA,kBAAGL,SAAS,CAACG,QAAD,CAAZ,EAAuB;AACrBE,mBAAG,GAAGL,SAAS,CAACG,QAAD,CAAf;AACD;;AAED,kBAAIG,eAAe,GAAG;AACpBj0B,4BAAY,EAAE,cADM;AAEpBk0B,sBAAM,EAAE,IAFY;AAGpB3yB,oBAAI,EAAE,EAHc;AAIpB4yB,uBAAO,EAAE,EAJW;AAKpBd,uBAAO,EAAE,EALW;AAMpBe,uBAAO,EAAE,EANW;AAOpBC,wBAAQ,EAAE;AAPU,eAAtB;AAUA,kBAAIC,UAAU,GAAG;AACfC,mBAAG,EAAE,MADU;AAEf5Q,oBAAI,EAAE,MAFS;AAGf2P,oBAAI,EAAE,EAHS;AAIfjB,oBAAI,EAAE,EAJS;AAKf3T,qBAAK,EAAE,EALQ;AAMf6U,0BAAU,EAAE,EANG;AAOfiB,uBAAO,EAAE;AAPM,eAAjB;AASA,kBAAIC,WAAW,GAAG;AAChBlzB,oBAAI,EAAE;AACJ+d,sBAAI,EAAE;AADF,iBADU;AAIhB6U,uBAAO,EAAE,CAAC;AACRzsB,uBAAK,EAAE,EADC;AAER+rB,wBAAM,EAAE,KAFA;AAGRc,qBAAG,EAAE;AAHG,iBAAD;AAJO,eAAlB;;AAWA,kBAAGX,IAAI,CAACE,QAAD,CAAP,EAAkB;AAChBG,+BAAe,GAAGL,IAAI,CAACE,QAAD,CAAtB;;AAEA,oBAAGx3B,GAAG,CAAC23B,eAAD,EAAkB,YAAlB,CAAN,EAAsC;AACpCK,4BAAU,GAAGh4B,GAAG,CAAC23B,eAAD,EAAkB,YAAlB,CAAhB;AACAA,iCAAe,CAACZ,OAAhB,GAA0B,EAA1B;AACD;;AACD,oBAAG/2B,GAAG,CAAC23B,eAAD,EAAkB,YAAlB,CAAN,EAAsC;AACpCQ,6BAAW,GAAGn4B,GAAG,CAAC23B,eAAD,EAAkB,YAAlB,CAAjB;AACAA,iCAAe,CAACG,OAAhB,GAA0B,EAA1B;AACD;AACF;;AAGD,kBAAGP,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACzO,YAAJ,GAAmBplB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAArC,CADoB,CACqB;;AACzCw3B,+BAAe,CAAC1yB,IAAhB,GAAuBpB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAAzC;AACD;;AACD,kBAAGo3B,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACU,OAAJ,GAAcv0B,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAAhC;;AAEA,oBAAIk4B,WAAU,GAAGxkB,SAAS,CAAC/R,MAAV,CAAiB;AAChC4B,8BAAY,EAAE,UADkB;AAEhC4I,qBAAG,EAAEzI,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B;AAFS,iBAAjB,CAAjB;;AAIA,oBAAGk4B,WAAH,EAAc;AACZV,iCAAe,CAACI,QAAhB,CAAyBtsB,IAAzB,CAA8B;AAC5B/B,2BAAO,EAAE,UADmB;AAE5B0e,6BAAS,EAAE,cAAciQ;AAFG,mBAA9B;AAID;AACF;;AACD,kBAAGd,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACtV,KAAJ,GAAYve,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAA9B;AACA63B,0BAAU,CAAC5V,KAAX,GAAmBve,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAArC;AACD;;AACD,kBAAGo3B,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAAC3B,IAAJ,GAAWlyB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAA7B;AACA63B,0BAAU,CAACjC,IAAX,GAAkBlyB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAApC;AACD;;AACD,kBAAGo3B,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACY,OAAJ,GAAcz0B,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAAhC;AACA63B,0BAAU,CAACf,UAAX,GAAwBpzB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAA1C;AACD;;AACD,kBAAGo3B,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACvB,MAAJ,GAAatyB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAA/B;AACA63B,0BAAU,CAAChB,IAAX,GAAkBnzB,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAApC;AACD;;AACD,kBAAGo3B,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACa,IAAJ,GAAW10B,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAA7B;AACAg4B,2BAAW,CAAClzB,IAAZ,CAAiB+d,IAAjB,GAAwBnf,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAA1C;AACD;;AACD,kBAAGo3B,IAAI,CAACxxB,QAAL,CAAc,GAAd,CAAH,EAAsB;AACpB2xB,mBAAG,CAACc,aAAJ,GAAoB30B,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAAtC;AACAg4B,2BAAW,CAACN,OAAZ,CAAoB,CAApB,EAAuBzsB,KAAvB,GAA+BvH,WAAW,CAAC0zB,IAAD,CAAX,CAAkBp3B,CAAjD;AACD;;AAED,kBAAGH,GAAG,CAACm4B,WAAD,EAAc,WAAd,CAAN,EAAiC;AAC/BR,+BAAe,CAACG,OAAhB,CAAwBrsB,IAAxB,CAA6B0sB,WAA7B;AACD;;AACD,kBAAGH,UAAH,EAAc;AACZL,+BAAe,CAACZ,OAAhB,CAAwBtrB,IAAxB,CAA6BusB,UAA7B;AACD;;AAEDX,uBAAS,CAACG,QAAD,CAAT,GAAsBE,GAAtB;AACAJ,kBAAI,CAACE,QAAD,CAAJ,GAAiBG,eAAjB;AACD,aA1GD;AA4GAl3B,mBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB22B,SAAzB;AACA52B,mBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB42B,IAApB;AAGA,gBAAI3sB,KAAK,GAAG,CAAZ;AACA,gBAAI8tB,KAAJ;AACA,gBAAIC,cAAc,GAAG,EAArB;AACA,gBAAIL,UAAJ;AAEAf,gBAAI,CAAC51B,OAAL,CAAa,UAASi3B,MAAT,EAAgB;AAC3B,kBAAGhuB,KAAK,GAAG,CAAX,EAAa;AACX8tB,qBAAK,GAAGnkB,aAAa,CAACxS,MAAd,CAAqB62B,MAArB,EAA6B;AAAC/1B,0BAAQ,EAAE,KAAX;AAAkBuC,wBAAM,EAAE;AAA1B,iBAA7B,CAAR;AACA1E,uBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+3B,KAArB;;AACA,oBAAGz4B,GAAG,CAAC24B,MAAD,EAAS,uBAAT,CAAN,EAAwC;AACtCD,gCAAc,GAAG14B,GAAG,CAAC24B,MAAD,EAAS,uBAAT,CAApB;;AACA,sBAAGD,cAAc,CAAC3yB,QAAf,CAAwB,GAAxB,CAAH,EAAgC;AAC9BsyB,8BAAU,GAAGK,cAAc,CAAC5V,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAb;AACD,mBAFD,MAEO;AACLuV,8BAAU,GAAGK,cAAb;AACD;;AACD7kB,2BAAS,CAACic,MAAV,CAAiB;AAAC1rB,uBAAG,EAAEi0B;AAAN,mBAAjB,EAAoC;AAAC7H,wBAAI,EAAE;AACzCoI,0CAAoB,EAAE;AACpBlvB,+BAAO,EAAEivB,MAAM,CAAC1zB,IADI;AAEpBmjB,iCAAS,EAAE,kBAAkBqQ;AAFT;AADmB;AAAP,mBAApC;AAMD;AACF;;AACD9tB,mBAAK;AACN,aApBD;AAsBA;;AACF;AACE9J,iCAAqB,CAAC+C,YAAtB,CAAmCC,WAAnC;AACA;AAjJJ;AAoJD,OArJD,MAqJO;AACL;AACA,YAAIg1B,uBAAuB,GAAG11B,OAAO,CAACnD,GAAR,CAAY,kBAAZ,IAAkC2zB,cAAlC,GAAmD,CAAjF;AACAlzB,eAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCm4B,uBAAvC,EAHK,CAKL;;AACE,YAAIC,WAAW,GAAG,CAAlB,CANG,CAOH;;AACAl0B,cAAM,CAACC,IAAP,CAAY8a,OAAZ,EAAqBje,OAArB,CAA6B,UAASq3B,WAAT,EAAqB;AAClD,cAAGpZ,OAAO,CAACoZ,WAAD,CAAP,CAAqBC,eAAxB,EAAwC;AACtCv4B,mBAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCif,OAAO,CAACoZ,WAAD,CAA3C,EADsC,CAEtC;;AACA,gBAAGD,WAAW,KAAKD,uBAAnB,EAA2C;AACzCp4B,qBAAO,CAACC,GAAR,CAAY,sBAAsBo4B,WAAlC,EADyC,CAEzC;;AACA,kBAAIG,eAAe,GAAGtZ,OAAO,CAACoZ,WAAD,CAAP,CAAqBC,eAA3C;AACAC,6BAAe,CAACC,GAAhB,CAAoBr1B,WAApB,EAAiC,YAAU;AACzCsE,8BAAc,CAACsD,IAAf,CAAoB,iBAApB;AACD,eAFD;AAGD,aAPD,MAOO;AACL;AACAqtB,yBAAW;AACXr4B,qBAAO,CAACC,GAAR,CAAY,qBAAqBo4B,WAAjC;AACD;AACF;AACF,SAjBC;AAkBH;;AAEDr4B,aAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBe,OAAvB;AACD;;;;;SACD03B,U;wBAAW9S,Q,EAAUlb,K,EAAOC,K,EAAM;AAChC3K,aAAO,CAACC,GAAR,CAAY,+BAAZ;AACA,UAAIoD,IAAI,GAAG,IAAX;AAEA,UAAID,WAAW,GAAGV,OAAO,CAACnD,GAAR,CAAY,aAAZ,CAAlB,CAJgC,CAMhC;;AACA,UAAG,OAAO6D,WAAP,KAAuB,QAA1B,EAAmC;AACjCpD,eAAO,CAACC,GAAR,CAAY,oDAAZ;AACAmD,mBAAW,GAAGlD,IAAI,CAACm0B,KAAL,CAAWjxB,WAAX,CAAd;AACD;;AAEDpD,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BV,GAAG,CAAC,IAAD,EAAO,2BAAP,CAAjC;;AAEA,UAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB+F,QAAhB,CAAyB/F,GAAG,CAAC,IAAD,EAAO,2BAAP,CAA5B,CAAH,EAAoE;AAClE,aAAKo3B,kBAAL,CAAwBvzB,WAAxB;AACD;;AACD,UAAG,CAAC,KAAD,EAAQkC,QAAR,CAAiB/F,GAAG,CAAC,IAAD,EAAO,2BAAP,CAApB,CAAH,EAA4D;AAC1DS,eAAO,CAACC,GAAR,CAAY,8BAAZ;AACD;;AACD,UAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,QAAxB,EAAkC,KAAlC,EAAyCqF,QAAzC,CAAkD,KAAK7C,IAAL,CAAUijB,MAAV,CAAiBH,aAAnE,CAAH,EAAqF;AACnFvlB,eAAO,CAACC,GAAR,CAAY,qDAAZ;AACAD,eAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BmD,WAA/B;;AAEA,gBAAQV,OAAO,CAACnD,GAAR,CAAY,kBAAZ,CAAR;AACE,eAAK,CAAL;AAAS;AACPa,iCAAqB,CAAC+C,YAAtB,CAAmCC,WAAnC;AACA;;AACF,eAAK,CAAL;AAAS;AACP,iBAAK4xB,oBAAL,CAA0B5xB,WAA1B;AACA;;AACF,eAAK,CAAL;AAAS;AACP,iBAAK+yB,uBAAL,CAA6B/yB,WAA7B;AACA;;AACF;AACEhD,iCAAqB,CAAC+C,YAAtB,CAAmCC,WAAnC;AACA;AAZJ;AAeD;;AAED,UAAG,CAAC,MAAD,EAASkC,QAAT,CAAkBhF,MAAM,CAACiK,SAAP,CAAiBC,QAAnC,CAAH,EAAgD;AAC9C9C,sBAAc,CAACsD,IAAf,CAAoB,qBAApB;AACD;AACF;;;;;SACD2tB,iB;iCAAmB;AACjBj2B,aAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,EAA3B;AACD;;;;;SAEDkjB,e;+BAAiB;AACf,UAAGpK,OAAO,CAAC,0BAAD,CAAV,EAAuC;AAErC,YAAIqK,aAAa,GAAG,CAClB,qBADkB,EAElB,WAFkB,EAGlB,YAHkB,EAIlB,UAJkB,EAKlB,WALkB,EAMlB,gBANkB,EAOlB,qBAPkB,EAQlB,SARkB,EASlB,mBATkB,EAUlB,OAVkB,EAWlB,eAXkB,EAYlB,gBAZkB,EAalB,WAbkB,EAclB,aAdkB,EAelB,kBAfkB,EAgBlB,sBAhBkB,EAiBlB,eAjBkB,EAkBlB,cAlBkB,EAmBlB,UAnBkB,EAoBlB,eApBkB,EAqBlB,SArBkB,EAsBlB,YAtBkB,EAuBlB,gBAvBkB,EAwBlB,wBAxBkB,EAyBlB,iBAzBkB,EA0BlB,gBA1BkB,EA2BlB,YA3BkB,EA4BlB,WA5BkB,CAApB;AA+BAA,qBAAa,CAAC7kB,OAAd,CAAsB,UAASgC,YAAT,EAAsB;AAC1C,cAAGtD,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,CAAH,EAAsC;AACpCtD,iBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,EAAmCsC,IAAnC,GAA0CtE,OAA1C,CAAkD,UAASC,MAAT,EAAgB;AAChEvB,mBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,EAAmCoa,MAAnC,CAA0C;AAAC1Z,mBAAG,EAAEzC,MAAM,CAACyC;AAAb,eAA1C;;AACAhE,mBAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqB0D,YAArB,EAAmC7B,WAAnC,CAA+Cic,MAA/C,CAAsD;AAAC1Z,mBAAG,EAAEzC,MAAM,CAACyC;AAAb,eAAtD;AACD,aAHD;AAID;AACF,SAPD;AASA/D,cAAM,CAACsS,IAAP,CAAY,gBAAZ,EAA8B,UAAS9P,KAAT,EAAgBC,MAAhB,EAAuB;AACnD,cAAGA,MAAH,EAAU;AACRK,mBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BN,MAA7B;AACD;AACF,SAJD;AAKD;AACF;;;;;SAEDu2B,4B;0CAA6BluB,K,EAAOY,K,EAAOX,K,EAAM;AAC/C3K,aAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C0K,KAA5C;AACAjI,aAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCgI,KAAhC;AACD;;;;;SACDqe,sB;oCAAuBte,K,EAAOY,K,EAAOX,K,EAAM;AACzC3K,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCyK,KAAtC,EAA6CY,KAA7C,EAAoDX,KAApD;AACAjI,aAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BgI,KAA9B;AACD;;;;;SAaDse,oB;oCAAsB,CAErB;;;;;SACDhhB,M;sBAAQ;AAAA,UACE4wB,OADF,GACc,KAAKvwB,KADnB,CACEuwB,OADF;AAAA,UAEElsB,QAFF,GAEe,KAAKgV,KAAL,CAAWhV,QAF1B,CAEEA,QAFF,EAIN;AACA;;AAEA,UAAIwc,aAAa,GAAG,WAApB;;AAIA,UAAG,CAAC,QAAD,EAAW7jB,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD2e,qBAAa,GAAG,mBAAhB;;AAEA,YAAGzmB,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2BmD,OAAO,CAACnD,GAAR,CAAY,UAAZ,CAA9B,EAAsD;AACpDu5B,wBAAc,CAAClZ,MAAf,GAAwB,MAAxB;AACD;AACF;;AAED,UAAIwJ,eAAe,GAAG,CAAtB;AACA,UAAIC,oBAAoB,GAAG,CAA3B;AACA,UAAIC,gBAAgB,GAAG,CAAvB;;AAEA,UAAGhpB,MAAM,CAACipB,WAAP,GAAqBjpB,MAAM,CAACkpB,UAA/B,EAA0C;AACxCJ,uBAAe,GAAG,EAAlB;AACAC,4BAAoB,GAAG,EAAvB;AACAC,wBAAgB,GAAG,EAAnB;AACD;;AAED,UAAIG,UAAU,GAAG,MAAjB,CA7BM,CA+BN;AACA;AACA;;AAEA,UAAIsP,qBAAqB,GAAG,EAA5B;AAEA,UAAIC,WAAW,GAAG9F,cAAlB,CArCM,CAwCN;;AACA/uB,YAAM,CAACC,IAAP,CAAY8a,OAAZ,EAAqBje,OAArB,CAA6B,UAASq3B,WAAT,EAAqB;AAChD,YAAGpZ,OAAO,CAACoZ,WAAD,CAAP,CAAqBC,eAAxB,EAAwC;AACtC;AACAQ,+BAAqB,CAAC/tB,IAAtB,CACE,oBAAC,QAAD;AAAU,iBAAK,EAAEkoB,cAAjB;AAAiC,cAAE,EAAE,gCAAgC8F,WAArE;AAAkF,eAAG,EAAE,gCAAgCA,WAAvH;AAAoI,uBAAW,EAAEz5B,GAAG,CAAC2f,OAAO,CAACoZ,WAAD,CAAR,EAAuB,sBAAvB,EAA+C,KAA/C;AAApJ,YADF;AAGAU,qBAAW;AACZ;AACF,OARD;AAUA,aAEE,oBAAC,SAAD;AAAW,UAAE,EAAC,iBAAd;AAAgC,aAAK,EAAE;AAAC9vB,sBAAY,EAAE;AAAf;AAAvC,SACE,oBAAC,IAAD;AACE,aAAK,EAAE,KAAKyY,KAAL,CAAWhV,QADpB;AAEE,gBAAQ,EAAE,KAAKK;AAFjB,SAIE,oBAAC,GAAD;AAAK,aAAK,EAAC,QAAX;AAAoB,aAAK,EAAE,CAA3B;AAA8B,aAAK,EAAE,KAAKvK,IAAL,CAAUmG,KAAV,CAAgB4D;AAArD,QAJF,EAKE,oBAAC,GAAD;AAAK,aAAK,EAAC,MAAX;AAAkB,aAAK,EAAE,CAAzB;AAA4B,aAAK,EAAE,KAAK/J,IAAL,CAAUmG,KAAV,CAAgB4D;AAAnD,QALF,CADF,EASG,KAAKmV,KAAL,CAAWhV,QAAX,KAAwB,CAAxB,IAA6B,oBAAC,YAAD,QAC5B,oBAAC,QAAD,QACE,oBAAC,iBAAD;AACE,cAAM,EAAEW,eADV;AAEE,qBAAa,EAAEQ,aAFjB;AAGE,iBAAS,EAAEH,SAHb;AAIE,aAAK,EAAE;AAAC+f,mBAAS,EAAE;AAAZ;AAJT,QADF,EAQE;AACE,aAAK,EAAGnuB,GAAG,CAAC,IAAD,EAAO,kBAAP,CADb;AAEE,gBAAQ,EAAI,KAAK0pB,oBAFnB;AAGE,aAAK,EAAE;AAACvgB,eAAK,EAAE,MAAR;AAAgBuB,kBAAQ,EAAE,UAA1B;AAAsCtB,gBAAM,EAAE,OAA9C;AAAuD+kB,mBAAS,EAAE,OAAlE;AAA2EC,yBAAe,EAAE,SAA5F;AAAuGzN,qBAAW,EAAE,MAApH;AAA4H0N,sBAAY,EAAE,KAA1I;AAAiJC,oBAAU,EAAE;AAA7J;AAHT,QARF,EAaE,oBAAC,WAAD;AACE,yBAAiB,EAAC,mBADpB;AAEE,aAAK,EAAE,KAAKprB,IAAL,CAAUsyB,gBAFnB;AAGE,gBAAQ,EAAE,KAAK6D,4BAHjB;AAIE,iBAAS;AAJX,SAME,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QANF,EAOE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QAPF,EAQE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QARF,EASE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QATF,EAUE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QAVF,EAWE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QAXF,EAYE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QAZF,EAaE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,UAAE,EAAC,8BAAvB;AAAsD,WAAG,EAAC,8BAA1D;AAAyF,mBAAW,EAAC;AAArG,QAbF,EAcIG,qBAdJ,CAbF,EA8BE,oBAAC,YAAD;AACE,UAAE,EAAC,kBADL;AAEE,aAAK,EAAC,SAFR;AAGE,eAAO,EAAE,KAAKL,UAAL,CAAgBvd,IAAhB,CAAqB,IAArB,CAHX;AAIE,eAAO,EAAE,IAJX;AAKE,iBAAS;AALX,QA9BF,CAD4B,CAThC,EAmDG,KAAKwG,KAAL,CAAWhV,QAAX,KAAwB,CAAxB,IAA6B,oBAAC,YAAD,QAC5B,oBAAC,SAAD;AACI,aAAK,EAAC;AADV,QAD4B,EAI5B,oBAAC,QAAD,QACE,oBAAC,WAAD;AACE,yBAAiB,EAAC,iBADpB;AAEE,aAAK,EAAE,KAAKlK,IAAL,CAAUgjB,cAFnB;AAGE,gBAAQ,EAAE,KAAKuD,sBAHjB;AAIE,iBAAS;AAJX,SAME,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC;AAAhC,QANF,EAOE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC;AAAhC,QAPF,EAQE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC;AAAhC,QARF,EASE,oBAAC,QAAD;AAAU,aAAK,EAAE,CAAjB;AAAoB,mBAAW,EAAC;AAAhC,QATF,CADF,EAcE;AACE,oBAAY,EAAGzpB,GAAG,CAAC,IAAD,EAAO,kBAAP,CADpB;AAEE,gBAAQ,EAAI,KAAK0pB,oBAFnB;AAGE,aAAK,EAAE;AAACvgB,eAAK,EAAE,MAAR;AAAgBuB,kBAAQ,EAAE,UAA1B;AAAsCtB,gBAAM,EAAE,KAAKlG,IAAL,CAAUijB,MAAV,CAAiB/c,MAA/D;AAAuE+kB,mBAAS,EAAE,OAAlF;AAA2FC,yBAAe,EAAE,SAA5G;AAAuHzN,qBAAW,EAAE,MAApI;AAA4I0N,sBAAY,EAAE;AAA1J;AAHT,QAdF,CAJ4B,CAnDhC,CAFF;AAmFD;;;;;SAEDtS,U;wBAAWI,S,EAAU;AACnB1b,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Byb,SAA1B;AAEA9b,YAAM,CAACsS,IAAP,CAAYwJ,SAAZ;AACD;;;;;;EA7tBkCnU,KAAK,CAACuE,S;;AAiuB3CrE,UAAU,CAACid,eAAe,CAAC3Y,SAAjB,EAA4BvE,eAA5B,CAAV;AA7hCAhI,MAAM,CAACmF,aAAP,CA8hCe+f,eA9hCf,E;;;;;;;;;;;;;;;ACAAllB,MAAM,CAACiG,MAAP,CAAc;AAACa,YAAU,EAAC;AAAA,WAAIA,UAAJ;AAAA;AAAZ,CAAd;AAA2C,IAAI6F,UAAJ,EAAeH,WAAf,EAA2BlF,UAA3B,EAAsCF,QAAtC,EAA+CC,SAA/C,EAAyD8c,WAAzD,EAAqExb,QAArE,EAA8E8D,GAA9E,EAAkFC,IAAlF,EAAuF6S,SAAvF,EAAiGnD,YAAjG,EAA8G1O,MAA9G;AAAqH1N,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC0M,YAAD,YAAYzM,CAAZ,EAAc;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAA5B;AAA6BsM,aAA7B,YAAyCtM,CAAzC,EAA2C;AAACsM,eAAW,GAACtM,CAAZ;AAAc,GAA1D;AAA2DoH,YAA3D,YAAsEpH,CAAtE,EAAwE;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAAtF;AAAuFkH,UAAvF,YAAgGlH,CAAhG,EAAkG;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAA9G;AAA+GmH,WAA/G,YAAyHnH,CAAzH,EAA2H;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAAxI;AAAyIikB,aAAzI,YAAqJjkB,CAArJ,EAAuJ;AAACikB,eAAW,GAACjkB,CAAZ;AAAc,GAAtK;AAAuKyI,UAAvK,YAAgLzI,CAAhL,EAAkL;AAACyI,YAAQ,GAACzI,CAAT;AAAW,GAA9L;AAA+LuM,KAA/L,YAAmMvM,CAAnM,EAAqM;AAACuM,OAAG,GAACvM,CAAJ;AAAM,GAA5M;AAA6MwM,MAA7M,YAAkNxM,CAAlN,EAAoN;AAACwM,QAAI,GAACxM,CAAL;AAAO,GAA5N;AAA6Nqf,WAA7N,YAAuOrf,CAAvO,EAAyO;AAACqf,aAAS,GAACrf,CAAV;AAAY,GAAtP;AAAuPkc,cAAvP,YAAoQlc,CAApQ,EAAsQ;AAACkc,gBAAY,GAAClc,CAAb;AAAe,GAAtR;AAAuRwN,QAAvR,YAA8RxN,CAA9R,EAAgS;AAACwN,UAAM,GAACxN,CAAP;AAAS;AAA1S,CAA1B,EAAsU,CAAtU;AAAyU,IAAIkkB,OAAJ,EAAYC,SAAZ;AAAsBrkB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACmkB,SAAD,YAASlkB,CAAT,EAAW;AAACkkB,WAAO,GAAClkB,CAAR;AAAU,GAAtB;AAAuBmkB,WAAvB,YAAiCnkB,CAAjC,EAAmC;AAACmkB,aAAS,GAACnkB,CAAV;AAAY;AAAhD,CAAxC,EAA0F,CAA1F;AAA6F,IAAIokB,OAAJ,EAAYC,OAAZ,EAAoBC,QAApB,EAA6BC,SAA7B,EAAuCC,MAAvC,EAA8CC,SAA9C;AAAwD3kB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACqkB,SAAD,YAASpkB,CAAT,EAAW;AAACokB,WAAO,GAACpkB,CAAR;AAAU,GAAtB;AAAuBqkB,SAAvB,YAA+BrkB,CAA/B,EAAiC;AAACqkB,WAAO,GAACrkB,CAAR;AAAU,GAA5C;AAA6CskB,UAA7C,YAAsDtkB,CAAtD,EAAwD;AAACskB,YAAQ,GAACtkB,CAAT;AAAW,GAApE;AAAqEukB,WAArE,YAA+EvkB,CAA/E,EAAiF;AAACukB,aAAS,GAACvkB,CAAV;AAAY,GAA9F;AAA+FwkB,QAA/F,YAAsGxkB,CAAtG,EAAwG;AAACwkB,UAAM,GAACxkB,CAAP;AAAS,GAAlH;AAAmHykB,WAAnH,YAA6HzkB,CAA7H,EAA+H;AAACykB,aAAS,GAACzkB,CAAV;AAAY;AAA5I,CAAxC,EAAsL,CAAtL;AAAyL,IAAI2H,IAAJ,EAASD,GAAT,EAAaE,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC4H,MAAD,YAAM3H,CAAN,EAAQ;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAAhB;AAAiB0H,KAAjB,YAAqB1H,CAArB,EAAuB;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI0kB,WAAJ;AAAgB5kB,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAAA,uBAASC,CAAT,EAAW;AAAC0kB,eAAW,GAAC1kB,CAAZ;AAAc;AAA1B,CAAjD,EAA6E,CAA7E;AAAgF,IAAI2kB,aAAJ;AAAkB7kB,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAAA,uBAASC,CAAT,EAAW;AAAC2kB,iBAAa,GAAC3kB,CAAd;AAAgB;AAA5B,CAAnD,EAAiF,CAAjF;AAAoF,IAAI4kB,cAAJ;AAAmB9kB,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAAA,uBAASC,CAAT,EAAW;AAAC4kB,kBAAc,GAAC5kB,CAAf;AAAiB;AAA7B,CAApD,EAAmF,CAAnF;AAAsF,IAAI6kB,oBAAJ;AAAyB/kB,MAAM,CAACC,IAAP,CAAY,8CAAZ,EAA2D;AAAA,uBAASC,CAAT,EAAW;AAAC6kB,wBAAoB,GAAC7kB,CAArB;AAAuB;AAAnC,CAA3D,EAAgG,CAAhG;AAAmG,IAAIuN,oBAAJ;AAAyBzN,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAACwN,sBAAD,YAAsBvN,CAAtB,EAAwB;AAACuN,wBAAoB,GAACvN,CAArB;AAAuB;AAAhD,CAArC,EAAuF,CAAvF;AAA0F,IAAI8kB,MAAJ;AAAWhlB,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAAC8kB,UAAM,GAAC9kB,CAAP;AAAS;AAArB,CAAjC,EAAwD,CAAxD;AAA2D,IAAIyN,iBAAJ;AAAsB3N,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACyN,qBAAiB,GAACzN,CAAlB;AAAoB;AAAhC,CAAvC,EAAyE,EAAzE;AAA6E,IAAIE,MAAJ;AAAWJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,QAAD,YAAQF,CAAR,EAAU;AAACE,UAAM,GAACF,CAAP;AAAS;AAApB,CAA5B,EAAkD,EAAlD;AAAsD,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,EAA1C;AAA8C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,EAA/E;AAAmF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,EAArD;AAAyD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,EAArD;AAAyD,IAAI0N,KAAJ;AAAU5N,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2N,OAAD,YAAO1N,CAAP,EAAS;AAAC0N,SAAK,GAAC1N,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,EAAlD;AAAsD,IAAIuH,cAAJ,EAAmBD,cAAnB,EAAkCG,aAAlC,EAAgDJ,SAAhD,EAA0DG,KAA1D;AAAgE1H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACwH,gBAAD,YAAgBvH,CAAhB,EAAkB;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAApC;AAAqCsH,gBAArC,YAAoDtH,CAApD,EAAsD;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAAxE;AAAyEyH,eAAzE,YAAuFzH,CAAvF,EAAyF;AAACyH,iBAAa,GAACzH,CAAd;AAAgB,GAA1G;AAA2GqH,WAA3G,YAAqHrH,CAArH,EAAuH;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAApI;AAAqIwH,OAArI,YAA2IxH,CAA3I,EAA6I;AAACwH,SAAK,GAACxH,CAAN;AAAQ;AAAtJ,CAAvC,EAA+L,EAA/L;AAAmM,IAAI+kB,WAAJ;AAAgBjlB,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACglB,aAAD,YAAa/kB,CAAb,EAAe;AAAC+kB,eAAW,GAAC/kB,CAAZ;AAAc;AAA9B,CAArB,EAAqD,EAArD;AAAyD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,EAAjE;AAAqE,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,EAArC;AAAyC,IAAIglB,eAAJ;AAAoBllB,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAACilB,iBAAD,YAAiBhlB,CAAjB,EAAmB;AAACglB,mBAAe,GAAChlB,CAAhB;AAAkB;AAAtC,CAAhC,EAAwE,EAAxE;;IA6B7/E4G,U;;;;;AACX,sBAAYgC,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;AACA,UAAKqZ,KAAL,GAAa;AACXoD,iBAAW,EAAE,WADF;AAEXE,iBAAW,EAAE,WAFF;AAGXC,mBAAa,EAAE;AAHJ,KAAb;AAFiB;AAOlB;;;;SAGD3c,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACLuc,iBAAO,EAAEziB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADJ;AAELiN,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE;AAFV;AAFA,SADE;AAQT0Y,cAAM,EAAE;AACNC,cAAI,EAAE3iB,OAAO,CAACnD,GAAR,CAAY,MAAZ;AADA,SARC;AAWTuC,YAAI,EAAE;AACJqQ,iBAAO,EAAE;AADL,SAXG;AAcTtJ,aAAK,EAAE,oBAdE;AAeTyc,oBAAY,EAAE,KAfL;AAgBTJ,qBAAa,EAAE,KAAKvD,KAAL,CAAWuD,aAhBjB;AAiBT,kBAAQ;AACNK,uBAAa,EAAE7iB,OAAO,CAACnD,GAAR,CAAY,eAAZ,CADT;AAEN;AACAoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IAHtC;AAG6C;AACnDkD,cAAI,EAAE;AAJA,SAjBC;AAuBT+iB,sBAAc,EAAE;AACd7c,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC;AAD9B,SAvBP;AA0BT,kBAAQ;AACNoJ,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,GAAoC,IADtC;AAENkD,cAAI,EAAE;AAFA,SA1BC;AA8BTgjB,sBAAc,EAAE/iB,OAAO,CAACnD,GAAR,CAAY,gBAAZ,CA9BP;AA+BTyV,oBAAY,EAAEtS,OAAO,CAACnD,GAAR,CAAY,cAAZ;AA/BL,OAAX;;AAmCA,UAAGmD,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAH,EAAsC;AACpCkD,YAAI,CAACgD,MAAL,CAAYhD,IAAZ,GAAmBvC,IAAI,CAACC,SAAL,CAAeuC,OAAO,CAACnD,GAAR,CAAY,qBAAZ,CAAf,EAAmD,IAAnD,EAAyD,CAAzD,CAAnB;AACD;;AAEDkD,UAAI,CAACmG,KAAL,GAAa1B,KAAK,CAAC4F,IAAN,CAAWrK,IAAI,CAACmG,KAAhB,CAAb;AACAnG,UAAI,CAACmG,KAAL,CAAW4D,GAAX,GAAiBtF,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAW4D,GAA1B,CAAjB;AAEAxM,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCwC,IAAvC;AACA,aAAOA,IAAP;AACD;;;;;SAEDwF,M;sBAAQ;AACN,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,eAAD,OADF,CADF,CADF;AAOD;;;;;;EAlE6BV,KAAK,CAACuE,S;;AAuEtCrE,UAAU,CAACnB,UAAU,CAACyF,SAAZ,EAAuBvE,eAAvB,CAAV;AApGAhI,MAAM,CAACmF,aAAP,CAqGe2B,UArGf,E;;;;;;;;;;;;;;;ACAA9G,MAAM,CAACiG,MAAP,CAAc;AAACc,uBAAqB,EAAC;AAAA,WAAIA,qBAAJ;AAAA;AAAvB,CAAd;AAAiE,IAAII,SAAJ,EAAcC,QAAd,EAAuBC,SAAvB,EAAiCC,UAAjC;AAA4CtH,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAACkH,WAAD,YAAWjH,CAAX,EAAa;AAACiH,aAAS,GAACjH,CAAV;AAAY,GAA1B;AAA2BkH,UAA3B,YAAoClH,CAApC,EAAsC;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAAlD;AAAmDmH,WAAnD,YAA6DnH,CAA7D,EAA+D;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA5E;AAA6EoH,YAA7E,YAAwFpH,CAAxF,EAA0F;AAACoH,cAAU,GAACpH,CAAX;AAAa;AAAxG,CAA/B,EAAyI,CAAzI;AAA4I,IAAIqH,SAAJ,EAAcC,cAAd,EAA6BC,cAA7B,EAA4CC,KAA5C,EAAkDC,aAAlD;AAAgE3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACsH,WAAD,YAAWrH,CAAX,EAAa;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA1B;AAA2BsH,gBAA3B,YAA0CtH,CAA1C,EAA4C;AAACsH,kBAAc,GAACtH,CAAf;AAAiB,GAA9D;AAA+DuH,gBAA/D,YAA8EvH,CAA9E,EAAgF;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAAlG;AAAmGwH,OAAnG,YAAyGxH,CAAzG,EAA2G;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAApH;AAAqHyH,eAArH,YAAmIzH,CAAnI,EAAqI;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAtJ,CAAvC,EAA+L,CAA/L;AAAkM,IAAI0H,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB9H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC2H,KAAD,YAAK1H,CAAL,EAAO;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM,GAAd;AAAe2H,MAAf,YAAoB3H,CAApB,EAAsB;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAA9B;AAA+B4H,KAA/B,YAAmC5H,CAAnC,EAAqC;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAI6H,KAAJ;AAAU/H,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,CAAjE;AAAoE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYC,IAAZ,EAAiBC,MAAjB;AAAwBrI,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6BkI,MAA7B,YAAkClI,CAAlC,EAAoC;AAACkI,QAAI,GAAClI,CAAL;AAAO,GAA5C;AAA6CmI,QAA7C,YAAoDnI,CAApD,EAAsD;AAACmI,UAAM,GAACnI,CAAP;AAAS;AAAhE,CAArB,EAAuF,CAAvF;AAA0F,IAAIoI,MAAJ;AAAWtI,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAACqI,QAAD,YAAQpI,CAAR,EAAU;AAACoI,UAAM,GAACpI,CAAP;AAAS;AAApB,CAArC,EAA2D,CAA3D;AAA8D,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,CAArD;AAAwD,IAAIqI,iBAAJ;AAAsBvI,MAAM,CAACC,IAAP,CAAY,0CAAZ,EAAuD;AAACsI,mBAAD,YAAmBrI,CAAnB,EAAqB;AAACqI,qBAAiB,GAACrI,CAAlB;AAAoB;AAA1C,CAAvD,EAAmG,EAAnG;AAAuG,IAAIsI,IAAJ;AAASxI,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAmB;AAACuI,MAAD,YAAMtI,CAAN,EAAQ;AAACsI,QAAI,GAACtI,CAAL;AAAO;AAAhB,CAAnB,EAAqC,EAArC;AAAyC,IAAIuI,MAAJ;AAAWzI,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAwB;AAACwI,QAAD,YAAQvI,CAAR,EAAU;AAACuI,UAAM,GAACvI,CAAP;AAAS;AAApB,CAAxB,EAA8C,EAA9C;AAAkD,IAAIwI,MAAJ;AAAW1I,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACwI,UAAM,GAACxI,CAAP;AAAS;AAArB,CAAvC,EAA8D,EAA9D;AAAkE,IAAIyI,QAAJ;AAAa3I,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAAA,uBAASC,CAAT,EAAW;AAACyI,YAAQ,GAACzI,CAAT;AAAW;AAAvB,CAAzC,EAAkE,EAAlE;AAoB39C;AACA;AACAgD,OAAO,CAAC2F,UAAR,CAAmB,wBAAnB,EAA6C,OAA7C;;IAEa9B,qB;;;;;AACX,iCAAY+B,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SACDC,a;6BAAgB;AAEd,UAAIC,SAAS,GAAG,CAAC9F,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAA5B,IAAmC,CAAnD;AAEA,UAAIkD,IAAI,GAAG;AACTgG,aAAK,EAAE;AACLC,eAAK,EAAEhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,IAA0B,KAD5B;AAELoJ,gBAAM,EAAEjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B;AAF9B,SADE;AAKTqJ,aAAK,EAAE;AACLC,eAAK,EAAE3B,KAAK,CAAC4B,QAAN,EADF;AAELC,kBAAQ,EAAE7B,KAAK,CAAC4B,QAAN,EAFL;AAGLE,kBAAQ,EAAE;AACRC,mBAAO,EAAE,OADD;AAERC,wBAAY,EAAE;AAFN;AAHL,SALE;AAaTyI,qBAAa,EAAE;AACbsnB,eAAK,EAAE;AADM,SAbN;AAgBTC,WAAG,EAAE;AACHvwB,gBAAM,EAAE,CADL;AAEHwwB,gBAAM,EAAE;AAFL,SAhBI;AAoBThwB,mBAAW,EAAE,EApBJ;AAqBTC,8BAAsB,EAAE1G,OAAO,CAACnD,GAAR,CAAY,wBAAZ;AArBf,OAAX;AAwBAkD,UAAI,CAACmG,KAAL,CAAWe,SAAX,GAAuBzC,KAAK,CAAC4B,QAAN,CAAerG,IAAI,CAACmG,KAAL,CAAWe,SAA1B,CAAvB,CA5Bc,CA8Bd;AACA;AACA;;AAEA,UAAIC,YAAY,GAAGpI,YAAY,CAAC+D,IAAb,GAAoBsE,GAApB,CAAwB,UAAS3I,MAAT,EAAgB;AACzD,eAAO3B,GAAG,CAAC2B,MAAD,EAAS,WAAT,CAAV;AACD,OAFkB,CAAnB;;AAGA,UAAG0I,YAAH,EAAgB;AACd,YAAIT,WAAW,GAAGvB,IAAI,CAACgC,YAAD,CAAtB,CADc,CAEd;;AAEAnH,YAAI,CAAC0G,WAAL,GAAmBvB,IAAI,CAACgC,YAAD,CAAvB;AACD;;AAED,UAAGlH,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,IAA9B,EAAmC;AACjCkD,YAAI,CAACmG,KAAL,CAAWkB,IAAX,GAAkB;AAChBC,aAAG,EAAE,KADW;AAEhBC,mBAAS,EAAE,kBAFK;AAGhBC,kBAAQ,EAAE;AAHM,SAAlB;AAKD;;AAED,UAAGzI,YAAY,CAAC+D,IAAb,CAAkB;AAAC,qBAAa9C,IAAI,CAAC2G;AAAnB,OAAlB,EAA+Dc,KAA/D,KAAyE,CAA5E,EAA8E;AAC5E,YAAIC,WAAW,GAAG3I,YAAY,CAAC+D,IAAb,CAAkB;AAAC,uBAAa9C,IAAI,CAAC2G;AAAnB,SAAlB,EAA+D;AAACgB,cAAI,EAAE;AAACC,kBAAM,EAAE;AAAT;AAAP,SAA/D,EAAoFC,KAApF,GAA4F,CAA5F,CAAlB,CAD4E,CAE5E;AACD;;AAED,UAAG5H,OAAO,CAACnD,GAAR,CAAY,UAAZ,IAA0BmD,OAAO,CAACnD,GAAR,CAAY,WAAZ,CAA7B,EAAsD;AACpDkD,YAAI,CAACgG,KAAL,CAAWC,KAAX,GAAmBhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,CAAnB;AACD;;AAED,UAAG,CAAC,QAAD,EAAW+F,QAAX,CAAoBhF,MAAM,CAACiK,SAAP,CAAiBC,QAArC,CAAH,EAAkD;AAChD/H,YAAI,CAACmG,KAAL,CAAWI,QAAX,CAAoBC,OAApB,GAA8B,MAA9B;AACAxG,YAAI,CAACgG,KAAL,CAAWC,KAAX,GAAmBhG,OAAO,CAACnD,GAAR,CAAY,UAAZ,CAAnB;AACD;;AAID,UAAGuE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoChE,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CwC,IAA3C;AACpC,aAAOA,IAAP;AACD;;;;;SACDgI,qB;mCAAsBC,K,EAAOC,K,EAAM;AACjC3K,aAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiD0K,KAAK,CAACrC,KAAN,CAAYsC,QAA7D;AACAlI,aAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCgI,KAAK,CAACrC,KAAN,CAAYsC,QAAlD;AACD;;;;;SACD3C,M;sBAAS;AAEP,UAAI4C,SAAS,GAAG,EAAhB;AACA,WAAKpI,IAAL,CAAU0G,WAAV,CAAsBlI,OAAtB,CAA8B,UAAS6J,IAAT,EAAeC,OAAf,EAAuB;AACnDF,iBAAS,CAACG,IAAV,CAAe,oBAAC,QAAD;AAAU,aAAG,EAAED,OAAf;AAAwB,eAAK,EAAEA,OAA/B;AAAwC,eAAK,EAAE;AAACE,oBAAQ,EAAE;AAAX;AAA/C,WAAoEH,IAApE,CAAf;AACD,OAFD;AAIA,UAAII,kBAAkB,GAAG,KAAKzI,IAAL,CAAU0G,WAAV,CAAsBgC,OAAtB,CAA8B5L,GAAG,CAAC,IAAD,EAAO,6BAAP,CAAjC,CAAzB;AAGA,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE,CAAT;AAAY,aAAK,EAAG,KAAKkD,IAAL,CAAUmG,KAAV,CAAgBI;AAApC,SACE,oBAAC,SAAD;AAAW,cAAM,EAAC;AAAlB,SACE,oBAAC,SAAD;AACE,aAAK,EAAC,aADR;AAEE,kBAAU,EAAE;AAACiC,kBAAQ,EAAE;AAAX,SAFd;AAGE,qBAAa,EAAE;AAACA,kBAAQ,EAAE;AAAX;AAHjB,QADF,EAME,oBAAC,MAAD;AACE,aAAK,EAAGC,kBADV;AAEE,gBAAQ,EAAE,KAAKT,qBAFjB;AAGE,aAAK,EAAE;AACLR,kBAAQ,EAAE,UADL;AAEL8nB,eAAK,EAAE,MAFF;AAGLhoB,aAAG,EAAE,MAHA;AAILqnB,qBAAW,EAAE,MAJR;AAKL1oB,eAAK,EAAE,OALF;AAMLuC,kBAAQ,EAAE;AANL,SAHT;AAWE,kBAAU,EAAE;AACVzG,cAAI,EAAE,KADI;AAEVd,YAAE,EAAE;AAFM;AAXd,SAgBImH,SAhBJ,CANF,EA2BE,oBAAC,QAAD;AAAU,aAAK,EAAE;AAACI,kBAAQ,EAAE;AAAX;AAAjB,SACE,oBAAC,GAAD,QACE,oBAAC,iBAAD;AACE,aAAK,EAAE;AAACwS,aAAG,EAAE,CAAC;AAAC,yBAAale,GAAG,CAAC,IAAD,EAAO,6BAAP;AAAjB,WAAD;AAAN,SADT;AAEE,iBAAS,EAAE;AAFb,QADF,CADF,CA3BF,CADF,CADF,EAuCE,oBAAC,GAAD;AAAK,UAAE,EAAE,CAAT;AAAY,aAAK,EAAE;AAAC2J,sBAAY,EAAE;AAAf;AAAnB,SACE,oBAAC,SAAD;AAAW,cAAM,EAAC;AAAlB,SACE,oBAAC,IAAD;AACE,aAAK,EAAE,KAAKzG,IAAL,CAAUgG,KAAV,CAAgBC,KADzB;AAEE,cAAM,EAAE,KAAKjG,IAAL,CAAUgG,KAAV,CAAgBE,MAF1B;AAGE,aAAK,EAAC,UAHR,CAIE;AAJF;AAKE,cAAM,EAAE,CAAC,SAAD,CALV;AAME,YAAI,EAAE,CACJ;AACE,gBAAMpJ,GAAG,CAAC,IAAD,EAAO,6BAAP,CADX;AAEE,mBAAS,SAFX;AAGE,kBAAQiC,YAAY,CAAC+D,IAAb,CAAkB;AAACkY,eAAG,EAAE,CAAC;AAAC,2BAAale,GAAG,CAAC,IAAD,EAAO,6BAAP;AAAjB,aAAD;AAAN,WAAlB,EAAoF;AAAC6K,gBAAI,EAAE;AAACC,oBAAM,EAAE;AAAT;AAAP,WAApF,EAAyGR,GAAzG,CAA6G,UAAS2B,WAAT,EAAsBF,KAAtB,EAA4B;AAC/I,mBAAO;AACL/G,iBAAG,EAAE+G,KADA;AAEL;AACAG,eAAC,EAAE3D,MAAM,CAACvI,GAAG,CAACiM,WAAD,EAAc,QAAd,CAAJ,CAAN,CAAmCE,MAAnC,CAA0C,YAA1C,CAHE;AAILC,eAAC,EAAEpM,GAAG,CAACiM,WAAD,EAAc,qBAAd;AAJD,aAAP;AAMD,WAPO;AAHV,SADI,CANR;AAoBE,cAAM,EAAE;AACN,iBAAO,EADD;AAEN,mBAAS,GAFH;AAGN,oBAAU,EAHJ;AAIN,kBAAQ;AAJF,SApBV;AA0BE,YAAI,EAAC,MA1BP;AA2BE,eAAO,EAAE,IA3BX;AA4BE,kBAAU,EAAE;AACV,oBAAU,QADA;AAEV,sBAAY,CAFF;AAGV,yBAAe,CAHL;AAIV,0BAAgB,CAJN;AAKV;AACA,0BAAgB,EANN;AAOV,4BAAkB;AAPR,SA5Bd;AAqCE,gBAAQ,EAAE;AACR,oBAAU,MADF;AAER,sBAAY,CAFJ;AAGR,yBAAe,CAHP;AAIR,0BAAgB,CAJR;AAKR;AACA,0BAAgB,CAAC,EANT;AAOR,4BAAkB;AAPV,SArCZ;AA8CE,eAAO,EAAE,EA9CX;AA+CE,gBAAQ,EAAC,SA/CX;AAgDE,sBAAc,EAAE,CAhDlB;AAiDE,sBAAc,EAAC,SAjDjB;AAkDE,sBAAc,EAAE,IAlDlB;AAmDE,gBAAQ,EAAC,GAnDX;AAoDE,uBAAe,EAAE,CAAC,EApDpB;AAqDE,eAAO,EAAE,IArDX;AAsDE,uBAAe,EAAE,EAtDnB;AAuDE,qBAAa,EAAE,EAvDjB;AAwDE,eAAO,EAAE,CACP;AACE,oBAAU,cADZ;AAEE,uBAAa,QAFf;AAGE,wBAAc,GAHhB;AAIE,uBAAa,EAJf;AAKE,wBAAc,EALhB;AAME,wBAAc,EANhB;AAOE,yBAAe;AAPjB,SADO;AAxDX,QADF,EAqEE,oBAAC,aAAD,OArEF,CADF,CAvCF,CADF,CADF;AAyHD;;;;;SAKDI,Q;sBAASC,G,EAAI;AACX7L,aAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB4L,GAAxB;AACAnE,oBAAc,CAACsD,IAAf,CAAoBa,GAApB;AACD;;;;;;EA1NwCtE,KAAK,CAACuE,S;;AA+NjDrE,UAAU,CAAClB,qBAAqB,CAACwF,SAAvB,EAAkCvE,eAAlC,CAAV;AAvPAhI,MAAM,CAACmF,aAAP,CAyPe4B,qBAzPf,E;;;;;;;;;;;;;;;ACAA/G,MAAM,CAACiG,MAAP,CAAc;AAACiB,aAAW,EAAC;AAAA,WAAIA,WAAJ;AAAA;AAAb,CAAd;AAA6C,IAAII,UAAJ,EAAeF,QAAf,EAAwBC,SAAxB;AAAkCrH,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAACqH,YAAD,YAAYpH,CAAZ,EAAc;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAA5B;AAA6BkH,UAA7B,YAAsClH,CAAtC,EAAwC;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAApD;AAAqDmH,WAArD,YAA+DnH,CAA/D,EAAiE;AAACmH,aAAS,GAACnH,CAAV;AAAY;AAA9E,CAA/B,EAA+G,CAA/G;AAAkH,IAAI6H,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYyE,MAAZ;AAAmB5M,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6B0M,QAA7B,YAAoC1M,CAApC,EAAsC;AAAC0M,UAAM,GAAC1M,CAAP;AAAS;AAAhD,CAArB,EAAuE,CAAvE;AAA0E,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAI2H,IAAJ,EAASC,GAAT,EAAaF,GAAb;AAAiB5H,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC4H,MAAD,YAAM3H,CAAN,EAAQ;AAAC2H,QAAI,GAAC3H,CAAL;AAAO,GAAhB;AAAiB4H,KAAjB,YAAqB5H,CAArB,EAAuB;AAAC4H,OAAG,GAAC5H,CAAJ;AAAM,GAA9B;AAA+B0H,KAA/B,YAAmC1H,CAAnC,EAAqC;AAAC0H,OAAG,GAAC1H,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,CAA5E;AAA+E,IAAIwH,KAAJ,EAAUH,SAAV,EAAoBE,cAApB,EAAmCE,aAAnC;AAAiD3H,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACyH,OAAD,YAAOxH,CAAP,EAAS;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAAlB;AAAmBqH,WAAnB,YAA6BrH,CAA7B,EAA+B;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA5C;AAA6CuH,gBAA7C,YAA4DvH,CAA5D,EAA8D;AAACuH,kBAAc,GAACvH,CAAf;AAAiB,GAAhF;AAAiFyH,eAAjF,YAA+FzH,CAA/F,EAAiG;AAACyH,iBAAa,GAACzH,CAAd;AAAgB;AAAlH,CAAvC,EAA2J,CAA3J;AAA8J,IAAIgI,cAAJ;AAAmBlI,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACiI,gBAAD,YAAgBhI,CAAhB,EAAkB;AAACgI,kBAAc,GAAChI,CAAf;AAAiB;AAApC,CAA3B,EAAiE,CAAjE;AAAoE,IAAIsf,cAAJ,EAAmBC,aAAnB;AAAiCzf,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAACuf,gBAAD,YAAgBtf,CAAhB,EAAkB;AAACsf,kBAAc,GAACtf,CAAf;AAAiB,GAApC;AAAqCuf,eAArC,YAAmDvf,CAAnD,EAAqD;AAACuf,iBAAa,GAACvf,CAAd;AAAgB;AAAtE,CAAjC,EAAyG,CAAzG;;IAgBh8BgH,W;;;;;AACX,uBAAY4B,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SAEDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmG,aAAK,EAAE;AACL6W,mBAAS,EAAE;AACTpE,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBD;AADrB,WADN;AAILE,oBAAU,EAAE;AACVtE,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBD;AADpB,WAJP;AAOLI,oBAAU,EAAE;AACVxE,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBI;AADpB,WAPP;AAULC,mBAAS,EAAE;AACT1E,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBM;AADrB,WAVN;AAaLC,wBAAc,EAAE;AACdC,uBAAW,EAAElB,cAAc,CAACU,OAAf,CAAuBD;AADtB,WAbX;AAgBLU,4BAAkB,EAAE;AAClB9E,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBM;AADZ,WAhBf;AAmBLI,iCAAuB,EAAE;AACvB/E,iBAAK,EAAE2D,cAAc,CAACU,OAAf,CAAuBM;AADP,WAnBpB;AAsBLK,wBAAc,EAAE;AACdhF,iBAAK,EAAE;AADO;AAtBX,SADE;AA2BTzO,WAAG,EAAE,IA3BI;AA4BTC,uBAAe,EAAE;AA5BR,OAAX;AA+BApK,UAAI,CAACmG,KAAL,CAAWyX,cAAX,GAA4BnZ,KAAK,CAAC2Z,eAAN,EAA5B;AAEA,UAAG/c,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoChE,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCwC,IAAjC;AACpC,aAAOA,IAAP;AACD;;;;;SACDmJ,Q;sBAASC,G,EAAI;AACX;AACAvL,YAAM,CAAC+kB,IAAP,CAAYxZ,GAAZ,EAAgB,QAAhB;AACD;;;;;SACDutB,U;wBAAWC,S,EAAU;AACnB,UAAI5tB,CAAC,GAAGoP,QAAQ,CAACC,cAAT,CAAwBue,SAAxB,CAAR;AACA5tB,OAAC,CAAC7C,KAAF,CAAQsX,WAAR,GAAsB,mBAAtB;AACD;;;;;SACDoZ,W;yBAAYD,S,EAAU;AACpB,UAAI5tB,CAAC,GAAGoP,QAAQ,CAACC,cAAT,CAAwBue,SAAxB,CAAR;AACA5tB,OAAC,CAAC7C,KAAF,CAAQsX,WAAR,GAAsB,gBAAtB;AACD;;;;;SACDjY,M;sBAAQ;AAEN,UAAIsxB,SAAS,GAAG;AACdne,cAAM,EAAE,SADM;AAEdoe,sBAAc,EAAE,MAFF,CAGd;AACA;;AAJc,OAAhB;AAOA,aACE;AAAK,UAAE,EAAC,aAAR;AAAsB,aAAK,EAAE,KAAK/2B,IAAL,CAAUmG,KAAV,CAAgByX;AAA7C,SACE,oBAAC,cAAD,QACE,oBAAC,IAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,aAAK,EAAC;AADR,QADF,EAKE,oBAAC,QAAD,QACE;AAAG,aAAK,EAAE;AAACpV,kBAAQ,EAAE,MAAX;AAAmBoQ,eAAK,EAAE;AAA1B;AAAV,8LADF,CALF,CADF,EAaE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE;AAAG,aAAK,EAAEke,SAAV;AAAqB,YAAI,EAAC;AAA1B,SACE,oBAAC,SAAD;AACE,aAAK,EAAC,yCADR;AAEE,gBAAQ,EAAC,yCAFX;AAGE,kBAAU,EAAE;AAACle,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B,SAHd;AAIE,qBAAa,EAAE;AAAC3X,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B;AAJjB,QADF,CADF,EAUE;AAAG,aAAK,EAAEuG,SAAV;AAAqB,YAAI,EAAC;AAA1B,SACE,oBAAC,SAAD;AACE,aAAK,EAAC,eADR;AAEE,gBAAQ,EAAC,uHAFX;AAGE,kBAAU,EAAE;AAACle,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B,SAHd;AAIE,qBAAa,EAAE;AAAC3X,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B;AAJjB,QADF,CAVF,EAmBE;AAAG,aAAK,EAAEuG,SAAV;AAAqB,YAAI,EAAC;AAA1B,SACE,oBAAC,SAAD;AACE,aAAK,EAAC,cADR;AAEE,gBAAQ,EAAC,uEAFX;AAGE,kBAAU,EAAE;AAACle,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B,SAHd;AAIE,qBAAa,EAAE;AAAC3X,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B;AAJjB,QADF,CAnBF,EA4BE;AAAG,aAAK,EAAEuG,SAAV;AAAqB,YAAI,EAAC;AAA1B,SACE,oBAAC,SAAD;AACE,aAAK,EAAC,2BADR;AAEE,gBAAQ,EAAC,oDAFX;AAGE,kBAAU,EAAE;AAACle,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B,SAHd;AAIE,qBAAa,EAAE;AAAC3X,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B;AAJjB,QADF,CA5BF,EAqCE;AAAG,aAAK,EAAEuG,SAAV;AAAqB,YAAI,EAAC;AAA1B,SACE,oBAAC,SAAD;AACE,aAAK,EAAC,WADR;AAEE,gBAAQ,EAAC,qFAFX;AAGE,kBAAU,EAAE;AAACle,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B,SAHd;AAIE,qBAAa,EAAE;AAAC3X,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B;AAJjB,QADF,CArCF,EA8CE;AAAG,aAAK,EAAEuG,SAAV;AAAqB,YAAI,EAAC;AAA1B,SACE,oBAAC,SAAD;AACI,aAAK,EAAC,wBADV;AAEI,gBAAQ,EAAC,yBAFb;AAGI,aAAK,EAAE;AAACne,gBAAM,EAAE;AAAT,SAHX;AAII,kBAAU,EAAE;AAACC,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B,SAJhB;AAKI,qBAAa,EAAE;AAAC3X,eAAK,EAAE,SAAR;AAAmB2X,oBAAU,EAAE;AAA/B;AALnB,QADF,CA9CF,CAbF,CADF,CADF,CADF;AAwGD;;;;;;EAvK8BzrB,KAAK,CAACuE,S;;AAyKvCrE,UAAU,CAACf,WAAW,CAACqF,SAAb,EAAwBvE,eAAxB,CAAV;AAzLAhI,MAAM,CAACmF,aAAP,CA0Le+B,WA1Lf,E;;;;;;;;;;;;;;;ACAAlH,MAAM,CAACiG,MAAP,CAAc;AAAC,aAAQ;AAAA,WAAIg0B,QAAJ;AAAA;AAAT,CAAd;AAAsC,IAAIC,GAAJ;AAAQl6B,MAAM,CAACC,IAAP,CAAY,mCAAZ,EAAgD;AAAA,uBAASC,CAAT,EAAW;AAACg6B,OAAG,GAACh6B,CAAJ;AAAM;AAAlB,CAAhD,EAAoE,CAApE;AAAuEF,MAAM,CAACC,IAAP,CAAY,uCAAZ;AAAqD,IAAI8H,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAIkqB,SAAJ;AAAcpqB,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAAA,uBAASC,CAAT,EAAW;AAACkqB,aAAS,GAAClqB,CAAV;AAAY;AAAxB,CAAzB,EAAmD,CAAnD;AAAsD,IAAIi6B,UAAJ;AAAen6B,MAAM,CAACC,IAAP,CAAY,mBAAZ,EAAgC;AAAA,uBAASC,CAAT,EAAW;AAACi6B,cAAU,GAACj6B,CAAX;AAAa;AAAzB,CAAhC,EAA2D,CAA3D;AAA8D,IAAIk6B,YAAJ;AAAiBp6B,MAAM,CAACC,IAAP,CAAY,qBAAZ,EAAkC;AAAA,uBAASC,CAAT,EAAW;AAACk6B,gBAAY,GAACl6B,CAAb;AAAe;AAA3B,CAAlC,EAA+D,CAA/D;AAAkE,IAAIm6B,IAAJ;AAASr6B,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAACm6B,QAAI,GAACn6B,CAAL;AAAO;AAAnB,CAA1B,EAA+C,CAA/C;AAAkD,IAAIo6B,MAAJ;AAAWt6B,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAAA,uBAASC,CAAT,EAAW;AAACo6B,UAAM,GAACp6B,CAAP;AAAS;AAArB,CAA5B,EAAmD,CAAnD;AAAsD,IAAIq6B,IAAJ;AAASv6B,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAACq6B,QAAI,GAACr6B,CAAL;AAAO;AAAnB,CAA1B,EAA+C,CAA/C;AAAkD,IAAI0E,IAAJ;AAAS5E,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC0E,QAAI,GAAC1E,CAAL;AAAO;AAAnB,CAA1B,EAA+C,CAA/C;;AAWzqB,IAAMs6B,IAAI,GAAG,YAAW,CAAE,CAA1B;;AACA,IAAMC,MAAM,GAAG,CACb,iBADa,EAEb,OAFa,EAGb,aAHa,EAIb,aAJa,EAKb,cALa,EAMb,SANa,EAOb,aAPa,EAQb,cARa,EASb,QATa,EAUb,YAVa,EAWb,aAXa,CAAf;AAcA,IAAMC,cAAc,GAAG,EAAvB;AACA,IAAMC,iBAAiB,GAAG,EAA1B;AAEAN,IAAI,CAACI,MAAD,EAAS,UAAAvvB,KAAK,EAAI;AACpBwvB,gBAAc,CAACxvB,KAAD,CAAd,GAAwBkf,SAAS,CAACwQ,IAAlC,EACAD,iBAAiB,CAAIzvB,KAAJ,aAAjB,GAAuCsvB,IADvC;AAED,CAHG,CAAJ;;IAQqBP,Q;;;;;;;;;;;SAEnBY,kB;kCAAqB;AACnB,WAAKxV,QAAL,CAAc;AACZ;AACA;AACAyV,mBAAW,EAAE;AAHD,OAAd;AAKD;;;;;SAEDC,oB;oCAAuB;AACrB,WAAKC,GAAL,CAASC,OAAT;AACD;;;;;SACDC,Y;4BAAc;AACZ;AAEA16B,aAAO,CAACC,GAAR,CAAY,oBAAoBK,MAAM,CAACipB,WAAP,GAAqB,GAAzC,IAA+C,IAA3D;AAEA,WAAKiR,GAAL,CAASG,UAAT,CAAoB;AAClBhyB,cAAM,EAAGrI,MAAM,CAACkpB,UAAP,GAAoB,GAArB,GAA4B,IADlB;AAElB9gB,aAAK,EAAEpI,MAAM,CAACipB,WAAP,GAAqB;AAFV,OAApB;AAKA,WAAKiR,GAAL,CAASI,MAAT;AACD;;;;;SACDC,iB;iCAAoB;AAAA;;AAAA,UACVC,SADU,GACI,KAAK1Z,IADT,CACV0Z,SADU;AAGlB,WAAKN,GAAL,GAAW,IAAId,GAAG,CAACD,QAAR,CAAiBqB,SAAjB,EAA4BC,SAA5B,EAAuC,KAAKzyB,KAAL,CAAW0yB,OAAlD,CAAX,CAHkB,CAKlB;AACA;AACA;AACA;;AAEAf,YAAM,CAACh5B,OAAP,CAAe,UAAAyJ,KAAK,EAAI;AACtB,aAAI,CAAC8vB,GAAL,CAASS,EAAT,CAAYvwB,KAAZ,EAAmB,KAAI,CAACpC,KAAL,CAAcoC,KAAd,aAAnB;AACD,OAFD;AAIApK,YAAM,CAACmrB,gBAAP,CAAwB,mBAAxB,EAA6C,KAAKiP,YAAL,CAAkBvf,IAAlB,CAAuB,IAAvB,CAA7C;AAEA,WAAKpN,IAAL;AACD;;;;;SAEDmtB,kB;kCAAqB;AACnB,WAAKntB,IAAL;AACD;;;;;SAEDotB,qB;mCAAsBC,S,EAAW;AAAA,wBAO3B,KAAK9yB,KAPsB;AAAA,UAE7B+yB,KAF6B,eAE7BA,KAF6B;AAAA,UAG7BC,MAH6B,eAG7BA,MAH6B;AAAA,UAI7BN,OAJ6B,eAI7BA,OAJ6B;AAAA,UAK7BO,SAL6B,eAK7BA,SAL6B;AAAA,UAM7BjB,WAN6B,eAM7BA,WAN6B;AAS/B,UAAMkB,WAAW,GAAGH,KAAK,KAAKD,SAAS,CAACC,KAAxC;AACA,UAAMI,YAAY,GAAGH,MAAM,KAAKF,SAAS,CAACE,MAA1C;AACA,UAAMI,aAAa,GAAGV,OAAO,KAAKI,SAAS,CAACJ,OAA5C;AACA,UAAMW,iBAAiB,GAAGrB,WAAW,KAAKc,SAAS,CAACd,WAApD;AACA,UAAMsB,eAAe,GAAGL,SAAS,KAAKH,SAAS,CAACG,SAAhD;AAEA,aAAOC,WAAW,IAChBC,YADK,IAELC,aAFK,IAGLC,iBAHK,IAILC,eAJF;AAKD;;;;;SAED7tB,I;oBAAO;AAAA;;AAAA,yBAUD,KAAKzF,KAVJ;AAAA,UAEH+yB,KAFG,gBAEHA,KAFG;AAAA,UAGHC,MAHG,gBAGHA,MAHG;AAAA,UAIHN,OAJG,gBAIHA,OAJG;AAAA,UAKHO,SALG,gBAKHA,SALG;AAAA,+CAMHM,gBANG;AAAA,UAMHA,gBANG,sCAMgB,EANhB;AAAA,UAOHvB,WAPG,gBAOHA,WAPG;AAAA,8CAQHwB,OARG;AAAA,UAQHA,OARG,qCAQO,IARP;AAAA,UASHC,WATG,gBASHA,WATG;AAYL,UAAIC,eAAe,GAAGhB,OAAtB;;AAEA,UAAIc,OAAJ,EAAa;AACX;AACA;AACAE,uBAAe,GAAGjC,IAAI,CAACiB,OAAD,EAAU,OAAV,EAAmB,KAAnB,CAAtB;AAEA,aAAKR,GAAL,CAASyB,SAAT,CAAmBjB,OAAO,CAACkB,KAA3B,EAAkClB,OAAO,CAACmB,GAA1C,EAA+C;AAC7CC,mBAAS,EAAEN;AADkC,SAA/C;AAGD;;AAED,WAAKtB,GAAL,CAASG,UAAT,CAAoBqB,eAApB;;AAEA,UAAIV,MAAM,CAAC/3B,MAAP,GAAgB,CAApB,EAAuB;AACrB,YAAM84B,aAAa,GAAG,IAAI3C,GAAG,CAAC4C,OAAR,EAAtB;AACAD,qBAAa,CAACE,GAAd,CAAkBjB,MAAlB;AACA,aAAKd,GAAL,CAASgC,SAAT,CAAmBH,aAAnB;AACD;;AAED,WAAK7B,GAAL,CAASiC,QAAT,CAAkBpB,KAAlB;AACA,WAAKb,GAAL,CAASkC,YAAT,CAAsBnB,SAAtB,EAAiCM,gBAAjC;;AAEA,UAAIE,WAAJ,EAAiB;AACf,aAAKvB,GAAL,CAASmC,cAAT,CAAwBZ,WAAxB;AACD,OArCI,CAuCL;;;AACA,UAAMa,kBAAkB,GAAGx4B,IAAI,CAAC,KAAKud,KAAL,CAAW2Y,WAAZ,CAA/B;AACA,UAAMuC,iBAAiB,GAAGz4B,IAAI,CAACk2B,WAAD,CAA9B;AACA,UAAMwC,mBAAmB,GAAGnD,UAAU,CAACkD,iBAAD,EAAoBD,kBAApB,CAAtC;AACA,UAAMG,sBAAsB,GAAGpD,UAAU,CAACiD,kBAAD,EAAqBC,iBAArB,CAAzC;AACA,UAAMG,sBAAsB,GAAGpD,YAAY,CAACgD,kBAAD,EAAqBC,iBAArB,CAA3C,CA5CK,CA8CL;AACA;;AACAhD,UAAI,CAACkD,sBAAD,EAAyB,UAAAr5B,EAAE;AAAA,eAAI,MAAI,CAAC82B,GAAL,CAASyC,gBAAT,CAA0Bv5B,EAA1B,CAAJ;AAAA,OAA3B,CAAJ;AACAm2B,UAAI,CAACiD,mBAAD,EAAsB,UAAAp5B,EAAE,EAAI;AAC9B,YAAMw5B,QAAQ,GAAG5C,WAAW,CAAC52B,EAAD,CAA5B;;AACA,cAAI,CAAC82B,GAAL,CAAS2C,aAAT,CAAuBD,QAAvB,EAAiCx5B,EAAjC;AACD,OAHG,CAAJ;AAIAm2B,UAAI,CAACmD,sBAAD,EAAyB,UAAAt5B,EAAE,EAAI;AACjC,YAAMw5B,QAAQ,GAAG5C,WAAW,CAAC52B,EAAD,CAA5B;;AACA,cAAI,CAAC82B,GAAL,CAAS4C,aAAT,CAAuBF,QAAvB,EAAiCx5B,EAAjC;AACD,OAHG,CAAJ,CArDK,CA0DL;;AACA,WAAKmhB,QAAL,CAAc;AAAEyV,mBAAW,EAAXA;AAAF,OAAd;AACD;;;;;SAEDryB,M;sBAAS;AACP,aAAO;AAAK,WAAG,EAAC;AAAT,QAAP;AACD;;;;;;EAtImC6D,S;;AAyItC2tB,QAAQ,CAAC9N,SAAT,GAAqBmO,MAAM,CAAC;AAC1BuB,OAAK,EAAEzR,SAAS,CAACyT,KADS;AAE1B/B,QAAM,EAAE1R,SAAS,CAACyT,KAFQ;AAG1BrC,SAAO,EAAEpR,SAAS,CAAC0T,MAHO;AAI1B/B,WAAS,EAAE3R,SAAS,CAACyT,KAJK;AAK1B/C,aAAW,EAAE1Q,SAAS,CAAC2T,KAAV,CAAgB;AAC3BL,YAAQ,EAAEtT,SAAS,CAAC4T,UAAV,CAAqB57B,IAArB,CADiB;AAE3B8B,MAAE,EAAEkmB,SAAS,CAAC6T;AAFa,GAAhB,CALa;AAS1B3B,SAAO,EAAElS,SAAS,CAAC8T,SAAV,CAAoB,CAC3B9T,SAAS,CAAC+T,IADiB,EAE3B/T,SAAS,CAAC0T,MAFiB,CAApB,CATiB;AAa1BvB,aAAW,EAAEnS,SAAS,CAAC8T,SAAV,CAAoB,CAC7B9T,SAAS,CAAC6T,MADmB,EAE7B7T,SAAS,CAAC4T,UAAV,CAAqB57B,IAArB,CAF6B,EAG7BgoB,SAAS,CAACgU,MAHmB,CAApB;AAba,CAAD,EAkBxB1D,cAlBwB,CAA3B;AAoBAT,QAAQ,CAACoE,YAAT,GAAwB/D,MAAM,CAAC;AAC7BuB,OAAK,EAAE,EADsB;AAE7BC,QAAM,EAAE,EAFqB;AAG7BN,SAAO,EAAE,EAHoB;AAI7BO,WAAS,EAAE,EAJkB;AAK7BjB,aAAW,EAAE;AALgB,CAAD,EAM3BH,iBAN2B,CAA9B,C;;;;;;;;;;;;;;;;;AClMA36B,MAAM,CAACiG,MAAP,CAAc;AAACM,cAAY,EAAC;AAAA,WAAIA,YAAJ;AAAA;AAAd,CAAd;AAA+C,IAAIe,UAAJ,EAAeF,QAAf,EAAwBC,SAAxB;AAAkCrH,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAACqH,YAAD,YAAYpH,CAAZ,EAAc;AAACoH,cAAU,GAACpH,CAAX;AAAa,GAA5B;AAA6BkH,UAA7B,YAAsClH,CAAtC,EAAwC;AAACkH,YAAQ,GAAClH,CAAT;AAAW,GAApD;AAAqDmH,WAArD,YAA+DnH,CAA/D,EAAiE;AAACmH,aAAS,GAACnH,CAAV;AAAY;AAA9E,CAA/B,EAA+G,CAA/G;AAAkH,IAAI6H,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAIH,GAAJ,EAAQoI,GAAR,EAAYyE,MAAZ;AAAmB5M,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM,GAAd;AAAeiI,KAAf,YAAmBjI,CAAnB,EAAqB;AAACiI,OAAG,GAACjI,CAAJ;AAAM,GAA5B;AAA6B0M,QAA7B,YAAoC1M,CAApC,EAAsC;AAAC0M,UAAM,GAAC1M,CAAP;AAAS;AAAhD,CAArB,EAAuE,CAAvE;AAA0E,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIo+B,aAAJ;AAAkBt+B,MAAM,CAACC,IAAP,CAAY,sBAAZ,EAAmC;AAACq+B,eAAD,YAAep+B,CAAf,EAAiB;AAACo+B,iBAAa,GAACp+B,CAAd;AAAgB;AAAlC,CAAnC,EAAuE,CAAvE;AAA0E,IAAIwH,KAAJ,EAAUH,SAAV,EAAoBC,cAApB;AAAmCxH,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACyH,OAAD,YAAOxH,CAAP,EAAS;AAACwH,SAAK,GAACxH,CAAN;AAAQ,GAAlB;AAAmBqH,WAAnB,YAA6BrH,CAA7B,EAA+B;AAACqH,aAAS,GAACrH,CAAV;AAAY,GAA5C;AAA6CsH,gBAA7C,YAA4DtH,CAA5D,EAA8D;AAACsH,kBAAc,GAACtH,CAAf;AAAiB;AAAhF,CAAvC,EAAyH,CAAzH;;IAiB1pBqG,Y;;;;;AACX,wBAAYuC,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SAEDC,a;6BAAgB;AACd,UAAI9F,IAAI,GAAG;AACTmK,WAAG,EAAE,IADI;AAETC,uBAAe,EAAE,EAFR,CAKX;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AA9EW,OAAX;AAgFA,UAAG/I,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoChE,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCwC,IAAlC;AACpC,aAAOA,IAAP;AACD;;;;;SACDwF,M;sBAAQ;AAEN,UAAI4E,eAAe,GAAG,EAAtB;;AACA,WAAK,IAAIkxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKt7B,IAAL,CAAUoK,eAAV,CAA0BtJ,MAA9C,EAAsDw6B,CAAC,EAAvD,EAA2D;AAEzDlxB,uBAAe,CAAC7B,IAAhB,CACE,oBAAC,aAAD;AACE,aAAG,EAAE+yB,CADP;AAEE,mBAAS,EAAC,eAFZ;AAGE,mBAAS,EAAGj2B,MAAM,CAAC,KAAKrF,IAAL,CAAUoK,eAAV,CAA0BkxB,CAA1B,EAA6BC,IAA9B,CAAN,CAA0CtyB,MAA1C,CAAiD,YAAjD,CAHd;AAIE,cAAI,EAAG,KAAKjJ,IAAL,CAAUoK,eAAV,CAA0BkxB,CAA1B,EAA6BE,IAJtC;AAKE,mBAAS,EAAE;AAACt1B,kBAAM,EAAE,MAAT;AAAiBD,iBAAK,EAAE,MAAxB;AAAgCuC,oBAAQ,EAAE,MAA1C;AAAkDiY,kBAAM,EAAE;AAA1D,WALb;AAME,sBAAY,EAAE;AAACxa,iBAAK,EAAE;AAAR,WANhB;AAOE,qBAAW,EAAE;AAACwa,kBAAM,EAAE;AAAT;AAPf,WASE,oBAAC,QAAD,QAEE;AAAI,mBAAS,EAAC;AAAd,WAA6B,KAAKzgB,IAAL,CAAUoK,eAAV,CAA0BkxB,CAA1B,EAA6Bxb,IAA1D,CAFF,EAGE;AAAI,mBAAS,EAAC,YAAd;AAA2B,eAAK,EAAE;AAAClH,iBAAK,EAAE;AAAR;AAAlC,WAAqD,KAAK5Y,IAAL,CAAUoK,eAAV,CAA0BkxB,CAA1B,EAA6B96B,YAAlF,MAHF,CATF,CADF;AAiBD;;AAED,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,QAAD;AAAU,iBAAS,EAAC,UAApB;AAA+B,aAAK,EAAE;AAAC0F,gBAAM,EAAE;AAAT;AAAtC,SACIkE,eADJ,CADF,CADF,CADF;AASD;;;;;;EA1H+BtF,KAAK,CAACuE,S;;AA4HxCrE,UAAU,CAAC1B,YAAY,CAACgG,SAAd,EAAyBvE,eAAzB,CAAV;AA7IAhI,MAAM,CAACmF,aAAP,CA8IeoB,YA9If;AAiJA,IAAIm4B,CAAC,GAAG;AACNpD,WAAS,EAAE;AACT7wB,YAAQ,EAAE,UADD;AAETgB,YAAQ,EAAE,KAFD;AAGT6T,cAAU,EAAE,GAHH;AAITqf,WAAO,EAAE,QAJA;AAKTz1B,SAAK,EAAE,KALE;AAMTwjB,UAAM,EAAE;AANC,GADL;AASNkS,iBAAe,EAAE;AACfn0B,YAAQ,EAAE,OADK;AAEfF,OAAG,EAAE,CAFU;AAGfs0B,QAAI,EAAE,EAHS;AAIf11B,UAAM,EAAE,QAJO;AAKf;AACA;AACA21B,cAAU,EAAE;AAPG,GATX;AAkBNC,gBAAc,EAAE;AACdC,WAAO,EAAE,EADK;AAEdv1B,WAAO,EAAE,OAFK;AAGdw1B,SAAK,EAAE;AAHO;AAlBV,CAAR;;IAyBMhF,Q;;;;;;;;;;;UAEJxxB,M;sBAAU;AACR,aACE,iCACE;AAAS,aAAK,EAAEi2B,CAAC,CAACpD;AAAlB,SAAiC,KAAKxyB,KAAtC,GACE;AAAK,iBAAS,EAAC,0BAAf;AAA0C,aAAK,EAAE41B,CAAC,CAACE;AAAnD,QADF,EAEG,KAAK91B,KAAL,CAAWsC,QAFd,EAGE;AAAK,iBAAS,EAAC,gBAAf;AAAgC,aAAK,EAAEszB,CAAC,CAACK;AAAzC,QAHF,CADF,CADF;AASD;;;;;;EAZoBzyB,S;;;;;;;;;;;;;;;AC1KvBtM,MAAM,CAACiG,MAAP,CAAc;AAACO,wBAAsB,EAAC;AAAA,WAAIA,sBAAJ;AAAA;AAAxB,CAAd;AAAmE,IAAIuB,KAAJ,EAAUuE,SAAV;AAAoBtM,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAAC6H,SAAK,GAAC7H,CAAN;AAAQ,GAApB;AAAqBoM,WAArB,YAA+BpM,CAA/B,EAAiC;AAACoM,aAAS,GAACpM,CAAV;AAAY;AAA9C,CAApB,EAAoE,CAApE;AAAuE,IAAI+5B,QAAJ;AAAaj6B,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAAA,uBAASC,CAAT,EAAW;AAAC+5B,YAAQ,GAAC/5B,CAAT;AAAW;AAAvB,CAAzB,EAAkD,CAAlD;AAAqD,IAAIoI,MAAJ;AAAWtI,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAAA,uBAASC,CAAT,EAAW;AAACoI,UAAM,GAACpI,CAAP;AAAS;AAArB,CAArB,EAA4C,CAA5C;AAA+C,IAAI8H,eAAJ;AAAoBhI,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC+H,iBAAD,YAAiB9H,CAAjB,EAAmB;AAAC8H,mBAAe,GAAC9H,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAI+H,UAAJ;AAAejI,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAAC+H,cAAU,GAAC/H,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIgD,OAAJ;AAAYlD,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACiD,SAAD,YAAShD,CAAT,EAAW;AAACgD,WAAO,GAAChD,CAAR;AAAU;AAAtB,CAA7B,EAAqD,CAArD;AAAwD,IAAIH,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACF,KAAD,YAAKG,CAAL,EAAO;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAd,CAArB,EAAqC,CAArC;AAAwC,IAAI8kB,MAAJ,EAAWrY,UAAX,EAAsBtF,SAAtB,EAAgCD,QAAhC;AAAyCpH,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC+kB,QAAD,YAAQ9kB,CAAR,EAAU;AAAC8kB,UAAM,GAAC9kB,CAAP;AAAS,GAApB;AAAqByM,YAArB,YAAgCzM,CAAhC,EAAkC;AAACyM,cAAU,GAACzM,CAAX;AAAa,GAAhD;AAAiDmH,WAAjD,YAA2DnH,CAA3D,EAA6D;AAACmH,aAAS,GAACnH,CAAV;AAAY,GAA1E;AAA2EkH,UAA3E,YAAoFlH,CAApF,EAAsF;AAACkH,YAAQ,GAAClH,CAAT;AAAW;AAAlG,CAA1B,EAA8H,CAA9H;AAAiI,IAAIg/B,iBAAJ;AAAsBl/B,MAAM,CAACC,IAAP,CAAY,0CAAZ,EAAuD;AAACi/B,mBAAD,YAAmBh/B,CAAnB,EAAqB;AAACg/B,qBAAiB,GAACh/B,CAAlB;AAAoB;AAA1C,CAAvD,EAAmG,CAAnG;AAAsG,IAAIi/B,cAAJ;AAAmBn/B,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAACk/B,gBAAD,YAAgBj/B,CAAhB,EAAkB;AAACi/B,kBAAc,GAACj/B,CAAf;AAAiB;AAApC,CAApD,EAA0F,CAA1F;AAA6F,IAAIk/B,eAAJ;AAAoBp/B,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAACm/B,iBAAD,YAAiBl/B,CAAjB,EAAmB;AAACk/B,mBAAe,GAACl/B,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,EAA7F;AAAiG,IAAIm/B,kBAAJ;AAAuBr/B,MAAM,CAACC,IAAP,CAAY,2CAAZ,EAAwD;AAACo/B,oBAAD,YAAoBn/B,CAApB,EAAsB;AAACm/B,sBAAkB,GAACn/B,CAAnB;AAAqB;AAA5C,CAAxD,EAAsG,EAAtG;AAA0G,IAAIo/B,qBAAJ;AAA0Bt/B,MAAM,CAACC,IAAP,CAAY,+CAAZ,EAA4D;AAACq/B,uBAAD,YAAuBp/B,CAAvB,EAAyB;AAACo/B,yBAAqB,GAACp/B,CAAtB;AAAwB;AAAlD,CAA5D,EAAgH,EAAhH;AAAoH,IAAIq/B,eAAJ;AAAoBv/B,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAACs/B,iBAAD,YAAiBr/B,CAAjB,EAAmB;AAACq/B,mBAAe,GAACr/B,CAAhB;AAAkB;AAAtC,CAArD,EAA6F,EAA7F;AAAiG,IAAIg6B,GAAJ;AAAQl6B,MAAM,CAACC,IAAP,CAAY,mCAAZ,EAAgD;AAAA,uBAASC,CAAT,EAAW;AAACg6B,OAAG,GAACh6B,CAAJ;AAAM;AAAlB,CAAhD,EAAoE,EAApE;AAwBl9C,IAAIs/B,OAAO,GAAG,IAAItF,GAAG,CAAC4C,OAAR,CAAgB,EAAhB,CAAd,C,CAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;;AAGA55B,OAAO,CAAC2F,UAAR,CAAmB,oBAAnB,EAAyC,KAAzC;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,wBAAnB,EAA6C,KAA7C;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,4BAAnB,EAAiD,KAAjD;AACA3F,OAAO,CAAC2F,UAAR,CAAmB,mCAAnB,EAAwD,KAAxD,E,CAIA;AACA;AACA;AACA;;IAIarC,sB;;;;;AACX,kCAAYsC,KAAZ,EAAmB;AAAA,WACjB,4BAAMA,KAAN,CADiB;AAElB;;;;SACD+xB,kB;kCAAoB;AAClB,UAAM4E,cAAc,GAAG,EAAvB,CADkB,CAElB;AACA;;AACA,WAAKC,QAAL,GAAiB,oBAAC,QAAD;AACb,UAAE,EAAC,oBADU;AAEb,qBAAa,EAAG,KAAKC,UAFR;AAGb,sBAAc,EAAE,KAAKC,aAHR;AAIb,oBAAY,EAAE,KAAKA,aAJN;AAKb,eAAO,EAAE,KAAK38B,IAAL,CAAUu4B,OALN;AAMb,aAAK,EAAE,KAAKv4B,IAAL,CAAU44B,KANJ;AAOb,cAAM,EAAE,KAAK54B,IAAL,CAAU64B,MAPL;AAQb,cAAM,EAAE2D;AARK,QAAjB;AAUD;;;;;SACD12B,a;6BAAgB;AACd,UAAI82B,cAAJ,CADc,CAGd;;AACA,UAAG9/B,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,mBAAhB,CAAN,EAA2C;AACzCu9B,sBAAc,GAAGtrB,QAAQ,CAACtP,OAAT,CAAiB;AAACd,aAAG,EAAEpE,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,mBAAhB;AAAT,SAAjB,CAAjB;AACD,OANa,CAQd;;;AACA,UAAG,CAACu9B,cAAJ,EAAmB;AACjBA,sBAAc,GAAGtrB,QAAQ,CAACtP,OAAT,EAAjB;AACD;;AAGD,UAAIhC,IAAI,GAAG;AACT68B,0BAAkB,EAAE58B,OAAO,CAACnD,GAAR,CAAY,oBAAZ,CADX;AAETy7B,eAAO,EAAE;AACPtyB,eAAK,EAAE,MADA;AAEP;AACA;AACA62B,oBAAU,EAAE,IAJL;AAKP52B,gBAAM,EAAGjG,OAAO,CAACnD,GAAR,CAAY,WAAZ,IAA2B,GAL7B;AAMP;AACAigC,wBAAc,EAAE,CAAC,IAAD,EAAO,SAAP,CAPT;AAQPC,eAAK,EAAE,IARA;AASPC,yBAAe,EAAE,KATV;AAUPC,yBAAe,EAAE,IAVV;AAWPC,iBAAO,EAAE,OAXF;AAYPl0B,gBAAM,EAAE,CACN;AACA;AAFM,WAZD;AAiBPwwB,eAAK,EAAE,YAjBA;AAiBe;AACtBC,aAAG,EAAEr0B,MAAM,GAAG4D,MAAT,CAAgB,YAAhB,CAlBE;AAkB6B;AACpCm0B,aAAG,EAAE,YAnBE;AAmBa;AACpBC,aAAG,EAAE,YApBE;AAoBa;AAGpB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEAC,oBAAU,EAAE,SAnCL,CAmCgB;;AAnChB,SAFA;AAuCTzE,cAAM,EAAE,EAvCC;AAwCTD,aAAK,EAAE2D,OAAO,CAACz/B,GAAR,EAxCE;AAyCT8/B,sBAAc,EAAE,IAzCP;AA0CTW,8BAAsB,EAAEt9B,OAAO,CAACnD,GAAR,CAAY,wBAAZ,CA1Cf;AA2CT0gC,kCAA0B,EAAEv9B,OAAO,CAACnD,GAAR,CAAY,4BAAZ,CA3CnB;AA4CT2gC,yCAAiC,EAAEx9B,OAAO,CAACnD,GAAR,CAAY,mCAAZ,CA5C1B;AA6CTsd,aAAK,EAAE,EA7CE,CAgDX;AACA;AACA;;AAlDW,OAAX;;AAoDA,UAAGtd,GAAG,CAAC8/B,cAAD,EAAiB,WAAjB,CAAN,EAAoC;AAClC58B,YAAI,CAACu4B,OAAL,CAAakB,KAAb,GAAqBp0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiClqB,MAAjC,CAAwC,YAAxC,CAArB,CADkC,CAC2C;;AAC7EjJ,YAAI,CAACu4B,OAAL,CAAamB,GAAb,GAAmBr0B,MAAM,GAAG4D,MAAT,CAAgB,YAAhB,CAAnB,CAFkC,CAEgB;;AAClDjJ,YAAI,CAACu4B,OAAL,CAAa6E,GAAb,GAAmB/3B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiCuK,QAAjC,CAA0C,MAA1C,EAAkD,GAAlD,EAAuDz0B,MAAvD,CAA8D,YAA9D,CAAnB,CAHkC,CAG+D;;AACjGjJ,YAAI,CAACu4B,OAAL,CAAa8E,GAAb,GAAmBh4B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,OAArC,EAA8C,EAA9C,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAAnB,CAJkC,CAI0D;AAC7F;;AAED,UAAI00B,WAAJ;;AAEA,UAAG7gC,GAAG,CAAC8/B,cAAD,EAAiB,QAAjB,CAAN,EAAiC;AAC/B,YAAG9/B,GAAG,CAAC8/B,cAAD,EAAiB,QAAjB,CAAH,KAAkC,MAArC,EAA4C;AAC1Ce,qBAAW,GAAG,SAAd;AACD;;AACD,YAAG7gC,GAAG,CAAC8/B,cAAD,EAAiB,QAAjB,CAAH,KAAkC,QAArC,EAA8C;AAC5Ce,qBAAW,GAAG,SAAd;AACD;AACF;;AAED,UAAG19B,OAAO,CAACnD,GAAR,CAAY,QAAZ,MAA0B,QAA7B,EAAsC;AACpC6gC,mBAAW,GAAG,SAAd;AACD,OAFD,MAEO,IAAI19B,OAAO,CAACnD,GAAR,CAAY,QAAZ,MAA0B,cAA9B,EAA6C;AAClD6gC,mBAAW,GAAG,SAAd;AACD;;AAED,UAAGxgC,MAAM,CAACiC,MAAP,EAAH,EAAmB;AACjB,YAAIw+B,gBAAgB,GAAG9gC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,0BAAhB,EAA4C,EAA5C,CAA1B;;AAEA,YAAGvC,GAAG,CAAC8/B,cAAD,EAAiB,WAAjB,CAAN,EAAoC;AAElC,cAAIiB,OAAO,GAAG;AACZC,mBAAO,EAAE,OADG;AAEZ78B,cAAE,EAAE,OAFQ;AAGZw4B,iBAAK,EAAEp0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiCuK,QAAjC,CAA0C,GAA1C,EAA+C,MAA/C,EAAuDz0B,MAAvD,CAA8D,YAA9D,CAHK;AAIZywB,eAAG,EAAEr0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiClqB,MAAjC,CAAwC,YAAxC,CAJO;AAKZkb,gBAAI,EAAE,YALM;AAMZhe,iBAAK,EAAE,uBAAuBw3B,WAAvB,GAAqC,iBANhC,CAQd;;AARc,WAAd;;AASA,cAAG,CAACpB,OAAO,CAACz/B,GAAR,CAAY,OAAZ,CAAJ,EAAyB;AACvBy/B,mBAAO,CAACzC,GAAR,CAAY+D,OAAZ;AACD,WAbiC,CAelC;;;AACA,cAAIE,OAAO,GAAG;AACZD,mBAAO,EAAE,SADG;AAEZ78B,cAAE,EAAE,SAFQ;AAGZw4B,iBAAK,EAAEp0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,EAArC,EAAyC,OAAzC,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAHK;AAIZywB,eAAG,EAAEr0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,EAArC,EAAyC,OAAzC,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAJO;AAKZkb,gBAAI,EAAE,YALM;AAMZhe,iBAAK,EAAE,uBAAuBw3B,WAAvB,GAAqC,iBANhC,CAQd;;AARc,WAAd;;AASA,cAAG,CAACpB,OAAO,CAACz/B,GAAR,CAAY,SAAZ,CAAJ,EAA2B;AACzBy/B,mBAAO,CAACzC,GAAR,CAAYiE,OAAZ;AACD,WA3BiC,CA6BlC;;;AACA,cAAIC,QAAQ,GAAG;AACbF,mBAAO,EAAE,UADI;AAEb78B,cAAE,EAAE,UAFS;AAGbw4B,iBAAK,EAAEp0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,EAArC,EAAyC,OAAzC,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAHM;AAIbywB,eAAG,EAAEr0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,EAArC,EAAyC,OAAzC,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAJQ;AAKbkb,gBAAI,EAAE,YALO;AAMbhe,iBAAK,EAAE,uBAAuBw3B,WAAvB,GAAqC,iBAN/B,CAQf;;AARe,WAAf;;AASA,cAAG,CAACpB,OAAO,CAACz/B,GAAR,CAAY,UAAZ,CAAJ,EAA4B;AAC1By/B,mBAAO,CAACzC,GAAR,CAAYkE,QAAZ;AACD,WAzCiC,CA4ClC;;;AACA,cAAIC,YAAY,GAAG;AACjBH,mBAAO,EAAE,cADQ;AAEjB78B,cAAE,EAAE,cAFa;AAGjBw4B,iBAAK,EAAEp0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,EAArC,EAAyC,OAAzC,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAHU;AAIjBywB,eAAG,EAAEr0B,MAAM,CAACu3B,cAAc,CAACzJ,SAAhB,CAAN,CAAiC2G,GAAjC,CAAqC,EAArC,EAAyC,OAAzC,EAAkD7wB,MAAlD,CAAyD,YAAzD,CAJY;AAKjBkb,gBAAI,EAAE,YALW;AAMjBhe,iBAAK,EAAE,0CANU,CAQnB;;AARmB,WAAnB;;AASA,cAAG,CAACo2B,OAAO,CAACz/B,GAAR,CAAY,cAAZ,CAAJ,EAAgC;AAC9By/B,mBAAO,CAACzC,GAAR,CAAYmE,YAAZ;AACD,WAxDiC,CAyDlC;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAED;;AAED,YAAIC,UAAU,GAAG,oCAAjB;AACA,YAAIC,UAAU,GAAG,mDAAjB;;AAEA,YAAIl+B,OAAO,CAACnD,GAAR,CAAY,kBAAZ,CAAJ,EAAqC;AACnC;AACA;AACAohC,oBAAU,GAAG,8CAAb;AACAC,oBAAU,GAAG,gGAAb;AACD;;AAED5gC,eAAO,CAACC,GAAR,CAAY,6CAAZ;AACAkB,2BAAmB,CAACoE,IAApB,GAA2BtE,OAA3B,CAAmC,UAASwmB,OAAT,EAAiB;AAClD,cAAGA,OAAH,EAAW;AACT,gBAAG,CAACuX,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAACkoB,OAAD,EAAU,KAAV,CAAf,CAAJ,EAAqC;AACnC,kBAAIoZ,UAAU,GAAG;AACfN,uBAAO,EAAEhhC,GAAG,CAACkoB,OAAD,EAAU,KAAV,EAAiB,EAAjB,CADG;AAEf/jB,kBAAE,EAAEnE,GAAG,CAACkoB,OAAD,EAAU,KAAV,EAAiB,EAAjB,CAFQ;AAGf+W,uBAAO,EAAE,EAHM;AAIfsC,qBAAK,EAAE,WAJQ;AAKf5E,qBAAK,EAAE,IALQ;AAMfC,mBAAG,EAAE,IANU;AAOfvV,oBAAI,EAAE,OAPS;AAQfhe,qBAAK,EAAE+3B;AARQ,eAAjB;;AAWA,kBAAGphC,GAAG,CAACkoB,OAAD,EAAU,eAAV,CAAN,EAAiC;AAC/BoZ,0BAAU,CAAC3E,KAAX,GAAmB38B,GAAG,CAACkoB,OAAD,EAAU,eAAV,CAAtB;AACD,eAFD,MAEO,IAAGloB,GAAG,CAACkoB,OAAD,EAAU,aAAV,CAAN,EAA+B;AACpCoZ,0BAAU,CAAC3E,KAAX,GAAmB38B,GAAG,CAACkoB,OAAD,EAAU,mBAAV,CAAtB;AACD,eAFM,MAEA,IAAIloB,GAAG,CAACkoB,OAAD,EAAU,cAAV,CAAP,EAAiC;AACtCoZ,0BAAU,CAAC3E,KAAX,GAAmB38B,GAAG,CAACkoB,OAAD,EAAU,cAAV,CAAtB;AACD,eAFM,MAEA,IAAIloB,GAAG,CAACkoB,OAAD,EAAU,OAAV,CAAP,EAA0B;AAC/BoZ,0BAAU,CAAC3E,KAAX,GAAmB38B,GAAG,CAACkoB,OAAD,EAAU,OAAV,CAAtB;AACD,eAFM,MAEA,IAAIloB,GAAG,CAACkoB,OAAD,EAAU,eAAV,CAAP,EAAkC;AACvCoZ,0BAAU,CAAC3E,KAAX,GAAmB38B,GAAG,CAACkoB,OAAD,EAAU,eAAV,CAAtB;AACD;;AAED,kBAAGloB,GAAG,CAACkoB,OAAD,EAAU,iBAAV,CAAN,EAAmC;AACjCoZ,0BAAU,CAAC1E,GAAX,GAAiB58B,GAAG,CAACkoB,OAAD,EAAU,iBAAV,CAApB;AACAoZ,0BAAU,CAACj4B,KAAX,GAAmBg4B,UAAnB;AACAC,0BAAU,CAACja,IAAX,GAAkB,OAAlB;AACD;;AAED,kBAAGrnB,GAAG,CAACkoB,OAAD,EAAU,yBAAV,CAAN,EAA2C;AACzCoZ,0BAAU,CAACrC,OAAX,GAAqBj/B,GAAG,CAACkoB,OAAD,EAAU,yBAAV,CAAxB;AACD,eAFD,MAEO,IAAGloB,GAAG,CAACkoB,OAAD,EAAU,mCAAV,CAAN,EAAqD;AAC1DoZ,0BAAU,CAACrC,OAAX,GAAqBj/B,GAAG,CAACkoB,OAAD,EAAU,mCAAV,CAAxB;AACD;;AAED,kBAAGoZ,UAAU,CAAC3E,KAAd,EAAoB;AAClB8C,uBAAO,CAACzC,GAAR,CAAYsE,UAAZ;AACD;AACF;AACF;AACF,SA3CD;AA6CA7gC,eAAO,CAACC,GAAR,CAAY,mCAAZ;AACA2S,iBAAS,CAACrN,IAAV,GAAiBtE,OAAjB,CAAyB,UAAS8/B,QAAT,EAAkB;AACzC,cAAGA,QAAH,EAAY;AACV,gBAAG,CAAC/B,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAACwhC,QAAD,EAAW,KAAX,CAAf,CAAJ,EAAsC;AACpC,kBAAIC,WAAW,GAAG;AAChBT,uBAAO,EAAEhhC,GAAG,CAACwhC,QAAD,EAAW,KAAX,EAAkB,EAAlB,CADI;AAEhBr9B,kBAAE,EAAEnE,GAAG,CAACwhC,QAAD,EAAW,KAAX,EAAkB,EAAlB,CAFS;AAGhBvC,uBAAO,EAAE,EAHO;AAIhBsC,qBAAK,EAAE,WAJS;AAKhB5E,qBAAK,EAAE,IALS;AAMhBC,mBAAG,EAAE,IANW;AAOhBvV,oBAAI,EAAE,OAPU;AAQhBhe,qBAAK,EAAEg4B;AARS,eAAlB;;AAYA,kBAAGrhC,GAAG,CAACwhC,QAAD,EAAW,kBAAX,CAAN,EAAqC;AACnCC,2BAAW,CAACxC,OAAZ,GAAsBj/B,GAAG,CAACwhC,QAAD,EAAW,kBAAX,EAA+B,EAA/B,CAAzB;AACD;;AAED,kBAAGxhC,GAAG,CAACwhC,QAAD,EAAW,aAAX,EAA0B,EAA1B,CAAN,EAAoC;AAClCC,2BAAW,CAACxC,OAAZ,GAAsBj/B,GAAG,CAACwhC,QAAD,EAAW,aAAX,EAA0B,EAA1B,CAAzB;AACD,eAnBmC,CAqBpC;;;AACA,kBAAGxhC,GAAG,CAACwhC,QAAD,EAAW,QAAX,CAAN,EAA2B;AACzB;AACA;AACA,oBAAGxhC,GAAG,CAACwhC,QAAD,EAAW,cAAX,CAAN,EAAiC;AAC/BC,6BAAW,CAAC9E,KAAZ,GAAoB38B,GAAG,CAACwhC,QAAD,EAAW,cAAX,CAAvB;AACD,iBALwB,CAMzB;;;AACA,oBAAGxhC,GAAG,CAACwhC,QAAD,EAAW,YAAX,CAAN,EAA+B;AAC7BC,6BAAW,CAAC7E,GAAZ,GAAkB58B,GAAG,CAACwhC,QAAD,EAAW,YAAX,CAArB;AACD,iBAFD,MAEO,IAAGxhC,GAAG,CAACkD,IAAD,EAAO,aAAP,CAAN,EAA4B;AACjC;AACA;AACAu+B,6BAAW,CAAC7E,GAAZ,GAAkB58B,GAAG,CAACkD,IAAD,EAAO,aAAP,CAArB;AACD,iBAJM,MAIA;AACL;AACAu+B,6BAAW,CAAC7E,GAAZ,GAAkBr0B,MAAM,EAAxB;AACD;AACF,eAjBD,MAiBO;AACL;AAEA,oBAAGvI,GAAG,CAACwhC,QAAD,EAAW,WAAX,CAAN,EAA8B;AAC5B;AACAA,0BAAQ,CAACE,SAAT,CAAmBhgC,OAAnB,CAA2B,UAASigC,kBAAT,EAA4B;AACrD5/B,8BAAU,CAACiE,IAAX,CAAgB;AAAC,mCAAa27B,kBAAkB,CAACj4B;AAAjC,qBAAhB,EAA2DY,GAA3D,CAA+D,UAASge,SAAT,EAAmB;AAChFmZ,iCAAW,CAAC9E,KAAZ,GAAoB38B,GAAG,CAACsoB,SAAD,EAAY,eAAZ,CAAvB,CADgF,CAEhF;;AACAmZ,iCAAW,CAAC7E,GAAZ,GAAkBr0B,MAAM,EAAxB,CAHgF,CAIhF;AACA;AACA;AACD,qBAPD;AAQD,mBATD;AAUD;AACF;;AAED,kBAAGk5B,WAAW,CAAC9E,KAAf,EAAqB;AACnB8C,uBAAO,CAACzC,GAAR,CAAYyE,WAAZ;AACD;AAEF;AACF;AACF,SAjED;AAmEAhhC,eAAO,CAACC,GAAR,CAAY,oCAAZ;AACAqB,kBAAU,CAACiE,IAAX,GAAkBtE,OAAlB,CAA0B,UAAS4mB,SAAT,EAAmB;AAC3C,cAAGA,SAAH,EAAa;AACX,gBAAG,CAACmX,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAACsoB,SAAD,EAAY,KAAZ,CAAf,CAAJ,EAAuC;AACrC,kBAAIsZ,YAAY,GAAG;AACjBZ,uBAAO,EAAEhhC,GAAG,CAACsoB,SAAD,EAAY,KAAZ,EAAmB,EAAnB,CADK;AAEjBnkB,kBAAE,EAAEnE,GAAG,CAACsoB,SAAD,EAAY,KAAZ,EAAmB,EAAnB,CAFU;AAGjBiZ,qBAAK,EAAE,YAHU;AAIjBtC,uBAAO,EAAE,EAJQ;AAKjBtC,qBAAK,EAAE,IALU;AAMjBC,mBAAG,EAAE,IANY;AAOjB;AACA;AACAvV,oBAAI,EAAE,OATW;AAUjBhe,qBAAK,EAAE+3B;AAVU,eAAnB;;AAaA,kBAAGphC,GAAG,CAACsoB,SAAD,EAAY,WAAZ,CAAN,EAA+B;AAC7BsZ,4BAAY,CAAC3C,OAAb,GAAuBj/B,GAAG,CAACsoB,SAAD,EAAY,WAAZ,CAA1B;AACD,eAFD,MAEO,IAAGtoB,GAAG,CAACsoB,SAAD,EAAY,wBAAZ,CAAN,EAA4C;AACjDsZ,4BAAY,CAAC3C,OAAb,GAAuBj/B,GAAG,CAACkoB,OAAD,EAAU,wBAAV,CAA1B;AACD,eAFM,MAEA,IAAGloB,GAAG,CAACsoB,SAAD,EAAY,qBAAZ,CAAN,EAAyC;AAC9CsZ,4BAAY,CAAC3C,OAAb,GAAuBj/B,GAAG,CAACkoB,OAAD,EAAU,qBAAV,CAA1B;AACD;;AAED,kBAAGloB,GAAG,CAACsoB,SAAD,EAAY,eAAZ,CAAN,EAAmC;AACjCsZ,4BAAY,CAACjF,KAAb,GAAqB38B,GAAG,CAACsoB,SAAD,EAAY,eAAZ,CAAxB;AACD;;AAED,kBAAGtoB,GAAG,CAACsoB,SAAD,EAAY,mBAAZ,CAAN,EAAuC;AACrCsZ,4BAAY,CAAChF,GAAb,GAAmB58B,GAAG,CAACsoB,SAAD,EAAY,mBAAZ,CAAtB;AACAsZ,4BAAY,CAACv4B,KAAb,GAAqBg4B,UAArB;AACAO,4BAAY,CAACva,IAAb,GAAoB,OAApB;AACD;;AAGD,kBAAGua,YAAY,CAACjF,KAAhB,EAAsB;AACpB8C,uBAAO,CAACzC,GAAR,CAAY4E,YAAZ;AACD;AACF;AACF;AACF,SAxCD;AA0CAnhC,eAAO,CAACC,GAAR,CAAY,uCAAZ;AACAsB,qBAAa,CAACgE,IAAd,GAAqBtE,OAArB,CAA6B,UAASknB,YAAT,EAAsB;AACjD,cAAGA,YAAH,EAAgB;AACd,gBAAG,CAAC6W,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAAC4oB,YAAD,EAAe,KAAf,CAAf,CAAJ,EAA0C;AAExC,kBAAIiZ,eAAe,GAAG;AACpBb,uBAAO,EAAEhhC,GAAG,CAAC4oB,YAAD,EAAe,KAAf,EAAsB,EAAtB,CADQ;AAEpBzkB,kBAAE,EAAEnE,GAAG,CAAC4oB,YAAD,EAAe,KAAf,EAAsB,EAAtB,CAFa;AAGpB2Y,qBAAK,EAAE,eAHa;AAIpBtC,uBAAO,EAAE,EAJW;AAKpBtC,qBAAK,EAAE,IALa;AAMpBC,mBAAG,EAAE,IANe;AAOpBvV,oBAAI,EAAE,OAPc;AAQpBhe,qBAAK,EAAE+3B;AARa,eAAtB;;AAWA,kBAAGphC,GAAG,CAAC4oB,YAAD,EAAe,kBAAf,CAAN,EAAyC;AACvCiZ,+BAAe,CAAC5C,OAAhB,GAA0Bj/B,GAAG,CAAC4oB,YAAD,EAAe,kBAAf,CAA7B;AACD;;AAED,kBAAG5oB,GAAG,CAAC4oB,YAAD,EAAe,mBAAf,CAAN,EAA0C;AACxCiZ,+BAAe,CAAClF,KAAhB,GAAwB38B,GAAG,CAAC4oB,YAAD,EAAe,mBAAf,CAA3B;AACD,eAFD,MAEO,IAAI5oB,GAAG,CAAC4oB,YAAD,EAAe,MAAf,CAAP,EAA8B;AACnCiZ,+BAAe,CAAClF,KAAhB,GAAwB38B,GAAG,CAAC4oB,YAAD,EAAe,MAAf,CAA3B;AACD,eAFM,MAEA,IAAI5oB,GAAG,CAAC4oB,YAAD,EAAe,UAAf,CAAP,EAAkC;AACvCiZ,+BAAe,CAAClF,KAAhB,GAAwB38B,GAAG,CAAC4oB,YAAD,EAAe,UAAf,CAA3B;AACD;;AAED,kBAAGiZ,eAAe,CAAClF,KAAnB,EAAyB;AACvB8C,uBAAO,CAACzC,GAAR,CAAY6E,eAAZ;AACD;AACF;AACF;AACF,SAhCD;AAkCAphC,eAAO,CAACC,GAAR,CAAY,0CAAZ;AACAwB,wBAAgB,CAAC8D,IAAjB,GAAwBtE,OAAxB,CAAgC,UAASqnB,eAAT,EAAyB;AACvD;AACA,cAAGA,eAAH,EAAmB;AACjB,gBAAG,CAAC0W,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAAC+oB,eAAD,EAAkB,KAAlB,CAAf,CAAJ,EAA6C;AAC3C,kBAAI+Y,kBAAkB,GAAG;AACvBP,qBAAK,EAAE,kBADgB;AAEvBP,uBAAO,EAAEhhC,GAAG,CAAC+oB,eAAD,EAAkB,KAAlB,EAAyB,EAAzB,CAFW;AAGvB5kB,kBAAE,EAAEnE,GAAG,CAAC+oB,eAAD,EAAkB,KAAlB,EAAyB,EAAzB,CAHgB;AAIvBkW,uBAAO,EAAE,EAJc;AAKvB;AACA;AACA;AACAtC,qBAAK,EAAE,IARgB;AASvBC,mBAAG,EAAE,IATkB;AAUvBvV,oBAAI,EAAE,OAViB;AAWvBhe,qBAAK,EAAE+3B;AAXgB,eAAzB;;AAcA,kBAAGphC,GAAG,CAAC+oB,eAAD,EAAkB,aAAlB,CAAN,EAAuC;AACrC+Y,kCAAkB,CAACnF,KAAnB,GAA2B38B,GAAG,CAAC+oB,eAAD,EAAkB,aAAlB,CAA9B;AACD;;AACD,kBAAG/oB,GAAG,CAAC+oB,eAAD,EAAkB,WAAlB,CAAN,EAAqC;AACnC+Y,kCAAkB,CAAClF,GAAnB,GAAyB58B,GAAG,CAAC+oB,eAAD,EAAkB,WAAlB,CAA5B;AACA+Y,kCAAkB,CAACz4B,KAAnB,GAA2Bg4B,UAA3B;AACAS,kCAAkB,CAACza,IAAnB,GAA0B,OAA1B;AACD;;AAED,kBAAGrnB,GAAG,CAAC+oB,eAAD,EAAkB,6BAAlB,CAAN,EAAuD;AACrD+Y,kCAAkB,CAAC7C,OAAnB,GAA6Bj/B,GAAG,CAAC+oB,eAAD,EAAkB,6BAAlB,CAAhC;AACD,eAFD,MAEO,IAAG/oB,GAAG,CAAC+oB,eAAD,EAAkB,gCAAlB,CAAN,EAA0D;AAC/D+Y,kCAAkB,CAAC7C,OAAnB,GAA6Bj/B,GAAG,CAAC+oB,eAAD,EAAkB,gCAAlB,CAAhC;AACD,eAFM,MAEA,IAAG/oB,GAAG,CAAC+oB,eAAD,EAAkB,yBAAlB,CAAN,EAAmD;AACxD+Y,kCAAkB,CAAC7C,OAAnB,GAA6Bj/B,GAAG,CAAC+oB,eAAD,EAAkB,yBAAlB,CAAhC;AACD,eAFM,MAEA,IAAG/oB,GAAG,CAAC+oB,eAAD,EAAkB,qBAAlB,CAAN,EAA+C;AACpD+Y,kCAAkB,CAAC7C,OAAnB,GAA6Bj/B,GAAG,CAAC+oB,eAAD,EAAkB,qBAAlB,CAAhC;AACD;;AAED,kBAAG+Y,kBAAkB,CAACnF,KAAtB,EAA4B;AAC1B8C,uBAAO,CAACzC,GAAR,CAAY8E,kBAAZ;AACD;AACF;AACF;AACF,SA1CD;AA4CArhC,eAAO,CAACC,GAAR,CAAY,8CAAZ;AACA2T,4BAAoB,CAACrO,IAArB,GAA4BtE,OAA5B,CAAoC,UAASsnB,mBAAT,EAA6B;AAC/D,cAAGA,mBAAH,EAAuB;AACrB,gBAAG,CAACyW,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAACgpB,mBAAD,EAAsB,KAAtB,CAAf,CAAJ,EAAiD;AAC/C,kBAAI+Y,sBAAsB,GAAG;AAC3Bf,uBAAO,EAAEhhC,GAAG,CAACgpB,mBAAD,EAAsB,KAAtB,EAA6B,EAA7B,CADe;AAE3B7kB,kBAAE,EAAEnE,GAAG,CAACgpB,mBAAD,EAAsB,KAAtB,EAA6B,EAA7B,CAFoB;AAG3BuY,qBAAK,EAAE,sBAHoB;AAI3BtC,uBAAO,EAAE,EAJkB;AAK3BtC,qBAAK,EAAE,IALoB;AAM3BC,mBAAG,EAAE,IANsB;AAO3BvV,oBAAI,EAAE,OAPqB;AAQ3Bhe,qBAAK,EAAE+3B,UARoB,CAS3B;AACA;AACA;;AAX2B,eAA7B;;AAcA,kBAAGphC,GAAG,CAACgpB,mBAAD,EAAsB,qCAAtB,CAAN,EAAmE;AACjE+Y,sCAAsB,CAAC9C,OAAvB,GAAiCj/B,GAAG,CAACgpB,mBAAD,EAAsB,qCAAtB,CAApC;AACD;;AAED,kBAAGhpB,GAAG,CAACgpB,mBAAD,EAAsB,mBAAtB,CAAN,EAAiD;AAC/C+Y,sCAAsB,CAACpF,KAAvB,GAA+B38B,GAAG,CAACgpB,mBAAD,EAAsB,mBAAtB,CAAlC;AACD,eAFD,MAEO,IAAIhpB,GAAG,CAACgpB,mBAAD,EAAsB,uBAAtB,CAAP,EAAsD;AAC3D+Y,sCAAsB,CAACpF,KAAvB,GAA+B38B,GAAG,CAACgpB,mBAAD,EAAsB,uBAAtB,CAAlC;AACD;;AAED,kBAAIhpB,GAAG,CAACgpB,mBAAD,EAAsB,qBAAtB,CAAP,EAAoD;AAClD+Y,sCAAsB,CAACnF,GAAvB,GAA6B58B,GAAG,CAACgpB,mBAAD,EAAsB,qBAAtB,CAAhC;AACA+Y,sCAAsB,CAAC14B,KAAvB,GAA+Bg4B,UAA/B;AACAU,sCAAsB,CAAC1a,IAAvB,GAA8B,OAA9B;AACD;;AAED,kBAAG0a,sBAAsB,CAACpF,KAA1B,EAAgC;AAC9B8C,uBAAO,CAACzC,GAAR,CAAY+E,sBAAZ;AACD;AACF;AACF;AACF,SAtCD;AA0CA,YAAIlkB,OAAO,GAAG7d,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,iBAAhB,CAAjB;;AAEA,YAAGsb,OAAH,EAAW;AACT3a,cAAI,CAACoa,KAAL,GAAa,EAAb;;AACA,cAAGO,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACC,MAAR,CAAe9Z,MAAf,GAAwB,CAA7C,EAA+C;AAC7C,gBAAG,CAACd,IAAI,CAACoa,KAAL,CAAWS,IAAf,EAAqB7a,IAAI,CAACoa,KAAL,CAAWS,IAAX,GAAkB,EAAlB;AACrBF,mBAAO,CAACC,MAAR,CAAepc,OAAf,CAAuB,UAASsc,IAAT,EAAc;AACnC,kBAAGA,IAAH,EAAQ;AACN9a,oBAAI,CAACoa,KAAL,CAAWS,IAAX,CAAgBtS,IAAhB,CAAqB;AAAE,+BAAa;AAAE,8BAAU,MAAMuS;AAAlB;AAAf,iBAArB;AACD;AACF,aAJD;AAKD;;AAED,cAAGH,OAAO,CAACI,QAAR,IAAoBJ,OAAO,CAACI,QAAR,CAAiBja,MAAjB,GAA0B,CAAjD,EAAmD;AACjD,gBAAG,CAACd,IAAI,CAACoa,KAAL,CAAWY,GAAf,EAAoBhb,IAAI,CAACoa,KAAL,CAAWY,GAAX,GAAiB,EAAjB;AACpBL,mBAAO,CAACI,QAAR,CAAiBvc,OAAjB,CAAyB,UAASsc,IAAT,EAAc;AACrC,kBAAGA,IAAH,EAAQ;AACN9a,oBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,+BAAa;AAAE,8BAAU,MAAMuS;AAAlB;AAAf,iBAApB;AACD;AACF,aAJD;AAKD;;AAED,cAAGhe,GAAG,CAAC6d,OAAD,EAAU,8BAAV,CAAN,EAAgD;AAC9C,gBAAG,CAAC3a,IAAI,CAACoa,KAAL,CAAWY,GAAf,EAAoBhb,IAAI,CAACoa,KAAL,CAAWY,GAAX,GAAiB,EAAjB;AACpBhb,gBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,2BAAa;AAAE,0BAAU;AAAZ;AAAf,aAApB;AACD;;AACD,cAAGzL,GAAG,CAAC6d,OAAD,EAAU,6BAAV,CAAN,EAA+C;AAC7C,gBAAG,CAAC3a,IAAI,CAACoa,KAAL,CAAWY,GAAf,EAAoBhb,IAAI,CAACoa,KAAL,CAAWY,GAAX,GAAiB,EAAjB;AACpBhb,gBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,2BAAa;AAAE,0BAAU;AAAZ;AAAf,aAApB;AACD;;AACD,cAAGzL,GAAG,CAAC6d,OAAD,EAAU,6BAAV,CAAN,EAA+C;AAC7C,gBAAG,CAAC3a,IAAI,CAACoa,KAAL,CAAWY,GAAf,EAAoBhb,IAAI,CAACoa,KAAL,CAAWY,GAAX,GAAiB,EAAjB;AACpBhb,gBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,2BAAa;AAAE,0BAAU;AAAZ;AAAf,aAApB;AACAvI,gBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,2BAAa;AAAE,0BAAU;AAAZ;AAAf,aAApB;AACAvI,gBAAI,CAACoa,KAAL,CAAWY,GAAX,CAAezS,IAAf,CAAoB;AAAE,2BAAa;AAAE,0BAAU;AAAZ;AAAf,aAApB;AACD;AACF;;AAEDhL,eAAO,CAACC,GAAR,CAAY,sCAAZ;AACAuB,oBAAY,CAAC+D,IAAb,CAAkB9C,IAAI,CAACoa,KAAvB,EAA8B5b,OAA9B,CAAsC,UAASuK,WAAT,EAAqB;AACzD,cAAGA,WAAH,EAAe;AACb,gBAAG,CAACwzB,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAACiM,WAAD,EAAc,KAAd,CAAf,CAAJ,EAAyC;AACvC,kBAAI+1B,cAAc,GAAG;AACnBT,qBAAK,EAAE,cADY;AAEnBP,uBAAO,EAAEhhC,GAAG,CAACiM,WAAD,EAAc,KAAd,EAAqB,EAArB,CAFO;AAGnB9H,kBAAE,EAAEnE,GAAG,CAACiM,WAAD,EAAc,KAAd,EAAqB,EAArB,CAHY;AAInBgzB,uBAAO,EAAE,EAJU;AAKnBtC,qBAAK,EAAE,IALY;AAMnBC,mBAAG,EAAE,IANc;AAOnB;AACA;AACA;AACAvV,oBAAI,EAAE,OAVa;AAWnBhe,qBAAK,EAAE+3B;AAXY,eAArB;;AAcA,kBAAGphC,GAAG,CAACiM,WAAD,EAAc,WAAd,CAAN,EAAiC;AAC/B+1B,8BAAc,CAAC/C,OAAf,GAAyBj/B,GAAG,CAACiM,WAAD,EAAc,WAAd,CAA5B;AACD,eAFD,MAEO,IAAGjM,GAAG,CAACiM,WAAD,EAAc,wBAAd,CAAN,EAA8C;AACnD+1B,8BAAc,CAAC/C,OAAf,GAAyBj/B,GAAG,CAACiM,WAAD,EAAc,wBAAd,CAA5B;AACD;;AAED,kBAAGjM,GAAG,CAACiM,WAAD,EAAc,qBAAd,CAAN,EAA2C;AACzC+1B,8BAAc,CAAC/C,OAAf,GAAyB+C,cAAc,CAAC/C,OAAf,GAAyB,KAAzB,GAAiCj/B,GAAG,CAACiM,WAAD,EAAc,qBAAd,CAA7D;AACD,eAFD,MAGA,IAAGjM,GAAG,CAACiM,WAAD,EAAc,oBAAd,CAAN,EAA0C;AACxC+1B,8BAAc,CAAC/C,OAAf,GAAyB+C,cAAc,CAAC/C,OAAf,GAAyB,KAAzB,GAAiCj/B,GAAG,CAACiM,WAAD,EAAc,oBAAd,CAA7D;AACD,eAFD,MAGA,IAAGjM,GAAG,CAACiM,WAAD,EAAc,aAAd,CAAN,EAAmC;AACjC+1B,8BAAc,CAAC/C,OAAf,GAAyB+C,cAAc,CAAC/C,OAAf,GAAyB,KAAzB,GAAiCj/B,GAAG,CAACiM,WAAD,EAAc,aAAd,CAA7D;AACD;;AACD+1B,4BAAc,CAAC/C,OAAf,GAAyB+C,cAAc,CAAC/C,OAAf,CAAuBrkB,SAAvB,CAAiC,CAAjC,EAAoC,EAApC,CAAzB;;AAEA,kBAAG5a,GAAG,CAACiM,WAAD,EAAc,mBAAd,CAAN,EAAyC;AACvC+1B,8BAAc,CAACrF,KAAf,GAAuB38B,GAAG,CAACiM,WAAD,EAAc,mBAAd,CAA1B;AACD,eAFD,MAEO,IAAGjM,GAAG,CAACiM,WAAD,EAAc,iBAAd,CAAN,EAAuC;AAC5C+1B,8BAAc,CAACrF,KAAf,GAAuB38B,GAAG,CAACiM,WAAD,EAAc,uBAAd,CAA1B;AACA+1B,8BAAc,CAACpF,GAAf,GAAqB58B,GAAG,CAACiM,WAAD,EAAc,qBAAd,CAAxB;AACD,eAHM,MAGA;AACL+1B,8BAAc,CAACrF,KAAf,GAAuB38B,GAAG,CAACiM,WAAD,EAAc,QAAd,CAA1B;AACA+1B,8BAAc,CAACZ,UAAf,GAA4B,2DAA5B;AACAY,8BAAc,CAACC,SAAf,GAA2B,iBAA3B;AACD;;AAED,kBAAGD,cAAc,CAACrF,KAAlB,EAAwB;AACtB8C,uBAAO,CAACzC,GAAR,CAAYgF,cAAZ;AACD;AACF;AACF;AACF,SAlDD;AAoDAvhC,eAAO,CAACC,GAAR,CAAY,oCAAZ;AACAyB,kBAAU,CAAC6D,IAAX,GAAkBtE,OAAlB,CAA0B,UAAS0nB,SAAT,EAAmB;AAC3C,cAAGA,SAAH,EAAa;AACX,gBAAG,CAACqW,OAAO,CAACz/B,GAAR,CAAYA,GAAG,CAACopB,SAAD,EAAY,KAAZ,CAAf,CAAJ,EAAuC;AACrC,kBAAI8Y,YAAY,GAAG;AACjB;AACAlB,uBAAO,EAAEhhC,GAAG,CAACopB,SAAD,EAAY,KAAZ,EAAmB,EAAnB,CAFK;AAGjBjlB,kBAAE,EAAEnE,GAAG,CAACopB,SAAD,EAAY,KAAZ,EAAmB,EAAnB,CAHU;AAIjB;AACA6V,uBAAO,EAAGj/B,GAAG,CAACopB,SAAD,EAAY,WAAZ,CALI;AAMjBmY,qBAAK,EAAE,YANU;AAOjB5E,qBAAK,EAAEp0B,MAAM,CAACvI,GAAG,CAACopB,SAAD,EAAY,mBAAZ,CAAJ,CAAN,CAA4Cjd,MAA5C,CAAmD,YAAnD,CAPU;AAQjBkb,oBAAI,EAAE,OARW;AASjBhe,qBAAK,EAAE+3B;AATU,eAAnB;;AAYA,kBAAGphC,GAAG,CAACopB,SAAD,EAAY,WAAZ,CAAN,EAA+B;AAC7B8Y,4BAAY,CAACjD,OAAb,GAAuBj/B,GAAG,CAACopB,SAAD,EAAY,WAAZ,CAA1B;AACD,eAFD,MAEO,IAAIppB,GAAG,CAACopB,SAAD,EAAY,qBAAZ,CAAP,EAA0C;AAC/C8Y,4BAAY,CAACjD,OAAb,GAAuBj/B,GAAG,CAACopB,SAAD,EAAY,qBAAZ,CAA1B;AACD;;AAED,kBAAGppB,GAAG,CAACopB,SAAD,EAAY,mBAAZ,CAAN,EAAuC;AACrC8Y,4BAAY,CAACvF,KAAb,GAAqB38B,GAAG,CAACopB,SAAD,EAAY,mBAAZ,CAAxB;AACD,eAFD,MAEO,IAAIppB,GAAG,CAACopB,SAAD,EAAY,uBAAZ,CAAP,EAA4C;AACjD8Y,4BAAY,CAACvF,KAAb,GAAqB38B,GAAG,CAACopB,SAAD,EAAY,yBAAZ,CAAxB;AACD;;AAED,kBAAIppB,GAAG,CAACopB,SAAD,EAAY,qBAAZ,CAAP,EAA0C;AACxC8Y,4BAAY,CAACtF,GAAb,GAAmB58B,GAAG,CAACopB,SAAD,EAAY,uBAAZ,CAAtB;AACD,eAFD,MAEO;AACL;AACA;AACA;AACA8Y,4BAAY,CAACtF,GAAb,GAAmB58B,GAAG,CAACopB,SAAD,EAAY,yBAAZ,CAAtB;AACD;;AAED,kBAAG8Y,YAAY,CAACvF,KAAhB,EAAsB;AACpB8C,uBAAO,CAACzC,GAAR,CAAYkF,YAAZ;AACD;AACF;AACF;AACF,SAzCD;AA0CD,OAhmBa,CAkmBd;AAEA;AACA;AAEA;;;AACA,UAAMC,KAAK,GAAGniC,GAAG,CAACK,MAAM,CAACkC,IAAP,EAAD,EAAgB,+BAAhB,EACf;AACA,OAAC,YAAD,EAAe,kBAAf,EAAmC,cAAnC,EAAmD,YAAnD,EAAiE,WAAjE,EAA8E,WAA9E,EAA2F,eAA3F,CAFe,CAAjB;;AAIA,WAAK,IAAI6/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACn+B,MAA1B,EAAkCo+B,CAAC,EAAnC,EAAuC;AACrCl/B,YAAI,CAAC64B,MAAL,CAAYtwB,IAAZ,CAAiB;AAAEtH,YAAE,EAAEg+B,KAAK,CAACC,CAAD,CAAX;AAAgBnD,iBAAO,EAAEkD,KAAK,CAACC,CAAD;AAA9B,SAAjB;AACD;;AAEDl/B,UAAI,CAAC44B,KAAL,GAAa2D,OAAO,CAACz/B,GAAR,EAAb,CAhnBc,CAknBd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAS,aAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CwC,IAA3C;AACA,aAAOA,IAAP;AACD;;;;;SACDm/B,iB;iCAAmB;AACjBl/B,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,KAAlC;AACD;;;;;SACDw8B,U;wBAAW72B,K,EAAM;AACftI,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BqI,KAA1B;AACA,UAAIu5B,kBAAkB,GAAG7C,OAAO,CAACz/B,GAAR,CAAY+I,KAAK,CAAC+yB,KAAN,CAAY,CAAZ,CAAZ,CAAzB;AACAr7B,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC4hC,kBAAlC;AAEA,UAAIC,oBAAJ;;AACA,UAAGD,kBAAkB,CAACf,KAAtB,EAA4B;AAC1BgB,4BAAoB,GAAGniC,KAAK,CAACsE,UAAN,CAAiB1E,GAAjB,CAAqBsiC,kBAAkB,CAACf,KAAxC,EAA+Cr8B,OAA/C,CAAuD;AAACd,aAAG,EAAEk+B,kBAAkB,CAACtB;AAAzB,SAAvD,CAAvB;AACAvgC,eAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC6hC,oBAApC;AACAp/B,eAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCm/B,oBAAtC;AACAp/B,eAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0Ck/B,kBAAkB,CAACf,KAA7D;AACAp+B,eAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDk/B,kBAAkB,CAACrD,OAApE;AACD;;AAED97B,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,IAAlC;AAEA2F,WAAK,CAACoC,KAAN,CAAYqW,cAAZ;AACAzY,WAAK,CAACoC,KAAN,CAAYq3B,eAAZ;AACD;;;;;SACD3C,a;2BAAc92B,K,EAAM;AAClB,UAAGA,KAAK,IAAIA,KAAK,CAACoC,KAAlB,EAAwB;AACtBpC,aAAK,CAACoC,KAAN,CAAYqW,cAAZ;AACAzY,aAAK,CAACoC,KAAN,CAAYq3B,eAAZ;AACD;AACF;;;;;SACD95B,M;sBAAQ;AAEN,UAAI+5B,YAAY,GAAG,CACjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAAC,UAAD;AACE,aAAK,EAAC,QADR;AAEE,eAAO,EAAE,IAFX;AAGE,eAAO,EAAE,KAAKJ;AAHhB,QAPiB,CAAnB;AAcA,UAAIv+B,IAAI,GAAG,IAAX;AAEA,UAAI4+B,aAAJ;AACA,UAAIh/B,YAAY,GAAG,EAAnB;AACA,UAAIi/B,WAAW,GAAG,EAAlB;;AACA,cAAQ,KAAKz/B,IAAL,CAAUw9B,0BAAlB;AACE,aAAK,WAAL;AACEh9B,sBAAY,GAAG,UAAf;AACAi/B,qBAAW,GAAG3iC,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAjB;AACA0iC,uBAAa,GAAG,oBAAC,cAAD;AACd,qBAAS,EAAE,KADG;AAEd,oBAAQ,EAAG1iC,GAAG,CAAC,IAAD,EAAO,6BAAP,CAFA;AAGd,sBAAU,EAAGA,GAAG,CAAC,IAAD,EAAO,gCAAP;AAHF,YAAhB;AAKA;;AACF,aAAK,YAAL;AACE0D,sBAAY,GAAG,WAAf;AACAi/B,qBAAW,GAAG3iC,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAjB;AACA0iC,uBAAa,GAAG,oBAAC,eAAD;AACd,qBAAS,EAAE,KADG;AAEd,6BAAiB,EAAE,KAFL;AAGd,qBAAS,EAAG1iC,GAAG,CAAC,IAAD,EAAO,6BAAP,CAHD;AAId,uBAAW,EAAGA,GAAG,CAAC,IAAD,EAAO,gCAAP;AAJH,YAAhB;AAMA;;AACF,aAAK,cAAL;AACE0D,sBAAY,GAAG,aAAf;AACAi/B,qBAAW,GAAG3iC,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAjB;AACA0iC,uBAAa,GAAG,oBAAC,iBAAD;AACd,6BAAiB,EAAE,IADL;AAEd,2BAAe,EAAE,KAFH;AAGd,qBAAS,EAAE,KAHG;AAId,6BAAiB,EAAE,KAJL;AAKd,uBAAW,EAAG1iC,GAAG,CAAC,IAAD,EAAO,6BAAP,CALH;AAMd,yBAAa,EAAGA,GAAG,CAAC,IAAD,EAAO,gCAAP;AANL,YAAhB;AAQA;;AAEF,aAAK,eAAL;AACE0D,sBAAY,GAAG,cAAf;AACAi/B,qBAAW,GAAG3iC,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAjB;AACA0iC,uBAAa,GAAG,oBAAC,kBAAD;AACd,6BAAiB,EAAE,IADL;AAEd,2BAAe,EAAE,KAFH;AAGd,qBAAS,EAAE,KAHG;AAId,6BAAiB,EAAE,KAJL;AAKd,wBAAY,EAAG1iC,GAAG,CAAC,IAAD,EAAO,6BAAP,CALJ;AAMd,0BAAc,EAAGA,GAAG,CAAC,IAAD,EAAO,gCAAP;AANN,YAAhB;AAQA;;AAEF,aAAK,kBAAL;AACE0D,sBAAY,GAAG,iBAAf;AACAi/B,qBAAW,GAAG3iC,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAjB;AACA0iC,uBAAa,GAAG,oBAAC,qBAAD;AACd,6BAAiB,EAAE,IADL;AAEd,2BAAe,EAAE,KAFH;AAGd,qBAAS,EAAE,KAHG;AAId,6BAAiB,EAAE,KAJL;AAKd,2BAAe,EAAG1iC,GAAG,CAAC,IAAD,EAAO,6BAAP,CALP;AAMd,6BAAiB,EAAGA,GAAG,CAAC,IAAD,EAAO,gCAAP;AANT,YAAhB;AAQA;;AAEF,aAAK,YAAL;AACE0D,sBAAY,GAAG,WAAf;AACAi/B,qBAAW,GAAG3iC,GAAG,CAAC,IAAD,EAAO,wCAAP,CAAjB;AACA0iC,uBAAa,GAAG,oBAAC,eAAD;AACd,6BAAiB,EAAE,IADL;AAEd,2BAAe,EAAE,KAFH;AAGd,qBAAS,EAAE,KAHG;AAId,6BAAiB,EAAE,KAJL;AAKd,qBAAS,EAAG1iC,GAAG,CAAC,IAAD,EAAO,6BAAP,CALD;AAMd,uBAAW,EAAGA,GAAG,CAAC,IAAD,EAAO,gCAAP;AANH,YAAhB;AAQA;;AAIF;AACE;AA3EJ;;AA+EA,aACE;AAAK,UAAE,EAAC,oBAAR;AAA6B,aAAK,EAAE;AAAC4iC,oBAAU,EAAE,MAAb;AAAqBC,uBAAa,EAAE,MAApC;AAA4CzU,yBAAe,EAAE;AAA7D;AAApC,SACI,KAAKuR,QADT,EAEE,oBAAC,MAAD;AACI,eAAO,EAAE8C,YADb;AAEI,aAAK,EAAE,KAFX;AAGI,YAAI,EAAE,KAAKv/B,IAAL,CAAU68B,kBAHpB,CAII;;AAJJ,SAMI,oBAAC,SAAD;AAAW,aAAK,EAAE4C,WAAlB;AAA+B,gBAAQ,EAAEj/B;AAAzC,QANJ,EAOI,oBAAC,QAAD,QACIg/B,aADJ,CAPJ,CAFF,CADF;AAgBD;;;;;;EAtyByC16B,KAAK,CAACuE,S;;AAwyBlDrE,UAAU,CAACzB,sBAAsB,CAAC+F,SAAxB,EAAmCvE,eAAnC,CAAV;AAr4BAhI,MAAM,CAACmF,aAAP,CAs4BeqB,sBAt4Bf,E","file":"/packages/symptomatic_continuity-of-care.js","sourcesContent":["import { get } from 'lodash';\nimport { Mongo } from 'meteor/mongo';\nimport { Meteor } from 'meteor/meteor';\n\n\n\n\nvar callback = function (msg) {\n  // wrapping in a timeout because of a possbile native UI element blocking the webview\n  setTimeout(function () {\n    // alert(JSON.stringify(msg))\n    console.log(JSON.stringify(msg))\n  }, 0);\n};\n\nMedicalRecordImporter = {\n  healthRecord: function(){\n    console.log('=====================================================')\n    console.log('MedicalRecordImporter.healthRecord()', JSON.stringify(window.plugins));\n\n      window.plugins.healthkit.available(\n          callback,\n          callback\n      );\n\n      // or any of these HKClinicalType for readTypes \n\n      // 'HKCharacteristicTypeIdentifierFitzpatrickSkinType',\n      // 'HKCharacteristicTypeIdentifierWheelchairUse',\n\n      // 'HKCharacteristicTypeIdentifierDateOfBirth',\n      // 'HKCharacteristicTypeIdentifierBiologicalSex',\n      // 'HKCharacteristicTypeIdentifierBloodType',\n\n      // 'HKFHIRResourceTypeAllergyIntolerance',\n      // 'HKFHIRResourceTypeImmunization',\n      // 'HKFHIRResourceTypeMedicationDispense',\n      // 'HKFHIRResourceTypeMedicationOrder',\n      // 'HKFHIRResourceTypeMedicationStatement',\n      // 'HKFHIRResourceTypeObservation',\n      // 'HKFHIRResourceTypeProcedure'\n\n      window.plugins.healthkit.requestAuthorization(\n          {\n            readTypes: [\n              'HKClinicalTypeIdentifierAllergyRecord',\n              'HKClinicalTypeIdentifierConditionRecord',\n              'HKClinicalTypeIdentifierImmunizationRecord',\n              'HKClinicalTypeIdentifierLabResultRecord',\n              'HKClinicalTypeIdentifierMedicationRecord',\n\n              'HKClinicalTypeIdentifierProcedureRecord',\n              'HKClinicalTypeIdentifierVitalSignRecord'\n            ],\n            writeTypes: []\n          },\n          function(msg){console.log('requestAuthorization.ok', msg)},\n          function(msg){console.log('requestAuthorization.nok', msg)}\n      );\n\n      // console.log('-------------------------------------------')\n      // console.log('queryClinicalSampleType')\n      // window.plugins.healthkit.queryClinicalSampleType(\n      //   {\n      //     'startDate': new Date(new Date().getTime() - 365 * 24 * 60 * 60 * 1000 * 10) , // 365 days ago\n      //     'endDate': new Date(), // now\n      //     sampleType: 'HKClinicalTypeIdentifierAllergyRecord'\n      //     // fhirResourceType: 'HKFHIRResourceTypeAllergyIntolerance'\n      //   },\n      //   function(results){\n      //     console.log('HKFHIRResourceTypeAllergyIntolerance.ok', JSON.stringify(results))\n      //     results.forEach(function(record){\n      //       if(get(record, 'FHIRResource.data.resourceType') === \"AllergyIntolerance\"){\n      //         AllergyIntolerances._collection.insert(get(record, 'FHIRResource.data'));\n      //       }\n      //     })\n      //   },\n      // function(msg){console.log('HKFHIRResourceTypeAllergyIntolerance.nok', msg)}\n      // );\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeAllergyIntolerance')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          fhirResourceType: 'HKFHIRResourceTypeAllergyIntolerance',\n          sampleType: 'HKClinicalTypeIdentifierAllergyRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeAllergyIntolerance.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"AllergyIntolerance\"){\n              AllergyIntolerances._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n      function(msg){console.log('HKFHIRResourceTypeAllergyIntolerance.nok', msg)}\n      );\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeCondition')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          fhirResourceType: 'HKFHIRResourceTypeCondition',\n          sampleType: 'HKClinicalTypeIdentifierConditionRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeCondition.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"Condition\"){\n              Conditions._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(msg){console.log('HKFHIRResourceTypeCondition.nok', msg)}\n      );\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeImmunization')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          fhirResourceType: 'HKFHIRResourceTypeImmunization',\n          sampleType: 'HKClinicalTypeIdentifierImmunizationRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeImmunization.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"Immunization\"){\n              Immunizations._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(msg){console.log('HKFHIRResourceTypeImmunization.nok', msg)}\n      );\n\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeObservation')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          'fhirResourceType': 'HKFHIRResourceTypeObservation',\n          'sampleType': 'HKClinicalTypeIdentifierLabResultRecord'\n          // 'startDate': new Date(new Date().getTime() - 365 * 24 * 60 * 60 * 1000), // 365 days ago\n          // 'endDate': new Date(), // now\n        },\n        function(results){\n          console.log('HKClinicalTypeIdentifierLabResultRecord.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"Observation\"){\n              Observations._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(){console.log('HKFHIRResourceTypeObservation.nok')}\n      );\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeMedicationOrder')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          'fhirResourceType': 'HKFHIRResourceTypeMedicationOrder',\n          'sampleType': 'HKClinicalTypeIdentifierMedicationRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeMedicationOrder.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"MedicationOrder\"){\n              MedicationOrders._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(){console.log('HKFHIRResourceTypeMedicationOrder.nok')}\n      );\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeMedicationStatement')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          'fhirResourceType': 'HKFHIRResourceTypeMedicationStatement',\n          'sampleType': 'HKClinicalTypeIdentifierMedicationRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeMedicationStatement.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"MedicationStatement\"){\n              MedicationOrders._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(){console.log('HKFHIRResourceTypeMedicationStatement.nok')}\n      );\n\n      console.log('-------------------------------------------')\n      console.log('HKFHIRResourceTypeProcedure')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType(\n        {\n          fhirResourceType: 'HKFHIRResourceTypeProcedure',\n          sampleType: 'HKClinicalTypeIdentifierProcedureRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeProcedure.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"Procedure\"){\n              Procedures._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(){console.log('HKFHIRResourceTypeProcedure.nok')}\n      );\n\n      console.log('-------------------------------------------')\n      console.log('HKClinicalTypeIdentifierVitalSignRecord')\n      window.plugins.healthkit.queryForClinicalRecordsWithFHIRResourceType({\n        'fhirResourceType': 'HKFHIRResourceTypeObservation',\n        'sampleType': 'HKClinicalTypeIdentifierVitalSignRecord'\n        },\n        function(results){\n          console.log('HKFHIRResourceTypeObservation.ok', JSON.stringify(results))\n          results.forEach(function(record){\n            if(get(record, 'FHIRResource.data.resourceType') === \"Observation\"){\n              Observations._collection.insert(get(record, 'FHIRResource.data'));\n            }\n          })\n        },\n        function(){console.log('HKFHIRResourceTypeObservation.nok')}\n      );\n      \n      // // or any of these other HKFHIRResourceType\n      // // HKFHIRResourceTypeAllergyIntolerance',\n      // // HKFHIRResourceTypeImmunization\n      // // HKFHIRResourceTypeMedicationDispense\n      // // HKFHIRResourceTypeMedicationOrder\n      // // HKFHIRResourceTypeMedicationStatement\n      // // HKFHIRResourceTypeObservation\n      // // HKFHIRResourceTypeProcedure\n      // // or any of these other HKClinicalType\n      // // HKClinicalTypeIdentifierImmunizationRecord\n      // // HKClinicalTypeIdentifierLabResultRecord\n      // // HKClinicalTypeIdentifierMedicationRecord\n      // // HKClinicalTypeIdentifierProcedureRecord\n      // // HKClinicalTypeIdentifierVitalSignRecord\n\n\n      // window.plugins.healthkit.readDateOfBirth(\n      //   function(data){console.log('readDateOfBirth.ok', JSON.stringify(data))},\n      //   function(){console.log('readDateOfBirth.nok')}\n      // );\n      // window.plugins.healthkit.readGender(\n      //   function(data){console.log('readGender.ok', JSON.stringify(data))},\n      //   function(){console.log('readGender.nok')}\n      // );\n      // window.plugins.healthkit.readBloodType(\n      //   function(data){console.log('readBloodType.ok', JSON.stringify(data))},\n      //   function(){console.log('readBloodType.nok')}\n      // );\n      // window.plugins.healthkit.readFitzpatrickSkinType(\n      //   function(data){console.log('readFitzpatrickSkinType.ok', JSON.stringify(data))},\n      //   function(){console.log('readFitzpatrickSkinType.nok')}\n      // );\n      // window.plugins.healthkit.readWeight({\n      //     'requestWritePermission': true, // use if your app doesn't need to write\n      //     'unit': 'kg'\n      //   },\n      //   function(data){console.log('readWeight.ok', JSON.stringify(data))},\n      //   function(){console.log('readWeight.nok')}\n      // );\n      // window.plugins.healthkit.readHeight({\n      //     'requestWritePermission': false,\n      //     'unit': 'cm' // m|cm|mm|in|ft\n      //   },\n      //   function(data){console.log('readHeight.ok', JSON.stringify(data))},\n      //   function(){console.log('readHeight.nok')}\n      // );\n\n      let importRecordEvent = { \n        \"resourceType\" : \"AuditEvent\",\n        \"action\" : 'Health Record Importer',\n        \"recorded\" : new Date(), \n        \"outcome\" : 'Success',\n        \"outcomeDesc\" : 'User imported records from Apple Health Records.',\n        \"agent\" : [{\n          \"altId\" : Meteor.userId() ? Meteor.userId() : '', // Alternative User id e.g. authentication\n          \"name\" : Meteor.user() ? Meteor.user().fullName() : '', // Human-meaningful name for the agent\n          \"requestor\" : true  \n        }],\n        \"source\" : { \n          \"site\" : Meteor.absoluteUrl(),\n          \"identifier\": {\n            \"value\": 'Accounts Subsystem'\n          }\n        },\n        \"entity\": []\n      }      \n\n      // HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Procedures\", recordId: self.state.procedureId });\n      HipaaLogger.logAuditEvent(importRecordEvent, {validate: get(Meteor, 'settings.public.defaults.schemas.validate', false)}, function(error, result){\n        if(error) console.error('HipaaLogger.logEvent.error.invalidKeys', error.invalidKeys)\n        if(result) console.error(result)\n      }); \n\n\n  },\n  coreBiomarkers: function(){\n    console.log('=====================================================')\n    console.log('MedicalRecordImporter.coreBiomarkers()', window.plugins)\n\n      window.plugins.healthkit.available(\n          callback,\n          callback\n      );\n      // or any of these HKClinicalType for readTypes \n\n      // 'HKCharacteristicTypeIdentifierDateOfBirth',\n      // 'HKCharacteristicTypeIdentifierBiologicalSex',\n      // 'HKCharacteristicTypeIdentifierBloodType',\n      // 'HKCharacteristicTypeIdentifierFitzpatrickSkinType',\n      // 'HKCharacteristicTypeIdentifierWheelchairUse',\n\n      // 'HKFHIRResourceTypeAllergyIntolerance',\n      // 'HKFHIRResourceTypeImmunization',\n      // 'HKFHIRResourceTypeMedicationDispense',\n      // 'HKFHIRResourceTypeMedicationOrder',\n      // 'HKFHIRResourceTypeMedicationStatement',\n      // 'HKFHIRResourceTypeObservation',\n      // 'HKFHIRResourceTypeProcedure'\n\n      window.plugins.healthkit.requestAuthorization(\n          {\n            readTypes: [\n              'HKClinicalTypeIdentifierAllergyRecord',\n              'HKClinicalTypeIdentifierConditionRecord',\n              'HKClinicalTypeIdentifierImmunizationRecord',\n              'HKClinicalTypeIdentifierLabResultRecord',\n              'HKClinicalTypeIdentifierMedicationRecord',\n\n              'HKClinicalTypeIdentifierProcedureRecord',\n              'HKClinicalTypeIdentifierVitalSignRecord',\n\n              'HKCharacteristicTypeIdentifierDateOfBirth',\n              'HKCharacteristicTypeIdentifierBiologicalSex',\n              'HKCharacteristicTypeIdentifierBloodType',\n              'HKCharacteristicTypeIdentifierFitzpatrickSkinType',\n              'HKCharacteristicTypeIdentifierWheelchairUse'\n            ],\n            writeTypes: []\n          },\n          function(msg){console.log('requestAuthorization.ok', msg)},\n          function(msg){console.log('requestAuthorization.nok', msg)}\n      );\n\n      // // or any of these other HKFHIRResourceType\n      // // HKFHIRResourceTypeAllergyIntolerance',\n      // // HKFHIRResourceTypeImmunization\n      // // HKFHIRResourceTypeMedicationDispense\n      // // HKFHIRResourceTypeMedicationOrder\n      // // HKFHIRResourceTypeMedicationStatement\n      // // HKFHIRResourceTypeObservation\n      // // HKFHIRResourceTypeProcedure\n      // // or any of these other HKClinicalType\n      // // HKClinicalTypeIdentifierImmunizationRecord\n      // // HKClinicalTypeIdentifierLabResultRecord\n      // // HKClinicalTypeIdentifierMedicationRecord\n      // // HKClinicalTypeIdentifierProcedureRecord\n      // // HKClinicalTypeIdentifierVitalSignRecord\n\n      window.plugins.healthkit.readDateOfBirth(\n        function(data){\n          console.log('readDateOfBirth.ok', JSON.stringify(data));\n          Session.set('HKCharacteristicTypeIdentifierDateOfBirth', data)      \n        },\n        function(){console.log('readDateOfBirth.nok')}\n      );\n      window.plugins.healthkit.readGender(\n        function(data){\n          console.log('readGender.ok', JSON.stringify(data))\n          Session.set('HKCharacteristicTypeIdentifierBiologicalSex', data)\n\n          if(data === \"male\"){\n            Session.set('genderMaleBtn', true)\n            Session.set('anatomyPhallicBtn', true)\n        \n            Session.set('genderFemaleBtn', false)\n            Session.set('anatomyYanicBtn', false)        \n          }\n          if(data === \"female\"){\n            Session.set('genderFemaleBtn', true)\n            Session.set('anatomyYanicBtn', true)\n        \n            Session.set('genderMaleBtn', false)\n            Session.set('anatomyPhallicBtn', false)\n          }\n        },\n        function(){console.log('readGender.nok')}\n      );\n      window.plugins.healthkit.readBloodType(\n        function(data){\n          console.log('readBloodType.ok', JSON.stringify(data))\n          Session.set('HKCharacteristicTypeIdentifierBloodType', data)\n        },\n        function(){console.log('readBloodType.nok')}\n      );\n      window.plugins.healthkit.readFitzpatrickSkinType(\n        function(data){\n          console.log('readFitzpatrickSkinType.ok', JSON.stringify(data))\n          Session.set('HKCharacteristicTypeIdentifierFitzpatrickSkinType', data)\n          Session.set('selectedFitzpatrick', data)\n        },\n        function(){console.log('readFitzpatrickSkinType.nok')}\n      );\n      window.plugins.healthkit.readWheelchairUse(\n        function(data){\n          console.log('readWheelchairUse.ok', JSON.stringify(data))\n          Session.set('HKCharacteristicTypeIdentifierWheelchairUse', data)\n        },\n        function(){console.log('readWheelchairUse.nok')}\n      );\n\n      // window.plugins.healthkit.readWeight({\n      //     'requestWritePermission': true, // use if your app doesn't need to write\n      //     'unit': 'kg'\n      //   },\n      //   function(data){console.log('readWeight.ok', JSON.stringify(data))},\n      //   function(){console.log('readWeight.nok')}\n      // );\n      // window.plugins.healthkit.readHeight({\n      //     'requestWritePermission': false,\n      //     'unit': 'cm' // m|cm|mm|in|ft\n      //   },\n      //   function(data){console.log('readHeight.ok', JSON.stringify(data))},\n      //   function(){console.log('readHeight.nok')}\n      // );\n\n      // HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Procedures\", recordId: self.state.procedureId });\n  },\n  pluralizeResourceName: function(resourceType){\n    var pluralized = '';\n    switch (resourceType) {\n      case 'Binary':          \n        pluralized = 'Binaries';\n        break;\n      case 'Library':      \n        pluralized = 'Libraries';\n        break;\n      case 'SupplyDelivery':      \n        pluralized = 'SupplyDeliveries';\n        break;\n      case 'ImagingStudy':      \n        pluralized = 'ImagingStudies';\n        break;        \n      case 'FamilyMemberHistory':      \n        pluralized = 'FamilyMemberHistories';\n        break;        \n      case 'ResearchStudy':      \n        pluralized = 'ResearchStudies';\n        break;        \n      default:\n        pluralized = resourceType + 's';\n        break;\n    }\n\n    return pluralized;\n  },\n  importBundle: function(dataContent){    \n    let self = this;\n\n    if(dataContent.resourceType === \"Bundle\"){\n      console.log('Found a FHIR bundle!');\n      console.log('There appear to be ' + dataContent.entry.length + ' resources in the bundle.')\n\n      // as a Bundle, we know it's going to have an entries array\n      // so, we're going to loop through each entry, looking for it's resource\n      dataContent.entry.forEach(function(entry){          \n        if(get(entry, 'resource.resourceType')){\n          console.log('Found a ' + get(entry, 'resource.resourceType'));\n          console.log('Found a ' + get(entry, 'resource'));\n\n          var newRecord = entry.resource;\n          console.log('newRecord', newRecord)\n\n          if(!newRecord.id){\n            if(newRecord._id){\n              newRecord.id = entry.resource._id;\n            } else {\n              let newId = Random.id();\n              newRecord.id = newId;\n              newRecord._id = newId;\n            }\n          }\n\n          process.env.NODE_ENV === \"verbose\" && console.log('newRecord', newRecord)\n          // does this need to be on a toggle?\n          // delete entry.resource._id;\n\n          if(Mongo.Collection.get(self.pluralizeResourceName(get(entry, 'resource.resourceType')))){\n\n            // checking if there's a pub/sub\n            let subscriptionActivated = false;\n            Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n              var record = Meteor.default_connection._subscriptions[key];\n              if(record.name === self.pluralizeResourceName(get(entry, 'resource.resourceType'))){\n                subscriptionActivated = true;\n              }\n            });\n            \n            if(subscriptionActivated){\n              // this should only be run if there's a pubsub, and the cursors are synchronized\n              if(!Mongo.Collection.get(self.pluralizeResourceName(get(entry, 'resource.resourceType'))).findOne(newRecord._id)){\n                Mongo.Collection.get(self.pluralizeResourceName(get(entry, 'resource.resourceType'))).insert(newRecord, {}, {validate: false, filter: false}, function(error){\n                  if(error) console.log('Mongo.Collection.get(self.pluralizeResourceName(entry.resource.resourceType)).insert.error', error)\n                });  \n              }\n            } else {\n              // this should only be run if there's not a pubsub, and the cursors are effectively running offline\n              if(!Mongo.Collection.get(self.pluralizeResourceName(get(entry, 'resource.resourceType')))._collection.findOne(newRecord._id)){\n                Mongo.Collection.get(self.pluralizeResourceName(get(entry, 'resource.resourceType')))._collection.insert(newRecord, {}, {validate: false, filter: false}, function(error){\n                  if(error) console.log('Mongo.Collection.get(self.pluralizeResourceName(entry.resource.resourceType))._collection.insert.error', error)\n                });  \n              }\n            }\n          }\n        }\n      })\n\n    // if it's not an array...\n    } else {\n      // let's check that it's of a resourceType that we support and have a data collection for\n      if(Mongo.Collection.get(self.pluralizeResourceName(get(dataContent, 'resourceType')))){\n\n        // then we need to look in that collection, and determine if the record already exists; if it doesn't...\n        if(Mongo.Collection.get(self.pluralizeResourceName(get(dataContent, 'resourceType')))._collection.findOne(get(dataContent, '_id'))){\n          console.log('Found a pre-existing record in the ' + self.pluralizeResourceName(get(dataContent, 'resourceType')) + ' collection with the same _id');\n          return;\n        }\n        if(Mongo.Collection.get(self.pluralizeResourceName(get(dataContent, 'resourceType')))._collection.findOne(get(dataContent, 'id'))){\n          console.log('Found a pre-existing record in the ' + self.pluralizeResourceName(get(dataContent, 'resourceType')) + ' collection with the same id');\n          return;\n        }\n\n        // we can then insert the record into our local collection\n        Mongo.Collection.get(self.pluralizeResourceName(get(dataContent, 'resourceType')))._collection.insert(dataContent, function(error){\n          if(error) console.log('Mongo.Collection.get(self.pluralizeResourceName(dataContent.resourceType))._collection.insert.error', error)\n        });  \n      }\n    }    \n  }\n}\n\n\nexport default MedicalRecordImporter;","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\n\nimport { Practitioners } from 'meteor/clinical:hl7-resource-practitioner';\n\n\n// INSECURE; DELETE ME\nif (Meteor.isClient){\n  console.log('Subscribing to UserDirectory publication....')\n  Meteor.subscribe('userDirectory');\n\n  console.log('Subscribing to AuditLog publication....')\n  Meteor.subscribe('recentAuditEvents');\n  Meteor.subscribe('myAuditEvents');\n\n  // Meteor.startup(function(){\n  //   console.log('window.plugins.instabug.activate...')\n  //   window.plugins.instabug.activate(\n  //     {\n  //         ios: \"1e1d2c3755bd50dcd394390ec13df900\"\n  //     },\n  //     \"shake\",\n  //     {\n  //       commentRequired: true,\n  //       colorTheme: \"dark\"\n  //     },\n  //     function () {\n  //       console.log(\"Instabug initialized.\");\n  //     },\n  //     function (error) {\n  //       console.log(\"Instabug could not be initialized - \" + error);\n  //     }\n  //   );\n  // })\n}\n\n// INSECURE; DELETE ME\nif (Meteor.isServer){\n  Meteor.startup(function(){\n      console.log('Creating UserDirectory publication....')\n\n      Meteor.publish(\"userDirectory\", function (argument){          \n        if (this.userId) {\n            var currentUser = Meteor.users.findOne({_id: this.userId });\n            console.log('Checking currently logged in user while publishing the UserDirectory...');\n            // process.env.DEBUG && console.log(currentUser);\n\n            if(currentUser.roles.includes('practitioner')){\n                return Meteor.users.find();\n            }\n            if(currentUser.roles.includes('sysadmin')){\n                return Meteor.users.find();\n            }\n          } else {\n            return [];\n          } \n      });\n\n      Meteor.publish(\"recentAuditEvents\", function (argument){          \n        if (this.userId) {\n            var currentUser = Meteor.users.findOne({_id: this.userId });\n            console.log('Checking currently logged in user while publishing the AuditLog...');\n            // process.env.DEBUG && console.log(currentUser);\n\n            if(currentUser.roles.includes('practitioner')){\n                return AuditEvents.find();\n            }\n            if(currentUser.roles.includes('sysadmin')){\n                return AuditEvents.find();\n            }\n          } else {\n            return [];\n          } \n      });\n      Meteor.publish(\"myAuditEvents\", function (argument){          \n        if (this.userId) {\n            var currentUser = Meteor.users.findOne({_id: this.userId });\n            console.log('Checking currently logged in user while publishing the AuditLog...');\n            // process.env.DEBUG && console.log(currentUser);\n\n            if(currentUser.roles.includes('practitioner')){\n                return AuditEvents.find();\n            }\n            if(currentUser.roles.includes('sysadmin')){\n                return AuditEvents.find();\n            }\n          } else {\n            return [];\n          } \n      });\n\n  })\n}","import ContinuityOfCarePage from './client/ContinuityOfCarePage';\nimport HealthCardPage from './client/HealthCardPage';\nimport TimelinePage from './client/TimelinePage';\nimport TimelineSidescrollPage from './client/TimelineSidescrollPage';\nimport DataImportPage from './client/DataImportPage';\nimport CarePlanDesignerPage from './client/CarePlanDesignerPage';\nimport FormDesignerPage from './client/FormDesignerPage';\nimport FiltersPage from './client/FiltersPage';\nimport SupportPage from './client/SupportPage';\nimport ObservationsGraphPage from './client/ObservationsGraphPage';\nimport BiometricsDashboardPage from './client/BiometricsDashboardPage';\nimport ConversationalSignin from './client/ConversationalSignin';\n\nimport ExportPage from './client/ExportPage';\nimport ImportPage from './client/ImportPage';\n\nimport MedicalRecordImporter from './lib/MedicalRecordImporter.js';\n\nvar DynamicRoutes = [{\n  'name': 'Form Designer',\n  'path': '/form-designer',\n  'component': FormDesignerPage,\n  'requireAuth': true\n}, {\n  'name': 'Care Plan Designer',\n  'path': '/careplan-designer-new',\n  'component': CarePlanDesignerPage,\n  'requireAuth': true\n}, {\n  'name': 'Continuity Of Care Page',\n  'path': '/continuity-of-care',\n  'component': ContinuityOfCarePage,\n  'privacyEnabled': true\n}, {\n  'name': 'Timeline',\n  'path': '/timeline',\n  'component': TimelinePage,\n  'privacyEnabled': true,\n  'requireAuth': true\n}, {\n  'name': 'Timeline Sidescroll',\n  'path': '/timeline-sidescroll',\n  'component': TimelineSidescrollPage\n}, {\n  'name': 'Data Management',\n  'path': '/data-management',\n  'component': DataImportPage,\n  'requireAuth': true\n}, {\n  'name': 'Filters',\n  'path': '/filters',\n  'component': FiltersPage,\n  'privacyEnabled': true,\n  'requireAuth': true\n}, {\n  'name': 'Support',\n  'path': '/support',\n  'component': SupportPage  \n}, {\n  'name': 'Observations Graph Page',\n  'path': '/observations-graph',\n  'component': ObservationsGraphPage  \n}, {\n  'name': 'Conversational Signin',\n  'path': '/signin-conversational',\n  'component': ConversationalSignin  \n}, {\n  'name': 'Export',\n  'path': '/export-data',\n  'component': ExportPage,\n  'requireAuth': true\n}, {\n  'name': 'Import',\n  'path': '/import-data',\n  'component': ImportPage,\n  'requireAuth': true\n}, {\n  'name': 'HealthCardPage',\n  'path': '/healthcard',\n  'component': HealthCardPage,\n  'requireAuth': true\n}, {\n  'name': 'BiometricsDashboard',\n  'path': '/biometrics-dashboard',\n  'component': BiometricsDashboardPage,\n  'requireAuth': true\n}, {\n  'name': 'HealthCardPage',\n  'path': '/healthcard',\n  'component': HealthCardPage\n}];\n\n\n\nvar AdminSidebarElements = [{\n  'primaryText': 'Data Management',\n  'to': '/data-management',\n  'href': '/data-management'\n}];\n\n\nexport { \n  DynamicRoutes, \n  AdminDynamicRoutes,\n  AdminSidebarElements,\n  ContinuityOfCarePage, \n  HealthCardPage, \n  TimelinePage, \n  TimelineSidescrollPage,\n  DataImportPage,\n  CarePlanDesignerPage,\n  FormDesignerPage,\n  FiltersPage,\n  ExportPage,\n  ImportPage,\n  ObservationsGraphPage,\n  BiometricsDashboardPage,\n  ConversationalSignin,\n  MedicalRecordImporter\n};\n\n","import { CardMedia, CardText, CardTitle, CardHeader } from 'material-ui/Card';\nimport { GlassCard, VerticalCanvas, FullPageCanvas, Glass, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { browserHistory } from 'react-router';\n\nimport { get, has, uniq, uniqBy } from 'lodash';\nimport { moment } from 'meteor/momentjs:moment';\n\nimport { Session } from 'meteor/session';\nimport { ObservationsTable } from 'meteor/clinical:hl7-resource-observation';\nimport { Line } from 'nivo'\nimport { render } from 'react-dom'\n\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport faker from 'faker';\n\n// import { InlineMath, BlockMath } from 'react-katex';\n// import 'katex/dist/katex.min.css';\nSession.setDefault('currentObservationType', 'Pulse')\nSession.setDefault('patientLayout', 'quad');\n\nexport class BiometricsDashboardPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {\n\n    let imgHeight = (Session.get('appHeight') - 210) / 3;\n\n    let data = {\n      chart: {\n        width: Session.get('appWidth') * 0.667,  \n        height: Session.get('appHeight') - 168\n      },\n      style: {              \n        title: Glass.darkroom(),\n        subtitle: Glass.darkroom(),\n        tableCol: {\n          display: 'block',\n          marginBottom: '20px'\n        }\n      },\n      uniqueCodes: [],\n      currentObservationType: Session.get('currentObservationType'),\n      cohort: [{\n        // id: 'GeQjtdXb8qLw6CMpd',\n        title: faker.name.findName(),   \n        subtitle: '36yr F',             \n        patientReference: 'Patient/1'\n      }, {\n        // id: 'Ht3s9fWtdwjqxCwte',\n        title: faker.name.findName(),\n        subtitle: '31yr M',\n        patientReference: 'Patient/Anyman/Bob'\n      }, {\n        // id: 'Ht3s9fWtdwjqxCwte',\n        title: faker.name.findName(),\n        subtitle: '48yr F',\n        patientReference: 'Patient/Smart/Nancy'\n      }, {\n        // id: 'Ht3s9fWtdwjqxCwte',\n        title: faker.name.findName(),\n        subtitle: '22yr M',\n        patientReference: 'Patient/Argonaut/Jason'\n      }],\n      biomarkerSwimlanes: 1\n    };\n\n    var navHeight = 40;\n    if(Session.get('showNavbars')){\n      navHeight = 168;\n    }\n\n    switch (Session.get('patientLayout')) {\n      case 'oneup':\n        data.chart.height = Session.get('appHeight') - navHeight;\n        data.biomarkerSwimlanes = 1;\n        break;\n      case 'twoup':\n        var n = 2\n        data.chart.height = (Session.get('appHeight') - navHeight - ((n - 1) * 20)) / n;      \n        data.biomarkerSwimlanes = 2;\n      break;\n      case 'threeup':\n        var n = 3\n        data.chart.height = (Session.get('appHeight') - navHeight - ((n - 1) * 20)) / n;      \n        data.biomarkerSwimlanes = 3;\n      break;\n      case 'quad':\n        var n = 4;\n        data.chart.height = (Session.get('appHeight') - navHeight - ((n - 1) * 20)) / n;      \n        data.biomarkerSwimlanes = 4;\n      break;\n      case 'octet':\n        var n = 8;\n        data.chart.height = (Session.get('appHeight') - navHeight - ((n - 1) * 20)) / n;      \n        data.biomarkerSwimlanes = 8;\n      break;    \n      default:\n        break;\n    }  \n\n\n\n    data.style.indexCard = Glass.darkroom(data.style.indexCard);\n\n    // The `_.property` iteratee shorthand.\n    // _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n    // => [{ 'x': 1 }, { 'x': 2 }]\n\n    let observations = Observations.find().map(function(record){\n      return get(record, 'code.text');\n    })\n    if(observations){\n      let uniqueCodes = uniq(observations)\n      //console.log('Unique Observation Codes: ', uniqueCodes)\n\n      data.uniqueCodes = uniq(observations);\n    }\n\n    if(Session.get('appHeight') > 1200){\n      data.style.page = {\n        top: '50%',\n        transform: 'translateY(-50%)',\n        position: 'relative'\n      }\n    }\n\n    if(Observations.find({'code.text': data.currentObservationType }).count() > 0){\n      let recentPulse = Observations.find({'code.text': data.currentObservationType }, {sort: {issued: 1}}).fetch()[0];\n      // data.bmi.weight = get(recentPulse, 'valueQuantity.value', 0);\n    }\n\n    if(Session.get('appWidth') > Session.get('appHeight')){\n      data.chart.width = Session.get('appWidth');\n    }\n\n    if(['iPhone'].includes(window.navigator.platform)){\n      data.style.tableCol.display = 'none';\n      data.chart.width = Session.get('appWidth');\n    }\n\n    console.log(\"Navigated to BiometricsDashboardPage\", data);\n    return data;\n  }\n  selectObservationType(event, value){\n    console.log('Selected a new observation type: ', value.props.children)\n    Session.set('currentObservationType', value.props.children)\n  };\n  render() {\n\n    let self = this;\n\n    let menuItems = [];\n    this.data.uniqueCodes.forEach(function(code, integer){\n      menuItems.push(<MenuItem key={integer} value={integer} style={{fontSize: '130%'}}>{code}</MenuItem>)\n    });\n\n    let currentSelectIndex = this.data.uniqueCodes.indexOf(get(this, 'data.currentObservationType'))\n\n    var biometricSwimlanes = [];\n\n    console.log('this.data.biomarkerSwimlanes', this.data.biomarkerSwimlanes)\n\n\n    this.data.cohort.forEach(function(patient, index){\n      biometricSwimlanes.push(<GlassCard key={index} height={get(self, 'data.chart.height') + 'px'} style={{marginBottom: '20px'}}>\n          <CardTitle title={ get(patient, 'title')} subtitle={ get(patient, 'subtitle') } />\n          <Line\n            width={ get(self, 'data.chart.width') }\n            height={ get(self, 'data.chart.height') - 88 }\n            curve='cardinal'\n            // colorBy=\"color\"\n            colors={['#35B6ED']}\n            data={[\n              {\n                \"id\": get(self, 'data.currentObservationType'),\n                \"color\": \"#35B6ED\",\n                \"data\": Observations.find({$and: [\n                    {'subject.reference': get(patient, 'patientReference')},\n                    {'code.text': get(self, 'data.currentObservationType')}\n                  ]}, {sort: {issued: 1}}).map(function(observation, index){\n                  return {\n                    key: index,\n                    // color: \"#35B6ED\",\n                    x: moment(get(observation, 'issued')).format('MMM DD, HH'),\n                    y: get(observation, 'valueQuantity.value')\n                  }\n                })\n              }\n            ]}\n            margin={{\n              \"top\": 0,\n              \"right\": 110,\n              \"bottom\": 50,\n              \"left\": 60\n            }}\n            minY=\"auto\"\n            stacked={true}\n            axisBottom={{\n              \"orient\": \"bottom\",\n              \"tickSize\": 5,\n              \"tickPadding\": 5,\n              \"tickRotation\": 0,\n              // \"legend\": \"hour of day\",\n              \"legendOffset\": 36,\n              \"legendPosition\": \"center\"\n            }}\n            axisLeft={{\n              \"orient\": \"left\",\n              \"tickSize\": 5,\n              \"tickPadding\": 5,\n              \"tickRotation\": 0,\n              // \"legend\": \"pulse (bps)\",\n              \"legendOffset\": -40,\n              \"legendPosition\": \"center\"\n            }}\n            dotSize={10}\n            dotColor=\"#35B6ED\"\n            dotBorderWidth={2}\n            dotBorderColor=\"#ffffff\"\n            enableDotLabel={true}\n            dotLabel=\"y\"\n            dotLabelYOffset={-12}\n            animate={true}\n            motionStiffness={90}\n            motionDamping={15}\n            legends={[\n              {\n                \"anchor\": \"bottom-right\",\n                \"direction\": \"column\",\n                \"translateX\": 100,\n                \"itemWidth\": 80,\n                \"itemHeight\": 20,\n                \"symbolSize\": 12,\n                \"symbolShape\": \"circle\"\n              }\n            ]}\n          />\n          <DynamicSpacer />\n        </GlassCard>\n      )\n\n    });\n    \n    return (\n      <div id='indexPage'>\n        <FullPageCanvas>\n          {/* <Col md={4} style={ this.data.style.tableCol } >\n            <GlassCard height='auto' >\n              <CardTitle \n                title=\"Vital Signs\"\n                titleStyle={{fontSize: '240%'}}\n                subtitleStyle={{fontSize: '180%'}}\n                />\n              <Select\n                value={ currentSelectIndex }\n                onChange={this.selectObservationType}\n                style={{\n                  position: 'absolute',     \n                  right: '20px',\n                  top: '20px',\n                  marginRight: '20px',\n                  width: '240px',\n                  fontSize: '150%'\n                }}\n                inputProps={{\n                  name: 'age',\n                  id: 'age-simple',\n                }}\n              >\n                { menuItems }\n              </Select>             \n              <CardText style={{fontSize: '180%'}}>\n                <Row>\n                  <ObservationsTable \n                    query={{$or: [{'code.text': get(this, 'data.currentObservationType')}]}} \n                    multiline={true}\n                    />\n                </Row>\n              </CardText>\n            </GlassCard>\n          </Col> */}\n          <Col md={12} style={{marginBottom: '80px'}}>\n            { biometricSwimlanes }\n          </Col>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n\n  openLink(url){\n    console.log(\"openLink\", url);\n    browserHistory.push(url);\n  }\n}\n\n\n\nReactMixin(BiometricsDashboardPage.prototype, ReactMeteorData);\n\nexport default BiometricsDashboardPage;","\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport { CardHeader, CardText, CardTitle, CardActions, Tab, Tabs, FlatButton } from 'material-ui';\nimport React, {Component} from 'react'\nimport { get, has, sortBy } from 'lodash';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { Glass, GlassCard, VerticalCanvas, FullPageCanvas, DynamicSpacer } from 'meteor/clinical:glass-ui';\n\nimport { ConditionsTable } from 'meteor/clinical:hl7-resource-condition';\nimport { GoalsTable } from 'meteor/clinical:hl7-resource-goal';\nimport { MedicationsTable } from 'meteor/clinical:hl7-resource-medication';\n\nSession.setDefault('carePlanDesignerTabIndex', 0);\n\nexport class CarePlanDesignerPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none',\n          width: '200px'\n        }\n      },\n      tabIndex: Session.get('carePlanDesignerTabIndex'),\n      ccd: null,\n      timelineEntries: []\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"CarePlanDesignerPage[data]\", data);\n    return data;\n  };\n  handleTabChange(index){\n    Session.set('carePlanDesignerTabIndex', index);\n  }\n  render(){\n    \n\n    return(\n      <div id=\"CarePlanDesignerPage\">\n        <FullPageCanvas >\n          <Row>\n            <Col md={6}>\n              <GlassCard>\n                <CardTitle title='Jane Doe' subtitle='Dec 1st, 1980' />\n              </GlassCard>\n              <DynamicSpacer />\n              \n              <GlassCard>\n                <CardTitle title='Addresses' />\n                <CardText>\n                  <ConditionsTable />\n                </CardText>\n                <CardActions>\n                  <FlatButton label='Add' />\n                </CardActions>\n              </GlassCard>\n              <DynamicSpacer />\n              \n              <GlassCard>\n                <CardTitle title='Goals' />\n                <CardText>\n                  <GoalsTable />\n                </CardText>\n                <CardActions>\n                  <FlatButton label='Add' />\n                </CardActions>\n              </GlassCard>\n              <DynamicSpacer />\n              \n              <GlassCard>\n                <CardTitle title='Medications' />\n                <CardText>\n                  <MedicationsTable />\n                </CardText>\n                <CardActions>\n                  <FlatButton label='Add' />\n                </CardActions>\n              </GlassCard>\n            </Col>\n\n            <Col md={6}>\n              <GlassCard>\n                <Tabs id='carePlanDesignerTabs' default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={0}>\n                  <Tab label='Conditions' style={this.data.style.tab} onActive={ this.handleTabChange } value={0}>\n                    Foo\n                  </Tab>\n                  <Tab label='Goals' onActive={this.handleTabChange} style={this.data.style.tab} value={1}>\n                    Bar\n                  </Tab>\n                  <Tab label='Detail' onActive={this.handleTabChange} style={this.data.style.tab} value={2}>\n                    Baz\n                  </Tab>\n                </Tabs>\n              </GlassCard>              \n            </Col>\n\n          </Row>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(CarePlanDesignerPage.prototype, ReactMeteorData);\nexport default CarePlanDesignerPage;\n\n\n","// https://www.npmjs.com/package/react-dropzone-component\n// http://www.dropzonejs.com/\n\nimport { CardText, CardTitle, Toggle } from 'material-ui';\n\nimport DropzoneComponent from 'react-dropzone-component';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\n\nimport { FaHubspot } from 'react-icons/fa'\n\nimport { get } from 'lodash';\n\nimport { VerticalCanvas, DynamicSpacer, GlassCard } from 'meteor/clinical:glass-ui';\n\nvar componentConfig = {\n  allowedFiletypes: ['.jpg', '.png', '.gif'],\n  iconFiletypes: ['.jpg', '.png', '.gif'],\n  showFiletypeIcon: false,\n  postUrl: '/uploadHandler'\n};\nvar djsConfig = {\n  autoProcessQueue: false,\n  addRemoveLinks: true\n};\nvar eventHandlers = {\n  // This one receives the dropzone object as the first parameter\n  // and can be used to additional work with the dropzone.js\n  // object\n  init: null,\n  // All of these receive the event as first parameter:\n  drop: function(){\n    console.log(\"Drop!\");\n  },\n  dragstart: null,\n  dragend: null,\n  dragenter: null,\n  dragover: null,\n  dragleave: null,\n  // All of these receive the file as first parameter:\n  addedfile: function () {\n    console.log(\"Let's add a file...\");\n  },\n  removedfile: null,\n  thumbnail: null,\n  error: null,\n  processing: null,\n  uploadprogress: null,\n  sending: null,\n  success: null,\n  complete: null,\n  canceled: null,\n  maxfilesreached: null,\n  maxfilesexceeded: null,\n  // All of these receive a list of files as first parameter\n  // and are only called if the uploadMultiple option\n  // in djsConfig is true:\n  processingmultiple: null,\n  sendingmultiple: null,\n  successmultiple: null,\n  completemultiple: null,\n  canceledmultiple: null,\n  // Special Events\n  totaluploadprogress: null,\n  reset: null,\n  queuecomplete: null\n};\n\n\nlet importToggles = {\n  importsAll: true,\n  allergies: true,\n  appointments: true,\n  bundles: true,\n  careplans: true,          \n  claims: true,\n  conditions: true,\n  consents: true,\n  contracts: true,\n  communications: true,\n  clinicalImpressions: true,\n  devices: true,\n  diagnosticReports: true,\n  endpoints: true,\n  familyMemberHistories: true,\n  goals: true,\n  immunizations: true,\n  imagingStudies: true,\n  lists: true,\n  locations: true,\n  medications: true,\n  medicationOrders: true,\n  medicationStatements: true,\n  messageHeaders: true,\n  questionnaires: true,\n  questionnaireResponses: true,\n  patients: true,\n  persons: true,\n  practitioners: true,\n  procedures: true,\n  procedureRequests: true,\n  observations: true,\n  relatedPersons: true,\n  riskAssessments: true,\n  organizations: true,\n  schedules: true,\n  serviceRequests: true,\n  sequences: true,\n  zero: true\n}\nlet exportToggles = {\n  exportsAll: false,\n  allergies: false,\n  appointments: false,\n  bundles: false,       \n  careplans: false,   \n  claims: false,       \n  conditions: false,\n  consents: false,\n  contracts: false,\n  communications: false,\n  clinicalImpressions: false,\n  devices: false,\n  diagnosticReports: false,\n  endpoints: false,       \n  familyMemberHistories: false,\n  goals: false,\n  immunizations: false,\n  imagingStudies: false,\n  lists: false,\n  locations: false,\n  medications: false,\n  medicationOrders: false,\n  medicationStatements: false,\n  messageHeaders: false,\n  questionnaires: false,\n  questionnaireResponses: false,\n  patients: false,\n  persons: false,\n  practitioners: false,\n  procedures: false,\n  procedureRequests: false,\n  observations: false,\n  relatedPersons: false,\n  riskAssessments: false,\n  organizations: false,\n  schedules: false,\n  serviceRequests: false,\n  sequences: false,\n  zero: false\n}\nSession.setDefault('toggleStates', importToggles);\nSession.setDefault('toggleExportStates', exportToggles);\n\n\nSession.setDefault('datalakeStats', false);\nMeteor.call('getServerStats', function(error, result){\n  if(result){\n    Session.set('datalakeStats', result);\n  }\n});\nexport class CollectionManagement extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {     \n    let data = {\n      user: {\n        isAdmin: false\n      },\n      collections: {\n        toggled: Session.get('toggleStates'),  \n        toggledExports: Session.get('toggleExportStates'),\n        local: {\n          allergies: 0,\n          bundles: 0,\n          appointments: 0,\n          careplans: 0,          \n          claims: 0,\n          conditions: 0,\n          communications: 0,\n          consents: 0,\n          contracts: 0,\n          clinicalImpressions: 0,\n          devices: 0,\n          diagnosticReports: 0,\n          endpoints: 0,\n          familyMemberHistories: 0,\n          goals: 0,\n          immunizations: 0,\n          imagingStudies: 0,\n          lists: 0,\n          locations: 0,\n          medications: 0,\n          medicationOrders: 0,\n          medicationStatements: 0,\n          messageHeaders: 0,\n          observations: 0,\n          organizations: 0,\n          patients: 0,\n          persons: 0,\n          practitioners: 0,\n          procedures: 0,\n          procedureRequests: 0,\n          questionnaires: 0,\n          questionnaireResponses: 0,\n          relatedPersons: 0,\n          riskAssessments: 0,\n          schedules: 0,\n          serviceRequests: 0,\n          sequences: 0,\n          zero: 0\n        },\n        datalake: {\n          allergies: 0,\n          appointments: 0,\n          bundles: 0,\n          careplans: 0,          \n          claims: 0,\n          conditions: 0,\n          consents: 0,\n          contracts: 0,\n          communications: 0,\n          devices: 0,\n          diagnosticReports: 0,\n          endpoints: 0,\n          familyMemberHistories: 0,\n          goals: 0,\n          immunizations: 0,\n          imagingStudies: 0,\n          lists: 0,\n          locations: 0,\n          medications: 0,\n          medicationOrders: 0,\n          medicationStatements: 0,\n          messageHeaders: 0,\n          observations: 0,\n          organizations: 0,\n          patients: 0,\n          practitioners: 0,\n          procedures: 0,\n          procedureRequests: 0,\n          persons: 0,\n          questionnaires: 0,\n          questionnaireResponses: 0,\n          relatedPersons: 0,\n          riskAssessments: 0,\n          locations: 0,\n          schedules: 0,\n          serviceRequests: 0,\n          sequences: 0,\n          zero: 0\n        },\n        pubsub: {\n          allergies: false,\n          appointments: false,\n          bundles: false,\n          careplans: false,          \n          claims: false,\n          conditions: false,\n          consents: false,\n          contracts: false,\n          communications: false,\n          devices: false,\n          diagnosticReports: false,\n          endpoints: false,\n          familyMemberHistories: false,\n          goals: false,\n          immunizations: false,\n          imagingStudies: false,\n          lists: false,\n          locations: false,\n          medications: false,\n          medicationOrders: false,\n          medicationStatements: false,\n          messageHeaders: false,\n          observations: false,\n          organizations: false,\n          patients: false,\n          practitioners: false,\n          procedures: false,\n          procedureRequests: false,\n          persons: false,\n          questionnaires: false,\n          questionnaireResponses: false,\n          relatedPersons: false,\n          riskAssessments: false,\n          locations: false,\n          schedules: false,\n          serviceRequests: false,\n          sequences: false\n        }\n      }\n    };\n\n    if(typeof AllergyIntolerances === \"object\"){\n      data.collections.local.allergies = AllergyIntolerances.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"AllergyIntolerances\"){\n          data.collections.pubsub.allergies = true;\n        }\n      });\n    }\n    if(typeof Appointments === \"object\"){\n      data.collections.local.appointments = Appointments.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Appointments\"){\n          data.collections.pubsub.appointments = true;\n        }\n      });\n    }\n    if(typeof Bundles === \"object\"){\n      data.collections.local.bundles = Bundles.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Bundles\"){\n          data.collections.pubsub.bundles = true;\n        }\n      });\n    }\n    if(typeof CarePlans === \"object\"){\n      data.collections.local.careplans = CarePlans.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"CarePlans\"){\n          data.collections.pubsub.careplans = true;\n        }\n      });\n    }\n    if(typeof Claims === \"object\"){\n      data.collections.local.claims = Claims.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Claims\"){\n          data.collections.pubsub.claims = true;\n        }\n      });\n    }\n    if(typeof Consents === \"object\"){\n      data.collections.local.consents = Consents.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Consents\"){\n          data.collections.pubsub.consents = true;\n        }\n      });\n    }\n    if(typeof Conditions === \"object\"){\n      data.collections.local.conditions = Conditions.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Conditions\"){\n          data.collections.pubsub.conditions = true;\n        }\n      });\n    }\n\n    if(typeof Contracts === \"object\"){\n      data.collections.local.contracts = Contracts.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Contracts\"){\n          data.collections.pubsub.contracts = true;\n        }\n      });\n    }\n    if(typeof Communications === \"object\"){\n      data.collections.local.communications = Communications.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Communications\"){\n          data.collections.pubsub.communications = true;\n        }\n      });\n    }\n    if(typeof ClinicalImpressions === \"object\"){\n      data.collections.local.clinicalImpressions = ClinicalImpressions.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"ClinicalImpressions\"){\n          data.collections.pubsub.clinicalImpressions = true;\n        }\n      });\n    }\n    if(typeof Devices === \"object\"){\n      data.collections.local.devices = Devices.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Devices\"){\n          data.collections.pubsub.devices = true;\n        }\n      });\n    }\n\n    if(typeof DiagnosticReports === \"object\"){\n      data.collections.local.diagnosticReports = DiagnosticReports.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"DiagnosticReports\"){\n          data.collections.pubsub.diagnosticReports = true;\n        }\n      });\n    }\n    if(typeof Endpoints === \"object\"){\n      data.collections.local.endpoints = Endpoints.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Endpoints\"){\n          data.collections.pubsub.endpoints = true;\n        }\n      });\n    }\n    if(typeof FamilyMemberHistories === \"object\"){\n      data.collections.local.familyMemberHistory = FamilyMemberHistories.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"FamilyMemberHistories\"){\n          data.collections.pubsub.familyMemberHistory = true;\n        }\n      });\n    }\n    if(typeof Goals === \"object\"){\n      data.collections.local.goals = Goals.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Goals\"){\n          data.collections.pubsub.goals = true;\n        }\n      });\n    }\n    if(typeof Immunizations === \"object\"){\n      data.collections.local.immunizations = Immunizations.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Immunizations\"){\n          data.collections.pubsub.immunizations = true;\n        }\n      });\n    }\n    if(typeof ImagingStudies === \"object\"){\n      data.collections.local.imagingStudies = ImagingStudies.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"ImagingStudies\"){\n          data.collections.pubsub.imagingStudies = true;\n        }\n      });\n    }\n    if(typeof Lists === \"object\"){\n      data.collections.local.lists = Lists.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Lists\"){\n          data.collections.pubsub.lists = true;\n        }\n      });\n    }\n    if(typeof Locations === \"object\"){\n      data.collections.local.locations = Locations.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Locations\"){\n          data.collections.pubsub.locations = true;\n        }\n      });\n    }\n\n    if(typeof Medications === \"object\"){\n      data.collections.local.medications = Medications.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Medications\"){\n          data.collections.pubsub.medications = true;\n        }\n      });\n    }\n\n    if(typeof MedicationOrders === \"object\"){\n      data.collections.local.medicationOrders = MedicationOrders.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"MedicationOrders\"){\n          data.collections.pubsub.medicationOrders = true;\n        }\n      });\n    }\n\n    if(typeof MedicationStatements === \"object\"){\n      data.collections.local.medicationStatements = MedicationStatements.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"MedicationStatements\"){\n          data.collections.pubsub.medicationStatements = true;\n        }\n      });\n    }\n\n\n    if(typeof Observations === \"object\"){\n      data.collections.local.observations = Observations.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Observations\"){\n          data.collections.pubsub.observations = true;\n        }\n      });\n    }\n    if(typeof Organizations === \"object\"){\n      data.collections.local.organizations = Organizations.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Organizations\"){\n          data.collections.pubsub.organizations = true;\n        }\n      });\n    }\n    if(typeof Procedures === \"object\"){\n      data.collections.local.procedures = Procedures.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Procedures\"){\n          data.collections.pubsub.procedures = true;\n        }\n      });\n    }\n    if(typeof ProcedureRequests === \"object\"){\n      data.collections.local.procedureRequests = ProcedureRequests.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"ProcedureRequests\"){\n          data.collections.pubsub.procedureRequests = true;\n        }\n      });\n    }\n    if(typeof Patients === \"object\"){\n      data.collections.local.patients = Patients.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Patients\"){\n          data.collections.pubsub.patients = true;\n        }\n      });\n    }\n    if(typeof Practitioners === \"object\"){\n      data.collections.local.practitioners = Practitioners.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Practitioners\"){\n          data.collections.pubsub.practitioners = true;\n        }\n      });\n    }\n    if(typeof Questionnaires === \"object\"){\n      data.collections.local.questionnaires = Questionnaires.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Questionnaires\"){\n          data.collections.pubsub.questionnaires = true;\n        }\n      });\n    }\n    if(typeof QuestionnaireResponses === \"object\"){\n      data.collections.local.questionnaireResponses = QuestionnaireResponses.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"QuestionnaireResponses\"){\n          data.collections.pubsub.questionnaireResponses = true;\n        }\n      });\n    }\n    if(typeof RiskAssessments === \"object\"){\n      data.collections.local.riskAssessments = RiskAssessments.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"RiskAssessments\"){\n          data.collections.pubsub.riskAssessments = true;\n        }\n      });\n    }\n    if(typeof Persons === \"object\"){\n      data.collections.local.persons = Persons.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Persons\"){\n          data.collections.pubsub.persons = true;\n        }\n      });\n    }\n    if(typeof RelatedPersons === \"object\"){\n      data.collections.local.relatedPersons = RelatedPersons.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"RelatedPersons\"){\n          data.collections.pubsub.relatedPersons = true;\n        }\n      });\n    }\n    if(typeof Schedules === \"object\"){\n      data.collections.local.schedules = Schedules.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Schedules\"){\n          data.collections.pubsub.schedules = true;\n        }\n      });\n    }\n    if(typeof ServiceRequests === \"object\"){\n      data.collections.local.serviceRequests = ServiceRequests.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"ServiceRequests\"){\n          data.collections.pubsub.serviceRequests = true;\n        }\n      });\n    }\n    if(typeof Sequences === \"object\"){\n      data.collections.local.sequences = Sequences.find().count();\n      Object.keys( Meteor.default_connection._subscriptions).forEach(function(key) {\n        // console.log();   // see them in console.\n        var record = Meteor.default_connection._subscriptions[key];\n        if(record.name === \"Sequences\"){\n          data.collections.pubsub.sequences = true;\n        }\n      });\n    }\n\n\n    if(Session.get('datalakeStats')){\n      var datalakeStats = Session.get('datalakeStats');\n\n      data.collections.datalake = datalakeStats.counts;\n    } else {\n      // var stats = Statistics.getLatest();\n      // if(stats){\n      //   data.collections.datalake = stats.counts;      \n      // } \n    }\n\n\n    let user = Meteor.user();\n    if (user && user.roles) {\n      user.roles.forEach(function(role){\n        if (role === \"sysadmin\") {\n          data.user.isAdmin = true;\n        } else if (role === \"practitioner\") {\n          data.user.isPractitioner = true;\n        } else if (role === \"patient\") {\n          data.user.isPatient = true;\n        }\n      });\n    }\n\n    return data;\n  }\n  setToggleState(collection, isInputChecked){\n    let toggleStates = Session.get('toggleStates');\n    toggleStates[collection] = isInputChecked;\n    console.log('toggleStates', toggleStates)\n    Session.set('toggleStates', toggleStates);\n  }\n  setToggleExportState(collection, isInputChecked){\n    let toggleExportStates = Session.get('toggleExportStates');\n    toggleExportStates[collection] = isInputChecked;\n    process.env.NODE_ENV === \"verbose\" && console.log('toggleExportStates', toggleExportStates)\n    Session.set('toggleExportStates', toggleExportStates);\n  }\n  toggleAllImports(event, isInputChecked){\n    this.setToggleState('importsAll', isInputChecked)\n    this.setToggleState('allergies', isInputChecked)\n    this.setToggleState('appointments', isInputChecked)\n    this.setToggleState('bundles', isInputChecked)\n    this.setToggleState('careplans', isInputChecked)\n    this.setToggleState('claims', isInputChecked)\n    this.setToggleState('conditions', isInputChecked)\n    this.setToggleState('consents', isInputChecked)\n    this.setToggleState('contracts', isInputChecked)\n    this.setToggleState('communications', isInputChecked)\n    this.setToggleState('clinicalImpressions', isInputChecked)\n    this.setToggleState('devices', isInputChecked)\n    this.setToggleState('diagnosticReports', isInputChecked)\n    this.setToggleState('endpoints', isInputChecked)\n    this.setToggleState('familyMemberHistories', isInputChecked)\n    this.setToggleState('goals', isInputChecked)\n    this.setToggleState('immunizations', isInputChecked)\n    this.setToggleState('imagingStudies', isInputChecked)\n    this.setToggleState('lists', isInputChecked)\n    this.setToggleState('locations', isInputChecked)\n    this.setToggleState('medications', isInputChecked)\n    this.setToggleState('medicationOrders', isInputChecked)\n    this.setToggleState('medicationStatements', isInputChecked)\n    this.setToggleState('messageHeaders', isInputChecked)\n    this.setToggleState('observations', isInputChecked)\n    this.setToggleState('organizations', isInputChecked)\n    this.setToggleState('patients', isInputChecked)\n    this.setToggleState('persons', isInputChecked)\n    this.setToggleState('practitioners', isInputChecked)\n    this.setToggleState('procedures', isInputChecked)\n    this.setToggleState('procedureRequests', isInputChecked)\n    this.setToggleState('questionnaires', isInputChecked)\n    this.setToggleState('questionnaireResponses', isInputChecked)\n    this.setToggleState('relatedPersons', isInputChecked)\n    this.setToggleState('riskAssessments', isInputChecked)\n    this.setToggleState('schedules', isInputChecked)\n    this.setToggleState('serviceRequests', isInputChecked)\n    this.setToggleState('sequences', isInputChecked)\n  }\n  toggleAllergies(event, isInputChecked){    \n    this.setToggleState('allergies', isInputChecked)\n  };\n  toggleAppointments(event, isInputChecked){    \n    this.setToggleState('appointments', isInputChecked)\n  };\n  toggleBundles(event, isInputChecked){    \n    this.setToggleState('bundles', isInputChecked)\n  };\n  toggleCarePlans(event, isInputChecked){    \n    this.setToggleState('careplans', isInputChecked)\n  };\n  toggleClaims(event, isInputChecked){    \n    this.setToggleState('claims', isInputChecked)\n  };\n  toggleConditions(event, isInputChecked){    \n    this.setToggleState('conditions', isInputChecked)\n  };\n  toggleConsents(event, isInputChecked){    \n    this.setToggleState('consents', isInputChecked)\n  };\n  toggleContracts(event, isInputChecked){    \n    this.setToggleState('contracts', isInputChecked)\n  };\n  toggleCommunications(event, isInputChecked){    \n    this.setToggleState('communications', isInputChecked)\n  };\n  toggleClinicalImpressions(event, isInputChecked){    \n    this.setToggleState('clinicalImpressions', isInputChecked)\n  };\n  toggleDevices(event, isInputChecked){    \n    this.setToggleState('devices', isInputChecked)\n  };\n  toggleDiagnosticReports(event, isInputChecked){    \n    this.setToggleState('diagnosticReports', isInputChecked)\n  };\n  toggleEndpoints(event, isInputChecked){    \n    this.setToggleState('endpoints', isInputChecked)\n  };\n  toggleFamilyMemberHistories(event, isInputChecked){    \n    this.setToggleState('familyMemberHistories', isInputChecked)\n  };\n  toggleGoals(event, isInputChecked){\n    this.setToggleState('goals', isInputChecked)\n  };\n  toggleImmunizations(event, isInputChecked){\n    this.setToggleState('immunizations', isInputChecked)\n  };\n  toggleImmagingStudies(event, isInputChecked){    \n    this.setToggleState('imagingStudies', isInputChecked)\n  };\n  toggleLists(event, isInputChecked){\n    this.setToggleState('lists', isInputChecked)\n  };\n  toggleLocations(event, isInputChecked){\n    this.setToggleState('locations', isInputChecked)\n  };\n  toggleMedications(event, isInputChecked){    \n    this.setToggleState('medications', isInputChecked)\n  };\n  toggleMedicationOrders(event, isInputChecked){    \n    this.setToggleState('medicationOrders', isInputChecked)\n  };\n  toggleMedicationStatements(event, isInputChecked){    \n    this.setToggleState('medicationStatements', isInputChecked)\n  };\n  toggleMessageHeaders(event, isInputChecked){    \n    this.setToggleState('messageHeaders', isInputChecked)\n  };\n  toggleObservations(event, isInputChecked){    \n    this.setToggleState('observations', isInputChecked)\n  };\n  toggleOrganizations(event, isInputChecked){    \n    this.setToggleState('organizations', isInputChecked)\n  };\n  togglePatients(event, isInputChecked){    \n    this.setToggleState('patients', isInputChecked)\n  };\n  togglePersons(event, isInputChecked){    \n    this.setToggleState('persons', isInputChecked)\n  };\n  togglePractitioners(event, isInputChecked){    \n    this.setToggleState('practitioners', isInputChecked)\n  };\n  toggleProcedures(event, isInputChecked){    \n    this.setToggleState('procedures', isInputChecked)\n  };\n  toggleProcedureRequests(event, isInputChecked){    \n    this.setToggleState('procedureRequests', isInputChecked)\n  };\n  toggleQuestionnaires(event, isInputChecked){    \n    this.setToggleState('questionnaires', isInputChecked)\n  };\n  toggleQuestionnaireResponses(event, isInputChecked){    \n    this.setToggleState('questionnaireResponses', isInputChecked)\n  };\n  toggleRelatedPersons(event, isInputChecked){    \n    this.setToggleState('relatedPersons', isInputChecked)\n  };\n  toggleRiskAssessments(event, isInputChecked){    \n    this.setToggleState('riskAssessments', isInputChecked)\n  };\n  toggleSchedules(event, isInputChecked){    \n    this.setToggleState('schedules', isInputChecked)\n  };\n  toggleServiceRequests(event, isInputChecked){    \n    this.setToggleState('serviceRequests', isInputChecked)\n  };\n  toggleSequences(event, isInputChecked){    \n    this.setToggleState('sequences', isInputChecked)\n  };\n\n\n  toggleAllExports(event, isInputChecked){\n    this.setToggleExportState('exportsAll', isInputChecked)\n    this.setToggleExportState('allergies', isInputChecked)\n    this.setToggleExportState('appointments', isInputChecked)\n    this.setToggleExportState('bundles', isInputChecked)\n    this.setToggleExportState('careplans', isInputChecked)\n    this.setToggleExportState('claims', isInputChecked)\n    this.setToggleExportState('conditions', isInputChecked)\n    this.setToggleExportState('consents', isInputChecked)\n    this.setToggleExportState('contracts', isInputChecked)\n    this.setToggleExportState('communications', isInputChecked)\n    this.setToggleExportState('clinicalImpressions', isInputChecked)\n    this.setToggleExportState('devices', isInputChecked)\n    this.setToggleExportState('diagnosticReports', isInputChecked)\n    this.setToggleExportState('endpoints', isInputChecked)\n    this.setToggleExportState('familyMemberHistories', isInputChecked)\n    this.setToggleExportState('goals', isInputChecked)\n    this.setToggleExportState('immunizations', isInputChecked)\n    this.setToggleExportState('imagingStudies', isInputChecked)\n    this.setToggleExportState('lists', isInputChecked)\n    this.setToggleExportState('locations', isInputChecked)\n    this.setToggleExportState('medications', isInputChecked)\n    this.setToggleExportState('medicationOrders', isInputChecked)\n    this.setToggleExportState('medicationStatements', isInputChecked)\n    this.setToggleExportState('messageHeaders', isInputChecked)\n    this.setToggleExportState('observations', isInputChecked)\n    this.setToggleExportState('organizations', isInputChecked)\n    this.setToggleExportState('patients', isInputChecked)\n    this.setToggleExportState('persons', isInputChecked)\n    this.setToggleExportState('practitioners', isInputChecked)\n    this.setToggleExportState('procedures', isInputChecked)\n    this.setToggleExportState('procedureRequests', isInputChecked)\n    this.setToggleExportState('questionnaires', isInputChecked)\n    this.setToggleExportState('questionnaireResponses', isInputChecked)\n    this.setToggleExportState('relatedPersons', isInputChecked)\n    this.setToggleExportState('riskAssessments', isInputChecked)\n    this.setToggleExportState('schedules', isInputChecked)\n    this.setToggleExportState('serviceRequests', isInputChecked)\n    this.setToggleExportState('sequences', isInputChecked)\n  }\n  toggleAllergiesExport(event, isInputChecked){    \n    this.setToggleExportState('allergies', isInputChecked)\n  };\n  toggleAppointmentsExport(event, isInputChecked){    \n    this.setToggleExportState('appointments', isInputChecked)\n  };\n  toggleBundlesExport(event, isInputChecked){    \n    this.setToggleExportState('bundles', isInputChecked)\n  };\n  toggleCarePlansExport(event, isInputChecked){    \n    this.setToggleExportState('careplans', isInputChecked)\n  };\n  toggleClaimsExport(event, isInputChecked){    \n    this.setToggleExportState('claims', isInputChecked)\n  };\n  toggleConditionsExport(event, isInputChecked){    \n    this.setToggleExportState('conditions', isInputChecked)\n  };\n  toggleConsentsExport(event, isInputChecked){    \n    this.setToggleExportState('consents', isInputChecked)\n  };\n  toggleContractsExport(event, isInputChecked){    \n    this.setToggleExportState('contracts', isInputChecked)\n  };\n  toggleCommunicationsExport(event, isInputChecked){    \n    this.setToggleExportState('communications', isInputChecked)\n  };\n  toggleClinicalImpressionsExport(event, isInputChecked){    \n    this.setToggleExportState('clinicalImpressions', isInputChecked)\n  };\n  toggleDevicesExport(event, isInputChecked){    \n    this.setToggleExportState('devices', isInputChecked)\n  };\n  toggleDiagnosticReportsExport(event, isInputChecked){    \n    this.setToggleExportState('diagnosticReports', isInputChecked)\n  };\n  toggleEndpointsExport(event, isInputChecked){    \n    this.setToggleExportState('endpoints', isInputChecked)\n  };\n  toggleFamilyMemberHistoriesExport(event, isInputChecked){    \n    this.setToggleExportState('familyMemberHistories', isInputChecked)\n  };\n  toggleGoalsExport(event, isInputChecked){\n    this.setToggleExportState('goals', isInputChecked)\n  };\n  toggleImmunizationsExport(event, isInputChecked){\n    this.setToggleExportState('immunizations', isInputChecked)\n  };\n  toggleImmagingStudiesExport(event, isInputChecked){    \n    this.setToggleExportState('imagingStudies', isInputChecked)\n  };\n  toggleListsExport(event, isInputChecked){\n    this.setToggleExportState('lists', isInputChecked)\n  };\n  toggleLocationsExport(event, isInputChecked){\n    this.setToggleExportState('locations', isInputChecked)\n  };\n  toggleMedicationsExport(event, isInputChecked){    \n    this.setToggleExportState('medications', isInputChecked)\n  };\n  toggleMedicationOrdersExport(){\n    this.setToggleExportState('medicationOrders', isInputChecked)\n  }\n  toggleMedicationStatementsExport(){\n    this.setToggleExportState('medicationStatements', isInputChecked)\n  }\n  toggleMessageHeadersExport(event, isInputChecked){    \n    this.setToggleExportState('messageHeaders', isInputChecked)\n  };\n  toggleObservationsExport(event, isInputChecked){    \n    this.setToggleExportState('observations', isInputChecked)\n  };\n  toggleOrganizationsExport(event, isInputChecked){    \n    this.setToggleExportState('organizations', isInputChecked)\n  };\n  togglePatientsExport(event, isInputChecked){    \n    this.setToggleExportState('patients', isInputChecked)\n  };\n  togglePersonsExport(event, isInputChecked){    \n    this.setToggleExportState('persons', isInputChecked)\n  };\n  togglePractitionersExport(event, isInputChecked){    \n    this.setToggleExportState('practitioners', isInputChecked)\n  };\n  toggleProceduresExport(event, isInputChecked){    \n    this.setToggleExportState('procedures', isInputChecked)\n  };\n  toggleProcedureRequestsExport(event, isInputChecked){    \n    this.setToggleExportState('procedureRequests', isInputChecked)\n  };\n  toggleQuestionnairesExport(event, isInputChecked){    \n    this.setToggleExportState('questionnaires', isInputChecked)\n  };\n  toggleQuestionnaireResponsesExport(event, isInputChecked){    \n    this.setToggleExportState('questionnaireResponses', isInputChecked)\n  };\n  toggleRelatedPersonsExport(event, isInputChecked){    \n    this.setToggleExportState('relatedPersons', isInputChecked)\n  };\n  toggleRiskAssessmentsExport(event, isInputChecked){    \n    this.setToggleExportState('riskAssessments', isInputChecked)\n  };\n  toggleSchedulesExport(event, isInputChecked){    \n    this.setToggleExportState('schedules', isInputChecked)\n  };\n  toggleServiceRequestsExport(event, isInputChecked){    \n    this.setToggleExportState('serviceRequests', isInputChecked)\n  };\n  toggleSequencesExport(event, isInputChecked){    \n    this.setToggleExportState('sequences', isInputChecked)\n  };\n\n\n  handleToggle(){\n    \n  }\n  singularizeResourceName(resourceTypeString){\n    var singularized = '';\n    switch (resourceTypeString) {\n      case 'Binaries':          \n        singularized = 'Binary';\n        break;\n      case 'Libraries':      \n        singularized = 'Library';\n        break;\n      case 'SupplyDeliveries':      \n        singularized = 'SupplyDelivery';\n        break;\n      case 'ImagingStudies':      \n        singularized = 'ImagingStudy';\n        break;        \n      case 'FamilyMemberHistories':      \n        singularized = 'FamilyMemberHistory';\n        break;        \n      case 'ResearchStudies':      \n        singularized = 'ResearchStudy';\n        break;        \n      default:\n        singularized = resourceTypeString.substring(0, resourceTypeString.length - 1)\n        break;\n    }\n\n    return singularized;\n  }\n  exportCollection(collectionName){\n    //alert(\"Not entirely implemented yet.\");\n    let self = this;\n\n    console.log('Exporting the ' + collectionName + ' collection.')\n    console.log('There are ' + Mongo.Collection.get(collectionName).find().count() + ' records.')\n\n    console.log('Creating bundle...')\n    var collectionBundle = {\n      resourceType: \"Bundle\",\n      entry: Mongo.Collection.get(collectionName).find().map(function(record){\n        let recordId = record._id;\n        delete record._document;\n        delete record._id;\n        \n        let entry = {\n          fullUrl: \"/\" + self.singularizeResourceName(collectionName) +\"/\" + recordId,\n          resource: record\n        }\n\n        return entry;\n      })\n    }\n \n    var dataString = 'data:text/csv;charset=utf-8,' + encodeURIComponent(JSON.stringify(collectionBundle, null, 2));  \n    var downloadAnchorElement = document.getElementById('downloadAnchorElement');\n    if(downloadAnchorElement){\n      downloadAnchorElement.setAttribute(\"href\", dataString );\n  \n      downloadAnchorElement.setAttribute(\"download\", collectionName + \".fhir\");\n      downloadAnchorElement.click();\n      // window.open('data:text/csv;charset=utf-8,' + escape(continuityOfCareDoc), '_self');    \n    } else {\n      console.log('Couldnt find anchor element.')\n    }\n\n  }\n  drawPubSubIcon(subSubExists){\n      return <Toggle toggled={subSubExists} />;\n  }\n  render(){\n\n    // let resourceTypes = ['Persons'];\n\n    // let rows = [];\n\n    // resourceTypes.forEach(function(type){\n    //   rows.push(<tr className='dataManagementRow' >\n    //     <td><Toggle defaultToggled={this.data.collections.toggled.patients} onChange={this.handleToggle(this, 'patients')} value=\"patients\" /></td>\n    //     <td className=\"collection\">Patients</td>\n    //     <td className=\"count\">{this.data.collections.local.patients}</td>\n    //     <td className=\"datalake\">{this.data.collections.datalake.patients}</td>\n    //     <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeFamousDeadPeople')}>init</td>\n    //     <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropPatients')}>drop</td>\n    //     <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} >sync</td>\n    //     <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Patients')}>export</td>\n    //   </tr>)\n    // });\n    return(\n      <div style={this.props.style} >\n          <Table id=\"medicationsTable\" hover >\n            <thead>\n              <tr>\n                <th className=\"importAll\">\n                  <Toggle onToggle={this.toggleAllImports.bind(this) } toggled={get(this, 'data.collections.toggled.importsAll')} />\n                </th>\n                <th className=\"collection\">Collection</th>\n                <th className=\"count\">Local</th>\n                <th className=\"pubsub\">Pubsub</th>\n                <th className=\"datalake\">Datalake</th>\n                <th className=\"init \">Init</th>\n                <th className=\"drop\">Drop</th>\n                <th className=\"sync\">Sync</th>\n                <th className=\"export\">Export</th>\n                <th className=\"exportAll\">\n                  <Toggle onToggle={this.toggleAllExports.bind(this) } toggled={get(this, 'data.collections.toggledExports.exportsAll')} />\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleAllergies.bind(this) } toggled={get(this, 'data.collections.toggled.allergies')} /></td>\n                <td className=\"collection\">Allergy Intolerance</td>\n                <td className=\"count\">{this.data.collections.local.allergies}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.allergies'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.allergies}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeAllergyResponses')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropAllergyResponses')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'AllergyIntollerances')}>export</td>\n                <td><Toggle onToggle={this.toggleAllergiesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.allergies')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleAppointments.bind(this)} toggled={get(this, 'data.collections.toggled.appointments')} /></td>\n                <td className=\"collection\">Appointments</td>\n                <td className=\"count\">{this.data.collections.local.appointments}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.appointments'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.appointments}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeAppointments')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropAppointments')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Appointments')}>export</td>\n                <td><Toggle onToggle={this.toggleAppointmentsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.appointments')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleAppointments.bind(this)} toggled={get(this, 'data.collections.toggled.bundles')} /></td>\n                <td className=\"collection\">Bundles</td>\n                <td className=\"count\">{this.data.collections.local.bundles}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.bundles')) }</td>\n                <td className=\"datalake\">{this.data.collections.datalake.bundles}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Bundle/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Bundle/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Bundles')}>export</td>\n                <td><Toggle onToggle={this.toggleBundlesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.bundles')} /></td>\n              </tr>              \n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleCarePlans.bind(this)} toggled={get(this, 'data.collections.toggled.careplans')}  /></td>\n                <td className=\"collection\">Care Plans</td>\n                <td className=\"count\">{this.data.collections.local.careplans}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.careplans'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.careplans}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeCarePlan')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropCarePlans')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'CarePlans')}>export</td>\n                <td><Toggle onToggle={this.toggleCarePlansExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.careplans')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleConditions.bind(this)} toggled={get(this, 'data.collections.toggled.claims')}  /></td>\n                <td className=\"collection\">Claims</td>\n                <td className=\"count\">{this.data.collections.local.claims}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.claims'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.claims}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Claim/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Claim/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Claims')}>export</td>\n                <td><Toggle onToggle={this.toggleConditionsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.claims')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleConditions.bind(this)} toggled={get(this, 'data.collections.toggled.conditions')}  /></td>\n                <td className=\"collection\">Conditions</td>\n                <td className=\"count\">{this.data.collections.local.conditions}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.conditions'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.conditions}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeCondition')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropConditions')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Conditions')}>export</td>\n                <td><Toggle onToggle={this.toggleConditionsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.conditions')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleConsents.bind(this)} toggled={get(this, 'data.collections.toggled.consents')}  /></td>\n                <td className=\"collection\">Consents</td>\n                <td className=\"count\">{this.data.collections.local.consents}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.consents'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.consents}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'initializeConsents')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'dropConsents')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Consents')}>export</td>\n                <td><Toggle onToggle={this.toggleConsentsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.consents')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleContracts.bind(this)} toggled={get(this, 'data.collections.toggled.contracts')}  /></td>\n                <td className=\"collection\">Contracts</td>\n                <td className=\"count\">{this.data.collections.local.contracts}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.contracts'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.contracts}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeContracts' )}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropContracts')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Contracts')}>export</td>\n                <td><Toggle onToggle={this.toggleContractsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.contracts')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleCommunications.bind(this)} toggled={get(this, 'data.collections.toggled.communications')}  /></td>\n                <td className=\"collection\">Communications</td>\n                <td className=\"count\">{this.data.collections.local.communications}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.communications'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.communications}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeCommunication' )}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Communications/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Communications')}>export</td>\n                <td><Toggle onToggle={this.toggleCommunicationsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.communications')} /></td>\n              </tr>              \n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleClinicalImpressions.bind(this)} toggled={get(this, 'data.collections.toggled.clinicalImpressions')}  /></td>\n                <td className=\"collection\">Clinical Impressions</td>\n                <td className=\"count\">{this.data.collections.local.clinicalImpressions}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.clinicalImpressions'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.clinicalImpressions}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeClinicalImpression' )}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropClinicalImpressions')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'ClinicalImpressions')}>export</td>\n                <td><Toggle onToggle={this.toggleClinicalImpressionsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.clinicalImpressions')} /></td>\n              </tr>     \n\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleDevices.bind(this)} toggled={get(this, 'data.collections.toggled.devices')}  /></td>\n                <td className=\"collection\">Devices</td>\n                <td className=\"count\">{this.data.collections.local.devices}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.devices'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.devices}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeDevice')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropDevices')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Devices')}>export</td>\n                <td><Toggle onToggle={this.toggleDevicesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.devices')}  /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleDiagnosticReports.bind(this)} toggled={get(this, 'data.collections.toggled.diagnosticReports')}  /></td>\n                <td className=\"collection\">Diagnostic Reports</td>\n                <td className=\"count\">{this.data.collections.local.diagnosticReports}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.diagnosticReports'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.diagnosticReports}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeDiagnosticReports')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropDiagnosticReports')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'DiagnosticReports')}>export</td>\n                <td><Toggle onToggle={this.toggleDiagnosticReportsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.diagnosticReports')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleDevices.bind(this)} toggled={get(this, 'data.collections.toggled.endpoints')}  /></td>\n                <td className=\"collection\">Endpoint</td>\n                <td className=\"count\">{this.data.collections.local.endpoints}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.endpoints'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.endpoints}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Endpoint/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Endpoint/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Endpoint')}>export</td>\n                <td><Toggle onToggle={this.toggleEndpointsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.endpoints')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleFamilyMemberHistories.bind(this)} toggled={get(this, 'data.collections.toggled.familyMemberHistories')}  /></td>\n                <td className=\"collection\">Famly Member Histories</td>\n                <td className=\"count\">{this.data.collections.local.familyMemberHistories}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.familyMemberHistories'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.familyMemberHistories}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeFamilyMemberHistories')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropFamilyMemberHistories')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'FamilyMemberHistories')}>export</td>\n                <td><Toggle onToggle={this.toggleFamilyMemberHistoriesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.familyMemberHistories')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleGoals.bind(this)} toggled={get(this, 'data.collections.toggled.goals')}  /></td>\n                <td className=\"collection\">Goals</td>\n                <td className=\"count\">{this.data.collections.local.goals}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.goals'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.goals}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Goal/Initialize/NoSmoking')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Goal/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Goals')}>export</td>\n                <td><Toggle onToggle={this.toggleGoalsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.goals')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleImmunizations.bind(this)} toggled={get(this, 'data.collections.toggled.immunizations')}  /></td>\n                <td className=\"collection\">Immunizations</td>\n                <td className=\"count\">{this.data.collections.local.immunizations}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.immunizations'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.immunizations}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeImmunizations')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropImmunizations')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Immunizations')}>export</td>\n                <td><Toggle onToggle={this.toggleImmunizationsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.immunizations')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleImmagingStudies.bind(this)} toggled={get(this, 'data.collections.toggled.imagingStudies')}  /></td>\n                <td className=\"collection\">ImagingStudies</td>\n                <td className=\"count\">{this.data.collections.local.imagingStudies}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.imagingStudies'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.imagingStudies}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeImagingStudy' )}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropImagingStudies')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'ImagingStudies')}>export</td>\n                <td><Toggle onToggle={this.toggleImmagingStudiesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.imagingStudies')} /></td>\n              </tr> \n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleLists.bind(this)} toggled={get(this, 'data.collections.toggled.lists')}  /></td>\n                <td className=\"collection\">Lists</td>\n                <td className=\"count\">{this.data.collections.local.lists}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.lists'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.lists}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'initializeChecklists')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.dropCollection.bind(this, 'Lists')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} >sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Lists')}>export</td>\n                <td><Toggle onToggle={this.toggleListsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.lists')} /></td>\n              </tr>\n              <tr className='dataManagementRow'>\n                <td><Toggle onToggle={this.toggleLocations.bind(this) } toggled={get(this, 'data.collections.toggled.locations')}  /></td>\n                <td className=\"collection\">Locations</td>\n                <td className=\"count\">{this.data.collections.local.locations}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.locations'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.locations}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'initializeHospitals')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'dropLocations')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'syncLocations')}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Locations')}>export</td>\n                <td><Toggle onToggle={this.toggleLocationsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.locations')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleMedications.bind(this)} toggled={get(this, 'data.collections.toggled.medications')}  /></td>\n                <td className=\"collection\">Medications</td>\n                <td className=\"count\">{this.data.collections.local.medications}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.medications'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.medications}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Medication/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Medication/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Medications')}>export</td>\n                <td><Toggle onToggle={this.toggleMedicationsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.medications')} /></td>\n              </tr>\n\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleMedicationOrders.bind(this)} toggled={get(this, 'data.collections.toggled.medicationOrders')}  /></td>\n                <td className=\"collection\">MedicationOrders</td>\n                <td className=\"count\">{this.data.collections.local.medicationOrders}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.medicationOrders'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.medicationOrders}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeMedicationOrders')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropMedicationOrders')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'MedicationOrders')}>export</td>\n                <td><Toggle onToggle={this.toggleMedicationOrdersExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.medicationOrders')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleMedicationStatements.bind(this)} toggled={get(this, 'data.collections.toggled.medicationStatements')}  /></td>\n                <td className=\"collection\">MedicationStatements</td>\n                <td className=\"count\">{this.data.collections.local.medicationStatements}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.medicationStatements'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.medicationStatements}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeMedicationStatements')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropMedicationStatements')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'MedicationStatements')}>export</td>\n                <td><Toggle onToggle={this.toggleMedicationStatementsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.medicationStatements')} /></td>\n              </tr>\n\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleMessageHeaders.bind(this)} toggled={get(this, 'data.collections.toggled.messageHeaders')}  /></td>\n                <td className=\"collection\">Message Headers</td>\n                <td className=\"count\">{this.data.collections.local.messageHeaders}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.messageHeaders'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.messageHeaders}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropMessageHeaders')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'MessageHeaders')}>export</td>\n                <td><Toggle onToggle={this.toggleMessageHeadersExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.messageHeaders')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleObservations.bind(this)} toggled={get(this, 'data.collections.toggled.observations')}  /></td>\n                <td className=\"collection\">Observations</td>\n                <td className=\"count\">{this.data.collections.local.observations}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.observations'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.observations}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeObservation')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'dropObservations')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Observations')}>export</td>\n                <td><Toggle onToggle={this.toggleObservationsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.observations')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleOrganizations.bind(this)} toggled={get(this, 'data.collections.toggled.organizations')}  /></td>\n                <td className=\"collection\">Organizations</td>\n                <td className=\"count\">{this.data.collections.local.organizations}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.organizations'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.organizations}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeBlockchain')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropOrganizations')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'syncOrganizations')}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Organizations')}>export</td>\n                <td><Toggle onToggle={this.toggleOrganizationsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.organizations')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.togglePatients.bind(this)} toggled={get(this, 'data.collections.toggled.patients')}  /></td>\n                <td className=\"collection\">Patients</td>\n                <td className=\"count\">{this.data.collections.local.patients}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.patients'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.patients}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'initializeFamousDeadPeople')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropPatients')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} >sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Patients')}>export</td>\n                <td><Toggle onToggle={this.togglePatientsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.patients')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.togglePersons.bind(this)} toggled={get(this, 'data.collections.toggled.persons')}  /></td>\n                <td className=\"collection\">Persons</td>\n                <td className=\"count\">{this.data.collections.local.persons}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.persons'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.persons}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializePatient')} ></td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'dropPersons')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} >sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Persons')}>export</td>\n                <td><Toggle onToggle={this.togglePersonsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.persons')} /></td>\n              </tr>\n\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.togglePractitioners.bind(this)} toggled={get(this, 'data.collections.toggled.practitioners')}  /></td>\n                <td className=\"collection\">Practitioners</td>\n                <td className=\"count\">{this.data.collections.local.practitioners}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.practitioners'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.practitioners}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializePractitioner')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropPractitioners')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'syncPractitioners')}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Practitioners')}>export</td>\n                <td><Toggle onToggle={this.togglePractitionersExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.practitioners')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleProcedures.bind(this)} toggled={get(this, 'data.collections.toggled.procedures')}  /></td>\n                <td className=\"collection\">Procedures</td>\n                <td className=\"count\">{this.data.collections.local.procedures}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.procedures'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.zero}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeProcedures')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropProcedures')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Procedures')}>export</td>\n                <td><Toggle onToggle={this.toggleProceduresExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.procedures')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleProcedureRequests.bind(this)} toggled={get(this, 'data.collections.toggled.procedureRequests')}  /></td>\n                <td className=\"collection\">ProcedureRequests</td>\n                <td className=\"count\">{this.data.collections.local.procedureRequests}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.procedureRequests'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.zero}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'initializeProcedureRequests')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'dropProcedureRequests')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Procedures')}>export</td>\n                <td><Toggle onToggle={this.toggleProcedureRequestsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.procedureRequests')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleQuestionnaires.bind(this)} toggled={get(this, 'data.collections.toggled.questionnaires')}  /></td>\n                <td className=\"collection\">Questionnaires</td>\n                <td className=\"count\">{this.data.collections.local.questionnaires}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.questionnaires'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.questionnaires}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Questionnaire/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'Questionnaire/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Questionnaires')}>export</td>\n                <td><Toggle onToggle={this.toggleQuestionnairesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.questionnaires')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleQuestionnaires.bind(this)} toggled={get(this, 'data.collections.toggled.questionnaireResponses')}  /></td>\n                <td className=\"collection\">Questionnaire Responses</td>\n                <td className=\"count\">{this.data.collections.local.questionnaireResponses}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.questionnaireResponses'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.questionnaireResponses}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'QuestionnaireResponse/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'QuestionnaireResponse/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'QuestionnaireResponses')}>export</td>\n                <td><Toggle onToggle={this.toggleQuestionnaireResponsesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.questionnaireResponses')} /></td>\n              </tr>\n\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleRelatedPersons.bind(this)} toggled={get(this, 'data.collections.toggled.relatedPersons')}  /></td>\n                <td className=\"collection\">Related Persons</td>\n                <td className=\"count\">{this.data.collections.local.relatedPersons}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.relatedPersons'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.relatedPersons}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} ></td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'dropRelatedPersons')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}} >sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'RelatedPersons')}>export</td>\n                <td><Toggle onToggle={this.toggleRelatedPersonsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.relatedPersons')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleRiskAssessments.bind(this)} toggled={get(this, 'data.collections.toggled.riskAssessments')}  /></td>\n                <td className=\"collection\">Risk Assessments</td>\n                <td className=\"count\">{this.data.collections.local.riskAssessments}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.riskAssessments'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.riskAssessments}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeRiskAssessment')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropRiskAssessments')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'RiskAssessments')}>export</td>\n                <td><Toggle onToggle={this.toggleRiskAssessmentsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.riskAssessments')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleSchedules.bind(this)} toggled={get(this, 'data.collections.toggled.schedules')}  /></td>\n                <td className=\"collection\">Schedules</td>\n                <td className=\"count\">{this.data.collections.local.schedules}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.schedules'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.schedules}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeSchedules')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropSchedules')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Schedules')}>export</td>\n                <td><Toggle onToggle={this.toggleSchedulesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.schedules')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleSchedules.bind(this)} toggled={get(this, 'data.collections.toggled.serviceRequests')}  /></td>\n                <td className=\"collection\">Service Requests</td>\n                <td className=\"count\">{this.data.collections.local.serviceRequests}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.serviceRequests'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.serviceRequests}</td>\n                <td className=\"init\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'ServiceRequest/initialize')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer'}} onClick={this.callMethod.bind(this, 'ServiceRequest/drop')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'ServiceRequests')}>export</td>\n                <td><Toggle onToggle={this.toggleServiceRequestsExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.serviceRequests')} /></td>\n              </tr>\n              <tr className='dataManagementRow' >\n                <td><Toggle onToggle={this.toggleSequences.bind(this)} toggled={get(this, 'data.collections.toggled.sequences')}  /></td>\n                <td className=\"collection\">Sequences</td>\n                <td className=\"count\">{this.data.collections.local.sequences}</td>\n                <td className=\"pubsub\">{ this.drawPubSubIcon(get(this, 'data.collections.pubsub.sequences'))}</td>\n                <td className=\"datalake\">{this.data.collections.datalake.sequences}</td>\n                <td className=\"init\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'initializeSequences')}>init</td>\n                <td className=\"drop\" style={{cursor: 'pointer', color: 'lightgray'}} onClick={this.callMethod.bind(this, 'dropSequences')}>drop</td>\n                <td className=\"sync\" style={{cursor: 'pointer', color: 'lightgray'}}>sync</td>\n                <td className=\"export\" style={{cursor: 'pointer'}} onClick={this.exportCollection.bind(this, 'Sequences')}>export</td>\n                <td><Toggle onToggle={this.toggleSequencesExport.bind(this)} toggled={get(this, 'data.collections.toggledExports.sequences')} /></td>\n              </tr>              \n            </tbody>\n          </Table>\n      </div>\n    );\n  }\n  initializeCollection(collection){\n    console.log(\"initializeCollection\", collection);\n\n    if (confirm('Are you sure?')) {\n      if(collection === \"Lists\"){\n        Meteor.call('initializeChecklilsts', function(error, result){\n          if(result){\n            console.log('result', result)\n          }\n        });\n\n      }\n    }\n    \n  }\n  dropCollection(collection){\n    console.log(\"Dropping collection....\", collection);\n\n    if (confirm('Are you sure?')) {\n      if(collection === \"Lists\"){\n        console.log(\"Asking server to drop Lists collection....\");        \n        Meteor.call('dropChecklists', function(error, result){\n          if(error){\n            console.log('error', error)\n          }\n          if(result){\n            console.log('result', result)\n          }\n        });\n      }\n    }\n    \n  }\n  callMethod(signature){\n    console.log(\"callMethod\", signature);\n\n    // if (process.env.NODE_ENV === \"test\") {\n      if (confirm('Are you sure?')) {\n        Meteor.call(signature, function(error, result){\n          Meteor.call('getServerStats', function(error, result){\n            if(result){\n              Session.set('datalakeStats', result);\n            }\n          });\n        });\n      }\n    // } else {\n    //   alert('Alert!  This app is not running in a test environment.  Enable NODE_ENV=test to enable this functionality.')\n    // }\n\n  }\n\n}\n\n\nReactMixin(CollectionManagement.prototype, ReactMeteorData);\nexport default CollectionManagement;\n","// http://wwww.hl7.org/fhir/comparison-cda.html  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan/StructureDefinition-CCDA-on-FHIR-US-Realm-Header.html  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan/StructureDefinition-CCDA-on-FHIR-Continuity-of-Care-Document.html  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan/StructureDefinition-CCDA-on-FHIR-Continuity-of-Care-Document-Example.json.html  \n\n\n\nimport { Card, CardActions, CardHeader, CardText, CardTitle, FlatButton, RaisedButton } from 'material-ui';\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { VerticalCanvas, FullPageCanvas, GlassCard, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { get, has } from 'lodash';\n\nimport { ObservationsTable } from 'meteor/clinical:hl7-resource-observation';\nimport { AllergyIntolerancesTable } from 'meteor/clinical:hl7-resource-allergy-intolerance';\nimport { ConditionsTable } from 'meteor/clinical:hl7-resource-condition';\nimport { ImmunizationsTable } from 'meteor/clinical:hl7-resource-immunization';\nimport { CarePlansTable } from 'meteor/clinical:hl7-resource-careplan';\nimport { MedicationStatementsTable } from 'meteor/clinical:hl7-resource-medication-statement';\nimport { MedicationOrdersTable } from 'meteor/clinical:hl7-resource-medication-order';\nimport { DiagnosticReportsTable } from 'meteor/clinical:hl7-resource-diagnostic-report';\nimport { PatientsTable } from 'meteor/clinical:hl7-resource-patient';\nimport { ProceduresTable } from 'meteor/clinical:hl7-resource-procedure';\n\nimport MedicalRecordImporter from '../lib/MedicalRecordImporter.js'\n// import ImagingStudiesTable from '/imports/ui/workflows/imaging-studies/ImagingStudiesTable';\n\nimport Avatar from 'material-ui/Avatar';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { browserHistory } from 'react-router';\n// import ReactGA from 'react-ga';\n\nvar callback = function (msg) {\n  // wrapping in a timeout because of a possbile native UI element blocking the webview\n  setTimeout(function () {\n    // alert(JSON.stringify(msg))\n    console.log(JSON.stringify(msg))\n  }, 0);\n};\n\n\nSession.set('useMinimongoCache', true);\n\n\nexport class ContinuityOfCarePage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {\n    let data = {\n      style: {},\n      ccd: {\n        allergyIntolerances: [],\n        careplans: [],\n        conditions: [],\n        diagnosticReports: [],\n        immunizations: [],\n        medications: [],\n        medicationOrders: [],\n        medicationStatements: [],\n        observations: [],\n        patients: [],\n        procedures: []\n      },\n      minimongo: {\n        allergyIntolerances: [],\n        careplans: [],\n        conditions: [],\n        diagnosticReports: [],\n        immunizations: [],\n        medications: [],\n        medicationOrders: [],\n        medicationStatements: [],\n        observations: [],\n        patients: [],\n        procedures: []\n      },\n      query: {},\n      hidePatientName: Session.get('hidePatientName'),\n      hideToggles: Session.get('hideToggles'),\n      hideActionIcons: Session.get('hideActionIcons'),\n    };\n    \n    if(Meteor.user()){\n      if(typeof AllergyIntolerances === \"object\"){\n        data.ccd.allergyIntolerances = AllergyIntolerances.find().fetch();\n      }\n      if(typeof CarePlans === \"object\"){\n        data.ccd.carePlans = CarePlans.find().fetch();\n      }\n      if(typeof Conditions === \"object\"){\n        let query = {};\n        if(Session.get('hideEnteredInError')){          \n          query.verificationStatus = {$nin: [\"entered-in-error\"]}  // unconfirmed | provisional | differential | confirmed | refuted | entered-in-error\n        }\n        data.ccd.conditions = Conditions.find(query).fetch();\n      }\n      if(typeof DiagnosticReports === \"object\"){\n        data.ccd.diagnosticReports = DiagnosticReports.find().fetch();\n      }\n      if(typeof Immunizations === \"object\"){\n        data.ccd.immunizations = Immunizations.find().fetch();\n      }\n      if(typeof Medications === \"object\"){\n        data.ccd.medications = Medications.find().fetch();\n      }\n      if(typeof Medications === \"object\"){\n        data.ccd.medicationOrders = MedicationOrders.find().fetch();\n      }        \n      if(typeof MedicationStatements === \"object\"){\n        data.ccd.medicationStatements = MedicationStatements.find().fetch();\n      }\n      if(typeof Patients === \"object\"){\n        data.ccd.patients = Patients.find().fetch();\n      }\n      if(typeof Observations === \"object\"){\n        data.ccd.observations = Observations.find().fetch();\n      }\n      if(typeof Procedures === \"object\"){\n        data.ccd.procedures = Procedures.find().fetch();\n      }  \n\n\n      var filters = get(Meteor.user(), 'profile.filters');\n\n      if(filters){\n        if(filters.remove && filters.remove.length > 0){\n          data.query.$nor = [];\n          filters.remove.forEach(function(term){\n            if(term){\n              data.query.$nor.push({ \"code.text\": { \"$regex\": \"^\" + term } })\n            }\n          });  \n        }\n  \n        if(filters.mustHave && filters.mustHave.length > 0){\n          data.query.$or = [];\n          filters.mustHave.forEach(function(term){\n            if(term){\n              data.query.$or.push({ \"code.text\": { \"$regex\": \"^\" + term } })\n            }\n          })          \n        }\n      }\n    }\n\n    console.log('Navigated to ContinuityOfCarePage', data);\n    return data;\n  }\n  openLink(url){\n    browserHistory.push(url);\n  }\n  openFastImport(){\n    browserHistory.push('/fast-import-chart')\n  }\n  openSignup(){\n    browserHistory.push('/signup')    \n  }\n  deduplicate(collectionName){\n    console.log('deduplicate', collectionName)    \n  }  \n  importHealthRecord(){\n    MedicalRecordImporter.healthRecord();\n  }\n  render(){\n\n    var allergiesCard;\n    var carePlansCard;\n    var conditionsCard;\n    var diagnosticReportsCard;\n    var immunizationsCard;\n    var medicationsCard;\n    var medicationOrdersCard;\n    var medicationStatementsCard;\n    var observationsCard;\n    var proceduresCard;\n    var patientsCard;\n\n    var chartIsEmpty = true;\n\n    if(Patients.find().count() > 0){\n      chartIsEmpty = false;\n      patientsCard = <div>\n        <GlassCard >\n          <CardTitle title=\"Patients\" />\n          <CardText>\n            <PatientsTable\n              data={ this.data.ccd.patients } \n            />            \n          </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/patients') } />\n          </CardActions>\n        </GlassCard> \n        <DynamicSpacer />\n      </div>      \n    }\n\n\n    if(AllergyIntolerances.find().count() > 0){\n      chartIsEmpty = false;\n      allergiesCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Allergies\" />\n          <CardText>\n            <AllergyIntolerancesTable\n              data={ this.data.ccd.allergyIntolerances } \n              hideIdentifier={true}\n              hideCategory={true}\n              displayDates={false}\n              hidePatient={this.data.hidePatientName} \n              hideEnteredInError={true}\n            />\n        </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/allergies') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'Allergies') } />\n          </CardActions>\n        </GlassCard>   \n        <DynamicSpacer />\n      </div>\n    }\n\n    if(CarePlans.find().count() > 0){\n      chartIsEmpty = false;\n      carePlansCard = <div>\n        <GlassCard>\n          <CardTitle title=\"CarePlans\" />\n          <CardText>\n            <CarePlansTable\n              data={ this.data.ccd.carePlans } \n              hideSubject={this.data.hidePatientName}\n              displayDates={true} \n            />                  \n          </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/care-plans') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'CarePlans') } />\n          </CardActions>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    if(Conditions.find().count() > 0){\n      chartIsEmpty = false;\n      conditionsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Conditions\" />\n          <CardText>\n            <ConditionsTable\n              data={ this.data.ccd.conditions } \n              hideIdentifier={true}\n              hideEvidence={true}\n              hideServerity={true}\n              hideEnteredInError={true}\n              hideAsserterName={true}\n              hidePatientName={this.data.hidePatientName}\n            />                  \n          </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/conditions') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'Conditions') } />\n          </CardActions>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    if(DiagnosticReports.find().count() > 0){\n      chartIsEmpty = false;\n      diagnosticReportsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Diagnostic Reports\" />\n          <CardText>\n            <DiagnosticReportsTable \n              data={ this.data.ccd.diagnosticReports } \n              hidePatientName={this.data.hidePatientName}\n              displayDates={true} \n            />\n            \n          </CardText>\n          <CardActions>       \n          <FlatButton label='Add' onClick={ this.openLink.bind(this, '/diagnostic-reports') } />\n          <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'DiagnosticReports') } />\n          </CardActions>\n        </GlassCard>  \n        <DynamicSpacer />\n      </div>\n    }\n    if(Immunizations.find().count() > 0){\n      chartIsEmpty = false;\n      immunizationsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Immunizations\" />\n          <CardText>\n            <ImmunizationsTable \n              data={ this.data.ccd.immunizations } \n              hidePatientName={this.data.hidePatientName}\n              displayDates={true} \n            />\n          </CardText>\n          <CardActions>     \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/immunizations') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'Immunizations') } />\n          </CardActions>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    // if(Medications.find().count() > 0){\n    //   medicationsCard = \n    // }\n    if(MedicationOrders.find().count() > 0){\n      chartIsEmpty = false;\n      medicationOrdersCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Medication Orders\" />\n          <CardText>\n            <MedicationOrdersTable\n              data={ this.data.ccd.medicationOrders } \n              hidePatientName={this.data.hidePatientName}\n              displayDates={true} \n            />\n            \n          </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/medications-orders') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'MedicationOrders') } />\n          </CardActions>\n        </GlassCard>          \n        <DynamicSpacer />\n      </div>      \n    }\n    if(MedicationStatements.find().count() > 0){\n      chartIsEmpty = false;\n      medicationStatementsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Medication Statements\" />\n          <CardText>\n            <MedicationStatementsTable\n              data={ this.data.ccd.medicationStatements } \n              hidePatientName={this.data.hidePatientName}\n              displayDates={true} \n            />\n            \n          </CardText>f\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/medication-statements') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'MedicationStatements') } />\n          </CardActions>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    if(Observations.find().count() > 0){\n      chartIsEmpty = false;\n      observationsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Observations\" />\n          <CardText>\n            <ObservationsTable\n              //data={ this.data.ccd.observations } \n              barcodes={false}\n              showValueString={false}\n              showComparator={false}\n              hidePatientName={this.data.hidePatientName}\n              multiline={true}\n              query={this.data.query}\n            />\n            \n          </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/observations') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'Observations') } />\n          </CardActions>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>        \n    }\n    if(Procedures.find().count() > 0){\n      chartIsEmpty = false;\n      proceduresCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Procedures\" />\n          <CardText>\n            <ProceduresTable\n              data={ this.data.ccd.procedures } \n              hideIdentifier={true}\n              hideSubject={this.data.hidePatientName}\n              hideCategory={true}\n              hidePerformer={true}\n              hideBodySite={true}\n              displayDates={true} \n            />\n            \n          </CardText>\n          <CardActions>       \n            <FlatButton label='Add' onClick={ this.openLink.bind(this, '/procedures') } />\n            <FlatButton label='Deduplicate' onClick={ this.deduplicate.bind(this, 'Procedures') } />\n          </CardActions>\n        </GlassCard> \n        <DynamicSpacer />\n      </div>      \n    }\n    \n\n    var importWidget;\n    var chart;\n    var importStyle = {\n      textAlign: 'center',\n      position: 'relative',\n      top: ((Session.get('appHeight') - 128 ) * 0.5) - 120 + 'px'\n    }\n\n    if(Meteor.userId()){\n      if(chartIsEmpty){\n        if(Meteor.isCordova){\n          if(['iPhone'].includes(window.navigator.platform)){\n            importWidget = <Grid>\n              <Row style={importStyle}>\n                <h1 style={{fontWeight: '200'}}>No health data found.</h1>\n                <RaisedButton label=\"Import Apple HealthRecords\" onClick={ this.importHealthRecord } primary={true} />\n              </Row>\n            </Grid>  \n          }\n        } else {\n          importWidget = <Grid>\n          <Row style={importStyle}>\n            <h1 style={{fontWeight: '200'}}>No health data found.</h1>\n            <RaisedButton label=\"Import Medical Charts\" onClick={this.openFastImport } primary={true} />\n          </Row>\n        </Grid>  \n        }\n      } else {\n        chart = <div>\n        { allergiesCard }\n        { carePlansCard }                        \n        { conditionsCard }                        \n        { diagnosticReportsCard }\n        { immunizationsCard }\n        { medicationOrdersCard }\n        { observationsCard }\n        { patientsCard }\n        { proceduresCard }\n        </div>\n      }\n    } else {\n      importWidget = <Grid>\n        <Row style={importStyle}>\n          <h1 style={{fontWeight: '200'}}>Welcome to Timelines.</h1>\n          <RaisedButton label=\"Register\" onClick={this.openSignup } primary={true} />\n        </Row>\n      </Grid>  \n    }\n\n\n\n    return(\n      <div id=\"ContinuityOfCarePage\">\n        <FullPageCanvas >\n          <Grid>\n            <Row>\n              <Col>\n                { importWidget }\n                { chart }\n              </Col>\n            </Row>\n          </Grid>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(ContinuityOfCarePage.prototype, ReactMeteorData);\nexport default ContinuityOfCarePage;","// import { Bert } from 'meteor/clinical:alert';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nimport { FullPageCanvas, GlassCard, Glass, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { CardText, CardActions, CardTitle, TextField, RaisedButton } from 'material-ui'\n\nimport { browserHistory } from 'react-router';\nimport { Row, Col } from 'react-bootstrap';\n\nimport { lightBaseTheme, darkBaseTheme } from 'material-ui/styles';\nimport { get } from 'lodash';\n\nif(Package['symptomatic:smart-on-fhir-client']){\n  import { OAuth } from 'meteor/symptomatic:smart-on-fhir-client';\n}\n\nSession.setDefault('signinWithSearch', '');\nSession.set('conversationalIndex', 0);\nSession.setDefault('conversationalInputText', '');\n\nSession.setDefault('conversationalSigninEmail', '');\nSession.setDefault('conversationalSigninName', '');\n\n\nlet conversationalExchanges = [{\n  question: \"Hello.  We need your email to find your account...\",\n  context: \"Account lookups and other administrative tasks require an email address.\",\n  hint: 'jane@acme.com',\n  index: 0,\n  action: 'findAccountByEmail'\n}, {\n  question: \"We can't find that email.  Would you like to register it?\",\n  context: \"Type 'yes' or 'register' to proceed, or 'find account'.\",\n  hint: 'yes',\n  index: 1,\n  action: 'emailNotFound'\n}, {\n  question: \"Could you provide your name? \",\n  context: \"It's a bit slower, but works just as well.\",\n  hint: 'Jane Doe',\n  index: 2,\n  action: 'findAccountByName'\n},  {\n  question: \"Found the account.  Please provide the password.\",\n  context: \"We're going to do the password authentication thing now.\",\n  hint: '**********',\n  index: 3,\n  action: 'submitPassword'\n}, {\n  question: \"Found the account.  Please provide the password.\",\n  context: \"We're going to do the password authentication thing now.\",\n  hint: '**********',\n  index: 3,\n  action: 'submitPassword'\n}, {\n  question: \"Would you please verify and repeat that password?\",\n  context: \"We want to make sure you typed it and we received it correctly.\",\n  hint: '**********',\n  index: 4,\n  action: 'confirmPassword'\n}, {\n  question: \"What else I help you with?\",\n  context: \"I'm a simple signin script.  I mostly just know register, signin, signup, forgot password, and other.\",\n  hint: '**********',\n  index: 5,\n  action: 'generalHelp'\n}, {\n  question: \"Fantastic!  Could we have your name so we can set up the account?\",\n  context: \"This is the name that will be displayed on patient lists.\",\n  hint: 'Jane Doe',\n  index: 6,\n  action: 'humanName'\n}, {\n  question: \"And your birthdate?\",\n  context: \"This is the name that will be displayed on patient lists.\",\n  hint: 'YYYY-MM-DD',\n  index: 7,\n  action: 'birthdate'\n}, {\n  question: \"And lastly, a password...\",\n  context: \"We're going to do the password authentication thing now.\",\n  hint: '**********',\n  index: 8,\n  action: 'submitPassword'\n}, {\n  question: \"And would you please verify and repeat that password?\",\n  context: \"We want to make sure you typed it and we received it correctly.\",\n  hint: '**********',\n  index: 9,\n  action: 'confirmPassword'\n}, {\n  question: \"That doesn't seem to be the right password.  Try again?\",\n  context: \"Remember, passwords are case sensitive!\",\n  hint: '**********',\n  index: 10,\n  action: 'tryAgain'\n}, {\n  question: \"That email already exists.  Do you need to recover the password?\",\n  context: \"You can also choose to start over\",\n  hint: 'yes',\n  index: 11,\n  action: 'recoverrPassword'\n}]\n\n\n\nexport class ConversationalSignin extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        textColor: {\n          color: lightBaseTheme.palette.textColor\n        },\n        inputStyle: {\n          color: lightBaseTheme.palette.textColor,\n          fontSize: '150%',\n          bottom: '8px'\n        },\n        errorStyle: {\n          color: lightBaseTheme.palette.accent1Color\n        },\n        hintStyle: {\n          color: lightBaseTheme.palette.secondaryTextColor,\n          fontSize: '150%',\n          bottom: '16px'\n        },\n        underlineStyle: {\n          borderColor: lightBaseTheme.palette.textColor\n        },\n        floatingLabelStyle: {\n          color: lightBaseTheme.palette.secondaryTextColor,\n          fontSize: '240%'\n        },\n        floatingLabelFocusStyle: {\n          color: lightBaseTheme.palette.secondaryTextColor\n        },\n        pageBackground: {}\n      },\n      endpoints: [],\n      services: [],\n      conversationalIndex: Session.get('conversationalIndex'),\n      conversationalInputText: Session.get('conversationalInputText')\n    };\n\n    if( Endpoints.find().count() > 0){\n      data.endpoints = Endpoints.find({\n        'name': {\n          $regex: Session.get( 'signinWithSearch' ),\n          $options: 'i'\n        }\n      }).fetch()\n    }\n\n    if(Package['symptomatic:smart-on-fhir-client']){\n      if(ServiceConfiguration){\n        data.services = ServiceConfiguration.configurations.find().fetch()\n      }   \n    }\n\n    if (get(Meteor, 'settings.theme.darkroomTextEnabled')) {\n      data.style.textColor.color = darkBaseTheme.palette.textColor;\n      data.style.inputStyle.color = darkBaseTheme.palette.textColor;\n      data.style.errorStyle.color = darkBaseTheme.palette.accent1Color;\n      data.style.hintStyle.color = darkBaseTheme.palette.secondaryTextColor;\n      data.style.underlineStyle.color = darkBaseTheme.palette.textColor;\n      data.style.floatingLabelStyle.color = darkBaseTheme.palette.secondaryTextColor;\n      data.style.floatingLabelFocusStyle.color = darkBaseTheme.palette.secondaryTextColor;\n    }\n\n    // if(get(Meteor, 'settings.public.defaults.registration.background')){\n    //   data.style.pageBackground = {\n    //     backgroundImage: 'url(' + get(Meteor, 'settings.public.defaults.registration.background') + ')',\n    //     WebkitBackgroundSize: 'contain',\n    //     MozBackgroundSize: 'contain',\n    //     OBackgroundSize: 'contain',\n    //     backgroundSize: 'contain',\n    //     backgroundPositionY: 'bottom',\n    //     backgroundRepeat: 'no-repeat',\n    //     backgroundColor: 'white',\n    //     position: 'absolute',\n    //     height: '100%',\n    //     width: '100%'\n    //   }\n    // }\n\n    data.style.pageBackground = Glass.getContextImage();\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ConversationalSignin[data]\", data);\n    return data;\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n  forgotPasswordRoute(){\n    browserHistory.push('/recover-password');\n  }\n  registerRoute(){\n    browserHistory.push('/signup');\n  }\n\n  handleTouchTap(action){    \n    if(process.env.NODE_ENV === \"test\") {\n      console.log('ConversationalSignin.handleTouchTap', event, foo, value)\n      console.log(\"this\", this);\n    }\n    console.log('Having a conversation....', action)\n\n    let self = this;\n\n    switch (get(this, 'data.conversationalIndex')) {\n      case 0:\n        console.log(\"Okay, lets try to find the user by using the email account.\")\n        // console.log('self.refs.conversationalInput.input.value', self.refs.conversationalInput.input.value)\n\n        Session.set('conversationalSigninEmail', self.refs.conversationalInput.input.value)\n\n        Meteor.call('accountLookup', self.refs.conversationalInput.input.value, function(error, result) {\n          if (error) {\n            Session.set('conversationalIndex', 1)\n          } \n          if(result){\n            console.log('Received result', result)\n            if(result === \"Email not found.\"){\n              Session.set('conversationalIndex', 1)\n            } else {\n              Session.set('conversationalIndex', 3)\n            }\n          }\n        })\n        Session.set('conversationalInputText', '');\n        break;\n      case 1:\n        // Session.set('conversationalSigninEmail', self.refs.conversationalInput.input.value)\n        if(self.refs.conversationalInput.input.value){\n          Session.set('conversationalIndex', 7)\n        }\n        Session.set('conversationalInputText', '');\n        break;\n      case 2:\n                \n        break;\n      case 3:      \n        Meteor.loginWithPassword(\n          Session.get('conversationalSigninEmail'),\n          self.refs.conversationalInput.input.value,\n        function(error) {\n          if (error) {\n            Bert.alert(error.reason, 'warning');\n          } else {\n            Bert.alert('Logged in!', 'info');\n    \n            // we might have received a custom path to route to\n            // depending on which signin component we used\n            if (self.props.state && self.props.state.nextPathname) {\n              browserHistory.push(location.state.nextPathname);\n            } else if (Roles.userIsInRole(Meteor.userId(), 'practitioner') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n              browserHistory.push('/welcome/practitioner');\n            } else if (Roles.userIsInRole(Meteor.userId(), 'sysadmin') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n                browserHistory.push('/welcome/sysadmin');\n            } else if(get(Meteor, 'settings.public.defaults.route')){\n              // but normally we just use the default route specified in settings.json\n              browserHistory.push(get(Meteor, 'settings.public.defaults.route', '/'));\n            } else {\n              // and fall back to the root if not specified\n              browserHistory.push('/');      \n            }\n          }\n        });     \n        break;\n      case 4:\n        \n        break;    \n      case 5:\n        \n        break;    \n      case 6:\n        if(self.refs.conversationalInput.input.value){\n          Session.set('conversationalIndex', 7)\n        }\n        Session.set('conversationalInputText', '');\n        break;    \n      case 7:\n        if(self.refs.conversationalInput.input.value){\n          Session.set('conversationalIndex', 8)\n        }\n        Session.set('conversationalInputText', '');\n        break;   \n      case 8:\n        if(self.refs.conversationalInput.input.value){\n          Session.set('conversationalIndex', 9)\n        }\n        Session.set('conversationalInputText', '');\n\n        break;   \n      case 9:\n        if(self.refs.conversationalInput.input.value){\n          Session.set('conversationalIndex', 10)\n        }\n        Session.set('conversationalInputText', '');\n\n        break;   \n      case 10:\n        let name = Session.get('conversationalSigninName');\n\n        let newUserData = {\n          email: Session.get('conversationalSigninEmail'),          \n          password: self.refs.conversationalInput.input.value,\n          profile: {\n            name: {\n              given: name.split(' ')[0],\n              family: name.split(' ')[1],\n              text: name\n            }\n          },\n          accessCode: ''\n        };\n    \n        console.log('ConversationalSignUp', newUserData);\n    \n        Accounts.createUser(newUserData, function(error, result){\n          if (error) {\n            console.log('Accounts.createUser().error' + error.reason)\n            // Meteor.call('debugToServer', 'Accounts.createUser()', error)\n    \n            Session.set('signUpErrorMessage', error.reason);\n    \n            // for some reason, we're getting an \"Email already exists!\" on signup\n            //if (!error.reason.includes(\"Email already exists.\")) {\n            Bert.alert(error.reason, 'danger');\n            //}\n          }\n          if (result) {\n            console.log(\"Accounts.createUser[result]\", result);\n            console.log(\"Accounts.createUser[Meteor.userId()]\", Meteor.userId());\n            console.log(\"Accounts.createUser[Roles.userIsInRole(Meteor.userId()]\", Roles.userIsInRole(Meteor.userId()));\n    \n            // if this is a patient's first visit, we want to send them to a welcome screen\n            // where they can fill out HIPAA\n            if (Roles.userIsInRole(Meteor.userId(), 'patient') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n    \n              console.log('Routing to /welcome/patient')\n              browserHistory.push('/welcome/patient');\n    \n            // and if they're a practitioner, we probably need to collect some credentialing data\n            // and inform them about their obligations regarding HIPAA\n            } else if (Roles.userIsInRole(Meteor.userId(), 'practitioner') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n                console.log('Routing to /welcome/practitioner')\n                browserHistory.push('/welcome/practitioner');\n            } else if (Roles.userIsInRole(Meteor.userId(), 'sysadmin') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n                console.log('Routing to /welcome/sysadmin')\n                browserHistory.push('/welcome/sysadmin');\n            } else {\n              // otherwise we go to the default route specified in the settings.json file\n              if(get(Meteor, 'settings.public.defaults.route')){\n                console.log('Meteor.settings.public.defaults.route', get(Meteor, 'settings.public.defaults.route', '/'))\n                browserHistory.push(get(Meteor, 'settings.public.defaults.route', '/'));\n              } else {\n                // and if all else fails, just go to the root \n                console.log('Routing to /');\n                browserHistory.push('/');      \n              }  \n            }\n          }\n        });\n\n        // Meteor.loginWithPassword(\n        //   Session.get('conversationalSigninEmail'),\n        //   self.refs.conversationalInput.input.value,\n        // function(error) {\n        //   if (error) {\n        //     Bert.alert(error.reason, 'warning');\n        //   } else {\n        //     Bert.alert('Logged in!', 'info');\n    \n        //     // we might have received a custom path to route to\n        //     // depending on which signin component we used\n        //     if (self.props.state && self.props.state.nextPathname) {\n        //       browserHistory.push(location.state.nextPathname);\n        //     } else if (Roles.userIsInRole(Meteor.userId(), 'practitioner') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n        //       browserHistory.push('/welcome/practitioner');\n        //     } else if (Roles.userIsInRole(Meteor.userId(), 'sysadmin') && get(Meteor.user(), 'profile.firstTimeVisit')) {\n        //         browserHistory.push('/welcome/sysadmin');\n        //     } else if(get(Meteor, 'settings.public.defaults.route')){\n        //       // but normally we just use the default route specified in settings.json\n        //       browserHistory.push(get(Meteor, 'settings.public.defaults.route', '/'));\n        //     } else {\n        //       // and fall back to the root if not specified\n        //       browserHistory.push('/');      \n        //     }\n        //   }\n        // });     \n        break;                    \n      default:\n        break;\n    }\n\n  }\n  handleKeyPress(value, event) {\n    // console.log('handleKeyPress', event, value, event.currentTarget)\n    //console.log('handleKeyPress', event.key)\n    // console.log('handleKeyPress', e.key, e, e.currentTarget, e.currentTarget.value)\n    if (event.key === 'Enter') {\n      this.handleTouchTap(event);\n    }\n    //Session.set('conversationalInputText', '');\n  }\n  handleOnChange(value, event, newValue){\n    //console.log('handleOnChange', event, value, newValue, event.key, event.currentTarget)\n    //console.log('newValue', newValue)\n    // console.log('handleKeyPress', e.key, e, e.currentTarget, e.currentTarget.value)\n    if (event.key === 'Enter') {\n      this.handleTouchTap(event);\n    }\n    Session.set('conversationalInputText', newValue);\n  }\n  handleSearch(event, serviceName, foo) {\n    //console.log('ConversationalSignin.handleSearch', serviceName)\n\n    Session.set('signinWithSearch', serviceName);\n  }\n  render() {\n    // var signinButtons = [];\n    var self = this;\n\n\n    let glassColor = 'rgba(128, 128, 128, 0.12)';\n    if(get(Meteor, 'settings.public.theme.glassColor')){\n      glassColor = get(Meteor, 'settings.public.theme.glassColor');\n    }\n\n    let cardStyle = {\n      position: 'relative',\n      border: '0px none',\n      boxShadow: 'none'\n    };\n    // if(['iPad'].includes(window.navigator.platform)){\n    cardStyle.top = (Session.get('appHeight') * 0.1) + 'px'\n    // }\n\n  \n    let conversationalQuestion = '';\n    let conversationalContext = '';\n    let conversationalHint = '';\n    let conversationalId = '';\n    let conversationalAction = '';\n    let conversationalInputType = null;\n\n\n    if(this.data.conversationalIndex <= conversationalExchanges.length){\n      conversationalQuestion = conversationalExchanges[this.data.conversationalIndex].question;\n      conversationalContext = conversationalExchanges[this.data.conversationalIndex].context;\n      conversationalHint = conversationalExchanges[this.data.conversationalIndex].hint;\n      conversationalIndex = (conversationalExchanges[this.data.conversationalIndex].index).toString();\n      conversationalAction = conversationalExchanges[this.data.conversationalIndex].action;  \n\n      if([3, 4].includes(this.data.conversationalIndex)){\n        conversationalInputType = 'password';\n      } \n    }\n\n    return (\n      <div id=\"conversationalSigninPage\" style={this.data.style.pageBackground}>\n          <FullPageCanvas >\n              <Row>\n                <Col mdOffset={2} md={ 8 } sm={ 12 }>\n\n                      <GlassCard style={cardStyle} >\n                        <CardTitle \n                          title={conversationalQuestion} \n                          subtitle={conversationalContext}\n                          titleStyle={{fontSize: '240%'}}\n                          />\n                        <CardText>\n                          {/* <form ref=\"signin\" className=\"signin\"  > */}\n\n                            <TextField\n                              type=\"conversationalInput\"\n                              id={conversationalIndex}\n                              name=\"conversationalInput\"\n                              ref=\"conversationalInput\"\n                              value={get(this, 'data.conversationalInputText', '')}\n                              onKeyPress={this.handleKeyPress.bind(this, 'conversationalInput')}\n                              onChange={this.handleOnChange.bind(this, 'conversationalInput')}\n                              inputStyle={this.data.style.inputStyle}\n                              hintStyle={this.data.style.hintStyle}\n                              errorStyle={this.data.style.errorStyle}\n                              underlineStyle={this.data.style.underlineStyle}\n                              floatingLabelStyle={this.data.style.floatingLabelStyle}\n                              floatingLabelFocusStyle={this.data.style.floatingLabelFocusStyle}\n                              floatingLabelFixed={true} \n                              hintText={conversationalHint}\n                              type={conversationalInputType}\n                              fullWidth\n                            />              \n  \n                            <DynamicSpacer />\n                            <RaisedButton id=\"signinButton\" onClick={this.handleTouchTap.bind(this, conversationalAction)} label=\"Next\" primary={true} style={{float: 'right'}} />\n                            <DynamicSpacer />\n                          {/* </form> */}\n\n                        </CardText>\n                      </GlassCard>\n\n\n                  <br/>\n                  <br/>\n                </Col>                \n              </Row>\n\n          </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(ConversationalSignin.prototype, ReactMeteorData);\n\nexport default ConversationalSignin;","// https://www.npmjs.com/package/react-dropzone-component\n// http://www.dropzonejs.com/\n\nimport { Tab, Tabs } from '@material-ui/core';\nimport { FlatButton, CardActions, CardHeader, CardText, CardTitle, SelectField, MenuItem, TextField, RaisedButton, Toggle } from 'material-ui';\nimport {blue500, orange500} from 'material-ui/styles/colors';\nimport {blue600, gray600, green600, orange600, red600, yellow600} from 'material-ui/styles/colors';\nimport { Grid, Col, Row } from 'react-bootstrap';\n\nimport ActionAlarm from 'material-ui/svg-icons/action/alarm';\nimport ActionAndroid from 'material-ui/svg-icons/action/android';\nimport ActionFavorite from 'material-ui/svg-icons/action/favorite';\nimport ActionFavoriteBorder from 'material-ui/svg-icons/action/favorite-border';\nimport { CollectionManagement } from './CollectionManagement';\nimport Dialog from 'material-ui/Dialog';\nimport DropzoneComponent from 'react-dropzone-component';\nimport { Meteor } from 'meteor/meteor';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Session } from 'meteor/session';\nimport { Table } from 'react-bootstrap';\n\nimport { FullPageCanvas, VerticalCanvas, DynamicSpacer, GlassCard, Glass } from 'meteor/clinical:glass-ui';\n// import ReactGA from 'react-ga';\nimport { parseString } from 'xml2js';\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\n// import { yauzl } from 'yauzl';\n\n// import decompress from 'decompress';\n// import decompressUnzip from 'decompress-unzip';\n\nimport { ImportComponent } from './ImportComponent';\nimport { ExportComponent } from './ExportComponent';\n\n\nSession.setDefault('fileExtension', '');\nSession.setDefault('dataContent', '');\nSession.setDefault('syncSourceItem', 1);\n\nexport class DataImportPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      importValue: 'importTab',\n      exportValue: 'exportTab',\n      encryptExport: false\n    };\n  }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      dialog: {\n        open: Session.get('open')\n      },      \n      user: {\n        isAdmin: false\n      },\n      title: \"Client Collections\",\n      upstreamSync: false,\n      encryptExport: this.state.encryptExport,\n      import: {\n        fileExtension: Session.get('fileExtension'),\n        // height: (Session.get('appHeight') - 540 ) + 'px',\n        height: (Session.get('appHeight') - 556 ) + 'px',  //565\n        data: ''\n      },\n      dataManagement: {\n        height: (Session.get('appHeight') - 300 ) + 'px'\n      },\n      export: {\n        height: (Session.get('appHeight') - 380 ) + 'px',\n        data: ''\n      },\n      syncSourceItem: Session.get('syncSourceItem'),\n      toggleStates: Session.get('toggleStates')\n    };\n\n    if(get(Meteor, 'settings.public.meshNetwork.upstreamSync')){\n      // console.log('Meteor.settings.public.meshNetwork.upstreamSync');\n      data.upstreamSync = get(Meteor, 'settings.public.meshNetwork.upstreamSync');\n    }\n\n    if(['xml', 'json', 'ccd', 'bundle'].includes(Session.get('fileExtension'))){\n      data.import.data = JSON.stringify(Session.get('dataContent'), null, 2);\n    }\n    if(['fhir'].includes(Session.get('fileExtension'))){\n      data.import.data = Session.get('dataContent');\n    }\n\n    let user = Meteor.user();\n    if(user){\n      if (user.roles) {\n        user.roles.forEach(function(role){\n          if (role === \"sysadmin\") {\n            data.user.isAdmin = true;\n          } else if (role === \"practitioner\") {\n            data.user.isPractitioner = true;\n          } else if (role === \"patient\") {\n            data.user.isPatient = true;\n          }\n        });\n      }\n    }\n\n    if(Session.get('continuityOfCareDoc')){\n      data.export.data = JSON.stringify(Session.get('continuityOfCareDoc'), null, 2);\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    // console.log('DataImportPage', data);\n    console.log('Navigated to DataImportPage', data);\n    return data;\n  }\n   \n  changeInput(variable, event, value){\n    Session.set(variable, value);\n  }  \n  pluralizeResourceName(resourceType){\n    var pluralized = '';\n    switch (resourceType) {\n      case 'Binary':          \n        pluralized = 'Binaries';\n        break;\n      case 'Library':      \n        pluralized = 'Libraries';\n        break;\n      case 'SupplyDelivery':      \n        pluralized = 'SupplyDeliveries';\n        break;\n      case 'ImagingStudy':      \n        pluralized = 'ImagingStudies';\n        break;        \n      case 'FamilyMemberHistory':      \n        pluralized = 'FamilyMemberHistories';\n        break;        \n      case 'ResearchStudy':      \n        pluralized = 'ResearchStudies';\n        break;        \n      default:\n        pluralized = resourceType + 's';\n        break;\n    }\n\n    return pluralized;\n  }\n  clearLocalCache(){\n    if(confirm(\"Are you absolutely sure?\")){\n\n      var resourceTypes = [\n        'AllergyIntolerances',\n        'CarePlans',\n        'Conditions',\n        'Consents',\n        'Contracts',\n        'Communications',\n        'ClinicalImpressions',\n        'Devices',\n        'DiagnosticReports',\n        'Goals',\n        'Immunizations',\n        'ImagingStudies',\n        'Locations',\n        'Medications',\n        'MedicationOrders',\n        'MedicationStatements',\n        'Organizations',\n        'Observations',\n        'Patients',\n        'Practitioners',\n        'Persons',\n        'Procedures',\n        'Questionnaires',\n        'QuestionnaireResponses',\n        'RiskAssessments',\n        'RelatedPersons',\n        'Sequences',\n        'ServiceRequests'\n      ];\n\n      resourceTypes.forEach(function(resourceType){\n        if(Mongo.Collection.get(resourceType)){\n          Mongo.Collection.get(resourceType).find().forEach(function(record){\n            Mongo.Collection.get(resourceType).remove({_id: record._id})\n            Mongo.Collection.get(resourceType)._collection.remove({_id: record._id})\n          })\n        }\n      })\n\n      Meteor.call('getServerStats', function(error, result){\n        if(result){\n          Session.set('datalakeStats', result);\n        }\n      });\n    }\n  }\n  clearExportBuffer(){\n    Session.set('continuityOfCareDoc', null);\n  }\n  downloadContinuityOfCareDoc(){\n    console.log('downloadContinuityOfCareDoc')\n    var continuityOfCareDoc = Session.get('continuityOfCareDoc');\n    var jsonFile;\n\n    if(this.state.encryptExport){\n      // https://atmospherejs.com/jparker/crypto-aes\n      jsonFile = CryptoJS.AES.encrypt(JSON.stringify(continuityOfCareDoc), Meteor.userId());\n    } else {\n      jsonFile = JSON.stringify(continuityOfCareDoc, null, 2);\n    }\n\n    if(['iPhone'].includes(window.navigator.platform)){\n      // copy to clipboard\n      console.log('running on iphone...')\n      var exportBuffer = document.getElementById(\"exportBuffer\");\n      console.log('exportBuffer', exportBuffer)\n\n      exportBuffer.focus();\n      exportBuffer.select();\n      \n      document.execCommand('Copy');\n\n    } else {\n\n      var blob = new Blob([jsonFile], { type: 'application/json;charset=utf-8;' })\n\n      var url = URL.createObjectURL(blob);\n\n      var filename = 'continuity-of-care.ccd.json';\n      if(this.state.encryptExport){\n        filename = 'continuity-of-care.ccd.fhir';\n      } \n      \n      // desktop \n      //var dataString = 'data:text/csv;charset=utf-8,' + encodeURIComponent(JSON.stringify(continuityOfCareDoc, null, 2));  \n\n      var patientName = Meteor.user().displayName();\n      console.log('Generating CCD for ', patientName)\n\n      var downloadAnchorElement = document.getElementById('downloadAnchorElement');\n      if(downloadAnchorElement){\n\n        downloadAnchorElement.setAttribute(\"href\", url);\n        downloadAnchorElement.setAttribute(\"download\", filename);\n        downloadAnchorElement.style.visibility = 'hidden';\n        document.body.appendChild(downloadAnchorElement);\n        downloadAnchorElement.click();\n        document.body.removeChild(downloadAnchorElement);\n\n        // downloadAnchorElement.setAttribute(\"href\", dataString );\n  \n    \n        // downloadAnchorElement.setAttribute(\"download\", \"continuity-of-care.fhir.ccd\");\n        // downloadAnchorElement.click();\n        // // window.open('data:text/csv;charset=utf-8,' + escape(continuityOfCareDoc), '_self');    \n      } else {\n        console.log('Couldnt find anchor element.')\n      }  \n    }\n\n  }\n  exportContinuityOfCareDoc(){\n    console.log('Exporting a Continuity Of Care Document');\n\n    let toggleStates = Session.get('toggleStates');\n\n    let fhirEntries = [];\n    let continuityOfCareDoc = {\n      resourceType: \"Bundle\",\n      entry: []\n    }\n\n    let newComposition = {\n      fullUrl: \"/Composition/\" + Random.id(),\n      resource: {\n        \"resourceType\": \"Composition\",\n        \"identifier\" : {}, \n        \"status\" : \"preliminary\", \n        \"type\" : {}, \n        \"class\" : {}, \n        \"subject\" : { \n          \"display\": Meteor.user().fullName(),\n          \"reference\": Meteor.userId()  \n        }, \n        \"encounter\" : { \n          \"display\": '',\n          \"reference\": ''\n         }, \n        \"date\" : \"<dateTime>\", \n        \"author\" : [{ \n          \"display\": Meteor.user().fullName(),\n          \"reference\": Meteor.userId()  \n        }], \n        \"title\" : \"Continuity of Care Document\", \n        \"confidentiality\" : \"0\", \n        \"attester\" : [],\n        \"custodian\" : { \n          \"display\": '',\n          \"reference\": ''\n        }, \n        \"relatesTo\" : [],\n        \"event\" : [],\n        \"section\" : []\n      }\n    };\n\n\n    if((typeof AllergyIntolerances === \"object\") && toggleStates.allergies){\n      console.log('AllergyIntolerances is an object; and toggles set')\n      AllergyIntolerances.find().forEach(function(allergy){\n        delete allergy._document;\n        fhirEntries.push({\n          fullUrl: \"/AllergyIntolerance/\" + allergy._id,\n          resource: allergy\n        })\n        newComposition.resource.section.push({\n          entry: [{\n            reference: \"/AllergyIntolerance/\" + allergy._id\n          }]\n        })\n      })\n    }\n    if((typeof CarePlans === \"object\") && toggleStates.careplans){\n      CarePlans.find().forEach(function(careplan){\n        delete careplan._document;\n        fhirEntries.push({\n          fullUrl: \"/CarePlan/\" + careplan._id,\n          resource: careplan\n        })\n        newComposition.resource.section.push({\n          reference: \"/CarePlan/\" + careplan._id\n        })\n      })\n    }\n    if((typeof Conditions === \"object\") && toggleStates.conditions){\n      Conditions.find().forEach(function(condition){\n        delete condition._document;\n        fhirEntries.push({\n          fullUrl: \"/Condition/\" + condition._id,\n          resource: condition\n        })\n        newComposition.resource.section.push({\n          reference: \"/Condition/\" + condition._id\n        })\n      })\n    }\n    if((typeof Consents === \"object\") && toggleStates.consents){\n      Consents.find().forEach(function(consent){\n        delete consent._document;\n        fhirEntries.push({\n          fullUrl: \"/Consent/\" + consent._id,\n          resource: consent\n        })\n        newComposition.resource.section.push({\n          reference: \"/Consent/\" + consent._id\n        })\n      })\n    }    \n    if((typeof Contracts === \"object\") && toggleStates.contracts){\n      Contracts.find().forEach(function(contract){\n        delete contract._document;\n        fhirEntries.push({\n          fullUrl: \"/Contract/\" + contract._id,\n          resource: contract\n        })\n        newComposition.resource.section.push({\n          reference: \"/Contract/\" + contract._id\n        })\n      })\n    }\n    if((typeof Communications === \"object\") && toggleStates.communications){\n      Communications.find().forEach(function(communication){\n        delete communication._document;\n        fhirEntries.push({\n          fullUrl: \"/Communication/\" + communication._id,\n          resource: communication\n        })\n        newComposition.resource.section.push({\n          reference: \"/Communication/\" + communication._id\n        })\n      })\n    }\n    if((typeof Devices === \"object\") && toggleStates.devices){\n      Devices.find().forEach(function(device){\n        delete device._document;\n        fhirEntries.push({\n          fullUrl: \"/Device/\" + device._id,\n          resource: device\n        })\n        newComposition.resource.section.push({\n          reference: \"/Device/\" + device._id\n        })\n      })\n    }\n    if((typeof Goals === \"object\") && toggleStates.goals){\n      Goals.find().forEach(function(goal){\n        delete goal._document;\n        fhirEntries.push({\n          fullUrl: \"/Goal/\" + goal._id,\n          resource: goal\n        })\n        newComposition.resource.section.push({\n          reference: \"/Goal/\" + goal._id\n        })\n      })\n    }\n    if((typeof Immunizations === \"object\") && toggleStates.immunizations){\n      Immunizations.find().forEach(function(immunization){\n        delete immunization._document;\n        fhirEntries.push({\n          fullUrl: \"/Immunization/\" + immunization._id,\n          resource: immunization\n        })\n        newComposition.resource.section.push({\n          reference: \"/Immunization/\" + immunization._id\n        })\n      })\n    }\n    if((typeof ImagingStudies === \"object\") && toggleStates.imagingStudies){\n      ImagingStudies.find().forEach(function(imagingStudy){\n        delete imagingStudy._document;\n        fhirEntries.push({\n          fullUrl: \"/ImagingStudies/\" + imagingStudy._id,\n          resource: imagingStudy\n        })\n        newComposition.resource.section.push({\n          reference: \"/ImagingStudies/\" + imagingStudy._id\n        })\n      })\n    }\n    if((typeof Locations === \"object\") && toggleStates.locations){\n      Locations.find().forEach(function(location){\n        delete location._document;\n        fhirEntries.push({\n          fullUrl: \"/Location/\" + location._id,\n          resource: location\n        })\n        newComposition.resource.section.push({\n          reference: \"/Location/\" + location._id\n        })\n      })\n    }\n    if((typeof Medications === \"object\") && toggleStates.medications){\n      Medications.find().forEach(function(medication){\n        delete medication._document;\n        fhirEntries.push({\n          fullUrl: \"/Medication/\" + medication._id,\n          resource: medication\n        })\n        newComposition.resource.section.push({\n          reference: \"/Medication/\" + medication._id\n        })\n      })\n    }\n    if((typeof MedicationOrders === \"object\") && toggleStates.medicationOrders){\n      MedicationOrders.find().forEach(function(medicationOrder){\n        delete medicationOrder._document;\n        fhirEntries.push({\n          fullUrl: \"/MedicationOrder/\" + medicationOrder._id,\n          resource: medicationOrder\n        })\n        newComposition.resource.section.push({\n          reference: \"/MedicationOrder/\" + medicationOrder._id\n        })\n      })\n    }\n    if((typeof MedicationStatements === \"object\") && toggleStates.medicationStatements){\n      MedicationStatements.find().forEach(function(medicationStatement){\n        delete medicationStatement._document;\n        fhirEntries.push({\n          fullUrl: \"/MedicationStatement/\" + medicationStatement._id,\n          resource: medicationStatement\n        })\n        newComposition.resource.section.push({\n          reference: \"/MedicationStatement/\" + medicationStatement._id\n        })\n      })\n    }\n    if((typeof Observations === \"object\") && toggleStates.observations){\n      Observations.find().forEach(function(observation){\n        delete observation._document;\n        fhirEntries.push({\n          fullUrl: \"/Observation/\" + observation._id,\n          resource: observation\n        })\n        newComposition.resource.section.push({\n          reference: \"/Observation/\" + observation._id\n        })\n      })\n    }\n    if((typeof Organizations === \"object\") && toggleStates.organizations){\n      Organizations.find().forEach(function(organization){\n        delete organization._document;\n        fhirEntries.push({\n          fullUrl: \"/Organization/\" + organization._id,\n          resource: organization\n        })\n        newComposition.resource.section.push({\n          reference: \"/Organization/\" + organization._id\n        })\n      })\n    }\n    if((typeof Patients === \"object\") && toggleStates.patients){\n      Patients.find().forEach(function(patient){\n        delete patient._document;\n        fhirEntries.push({\n          fullUrl: \"/Patient/\" + patient._id,\n          resource: patient\n        })\n        newComposition.resource.section.push({\n          reference: \"/Patient/\" + patient._id\n        })\n      })\n    }\n    if((typeof Persons === \"object\") && toggleStates.persons){\n      Persons.find().forEach(function(person){\n        delete person._document;\n        fhirEntries.push({\n          fullUrl: \"/Person/\" + person._id,\n          resource: person\n        })\n        newComposition.resource.section.push({\n          reference: \"/Person/\" + person._id\n        })\n      })\n    }\n    if((typeof Practitioners === \"object\") && toggleStates.practitioners){\n      Practitioners.find().forEach(function(practitioner){\n        delete practitioner._document;\n        fhirEntries.push({\n          fullUrl: \"/Practitioner/\" + practitioner._id,\n          resource: practitioner\n        })\n        newComposition.resource.section.push({\n          reference: \"/Practitioner/\" + practitioner._id\n        })\n      })\n    }\n    if((typeof Procedures === \"object\") && toggleStates.procedures){\n      Procedures.find().forEach(function(procedure){\n        delete procedure._document;\n        fhirEntries.push({\n          fullUrl: \"/Procedure/\" + procedure._id,\n          resource: procedure\n        })\n        newComposition.resource.section.push({\n          reference: \"/Procedure/\" + procedure._id\n        })\n      })\n    }\n    if((typeof RiskAssessments === \"object\") && toggleStates.riskAssessments){\n      RiskAssessments.find().forEach(function(riskAssessment){\n        delete riskAssessment._document;\n        fhirEntries.push({\n          fullUrl: \"/RiskAssessment/\" + riskAssessment._id,\n          resource: riskAssessment\n        })\n        newComposition.resource.section.push({\n          reference: \"/RiskAssessment/\" + riskAssessment._id\n        })\n      })\n    }\n    if((typeof Sequences === \"object\") && toggleStates.sequences){\n      Sequences.find().forEach(function(sequence){\n        delete sequence._document;\n        fhirEntries.push({\n          fullUrl: \"/Sequence/\" + sequence._id,\n          resource: sequence\n        })\n        newComposition.resource.section.push({\n          reference: \"/Sequence/\" + sequence._id\n        })\n      })\n    }\n    if((typeof ServiceRequests === \"object\") && toggleStates.serviceRequests){\n      ServiceRequests.find().forEach(function(serviceRequest){\n        delete serviceRequest._document;\n        fhirEntries.push({\n          fullUrl: \"/ServiceRequest/\" + serviceRequest._id,\n          resource: serviceRequest\n        })\n        newComposition.resource.section.push({\n          reference: \"/ServiceRequest/\" + serviceRequest._id\n        })\n      })\n    }\n\n\n    continuityOfCareDoc.entry.push(newComposition);\n\n    fhirEntries.forEach(function(fhirResource){\n      continuityOfCareDoc.entry.push(fhirResource);\n    })\n\n    Session.set('continuityOfCareDoc', continuityOfCareDoc)\n  }\n  handleChangeSyncSource(event, index, value){\n    console.log('handleChangeSyncSource', event, index, value)\n    Session.set('syncSourceItem', value)\n  }\n\n  handleChange = (value) => {\n    this.setState({\n      value: value,\n    });\n  }\n  handleImportChange = (value) => {\n    this.setState({\n      importValue: value\n    });\n  }\n  handleExportChange = (value) => {\n    this.setState({\n      exportValue: value\n    });\n  }\n  handleTextareaUpdate(){\n\n  }\n  toggleEncryptExport(){\n    this.setState({encryptExport: !this.state.encryptExport})\n  }\n  render(){\n    var downloadLabel = 'Download!';\n\n    if(['iPhone'].includes(window.navigator.platform)){\n      downloadLabel = 'Copy to Clipboard'\n    }\n\n    var inputCardLayout = 3;\n    var processingCardLayout = 6;\n    var outputCardLayout = 3;\n\n    if(window.innerHeight > window.innerWidth){\n      inputCardLayout = 12;\n      processingCardLayout = 12;\n      outputCardLayout = 12;\n    }\n\n    var autoheight = 'auto';\n\n    // if(['iPad'].includes(window.navigator.platform)){\n    //   autoheight = 'auto'\n    // }\n\n    return(\n      <div id=\"DataImportPage\">\n        <FullPageCanvas >\n          <Row>\n            <Col lg={inputCardLayout}>\n              <ImportComponent />\n            </Col>\n            <Col lg={processingCardLayout}>\n              <GlassCard height={autoheight} style={{marginBottom: '20px'}}>\n                <CardTitle\n                  title=\"Data Management\"\n                />                  \n                <CardText>\n                  <Row>\n                    <CollectionManagement \n                      toggleStates={ this.data.toggleStates }\n                      style={{\n                        height: this.data.dataManagement.height,\n                        overflow: 'scroll',\n                        width: '100%'\n                    }} />\n\n                  </Row>\n                </CardText>\n                {/* <RaisedButton \n                  label='Prepare Continuity of Care Document' \n                  onClick={this.exportContinuityOfCareDoc.bind(this)}\n                  primary={true}\n                  style={{position: 'absolute', bottom: '20px', marginBottom: '20px'}}\n                  fullWidth\n                  />     */}\n                {/* <CardActions style={{position: 'absolute', bottom: '0px'}}>\n                  <FlatButton \n                      label='Clear Local Cache' \n                      onClick={this.clearLocalCache.bind(this)}\n                      />\n                  <FlatButton \n                      label='Prepare CCD' \n                      onClick={this.exportContinuityOfCareDoc.bind(this)}\n                      style={{float: 'right'}}\n                      />\n                </CardActions> */}\n              </GlassCard>\n              {/* <DynamicSpacer /> */}\n\n            </Col>\n            <Col lg={outputCardLayout}>\n              <ExportComponent />\n            </Col>\n          </Row>\n          \n        </FullPageCanvas>\n      </div>\n    );\n  }\n\n  callMethod(signature){\n    console.log(\"callMethod\", signature);\n\n    Meteor.call(signature);\n  }\n}\n\n\nReactMixin(DataImportPage.prototype, ReactMeteorData);\nexport default DataImportPage;","// https://www.npmjs.com/package/react-dropzone-component\n// http://www.dropzonejs.com/ \n\nimport { Tab, Tabs, Typography } from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nimport { FlatButton, CardActions, CardHeader, CardText, CardTitle, SelectField, MenuItem, TextField, RaisedButton, Toggle } from 'material-ui';\n\nimport AccountCircle from 'material-ui/svg-icons/action/account-circle';\nimport { Meteor } from 'meteor/meteor';\nimport { Roles } from 'meteor/alanning:roles';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Session } from 'meteor/session';\nimport { Table } from 'react-bootstrap';\n\nimport { FullPageCanvas, VerticalCanvas, DynamicSpacer, GlassCard, Glass } from 'meteor/clinical:glass-ui';\n\n// import ReactGA from 'react-ga';\nimport { parseString } from 'xml2js';\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\n\nvar onDeviceReady;\nvar writeToFile;\nvar errorHandler;\nif (Meteor.isCordova) {\n  console.log('Meteor.isCordova')\n  errorHandler = function (fileName, e) {  \n    var msg = '';\n\n    switch (e.code) {\n        case FileError.QUOTA_EXCEEDED_ERR:\n            msg = 'Storage quota exceeded';\n            break;\n        case FileError.NOT_FOUND_ERR:\n            msg = 'File not found';\n            break;\n        case FileError.SECURITY_ERR:\n            msg = 'Security error';\n            break;\n        case FileError.INVALID_MODIFICATION_ERR:\n            msg = 'Invalid modification';\n            break;\n        case FileError.INVALID_STATE_ERR:\n            msg = 'Invalid state';\n            break;\n        default:\n            msg = 'Unknown error';\n            break;\n    };\n\n    console.log('Error (' + fileName + '): ' + msg);\n  }\n  onDeviceReady = function() {  \n    console.log('Device is ready...')\n    writeToFile = function(fileName, data) {\n      console.log('writeToFile()', fileName, data)\n\n      data = JSON.stringify(data, null, '\\t');\n      console.log('data', data)\n      console.log('window', window)\n      console.log('cordova', cordova)\n      console.log('cordova.file', cordova.file)\n      console.log('cordova.file.syncedDataDirectory', cordova.file.syncedDataDirectory)\n      console.log('WebAppLocalServer.localFileSystemUrl(syncedDataDirectory)', WebAppLocalServer.localFileSystemUrl(cordova.file.syncedDataDirectory))\n\n        window.resolveLocalFileSystemURL(cordova.file.syncedDataDirectory, function (directoryEntry) {\n        console.log('local filesystem resolved...', JSON.stringify(directoryEntry))\n\n        // window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function (fs) {\n\n          \n            directoryEntry.getFile(fileName, { create: true }, function (fileEntry) {\n              // fs.root.getFile(fileName, { create: true }, function (fileEntry) {\n              console.log('got file...', JSON.stringify(fileEntry))\n              console.log('WebAppLocalServer.localFileSystemUrl(fileEntry)', WebAppLocalServer.localFileSystemUrl(fileEntry.nativeURL))\n\n              fileEntry.createWriter(function (fileWriter) {\n                console.log('writing file...')\n                fileWriter.onwriteend = function (e) {\n                        // for real-world usage, you might consider passing a success callback\n                        console.log('Write of file \"' + fileName + '\" completed.');\n                    };\n\n                    fileWriter.onerror = function (e) {\n                        // you could hook this up with our global error handler, or pass in an error callback\n                        console.log('Write failed: ' + e.toString());\n                    };\n\n                    var blob = new Blob([data], { type: 'text/plain' });\n                    //var blob = new Blob([data], { type: 'application/json' });\n                    \n                    if(blob){\n                      console.log('have blob...', blob)\n                      fileWriter.write(blob);  \n                    }\n                }, errorHandler.bind(null, fileName));\n            }, errorHandler.bind(null, fileName));\n        }, errorHandler.bind(null, fileName));\n    }\n\n    // writeToFile('example.json', { foo: 'bar' });\n  }\n\n  document.addEventListener('deviceready', onDeviceReady, false);\n}\n\n\n\n// import decompress from 'decompress';\n// import decompressUnzip from 'decompress-unzip';\n\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\">\n      {props.children}\n    </Typography>\n  );\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\n\n\nSession.setDefault('fileExtension', '');\nSession.setDefault('dataContent', '');\nSession.setDefault('syncSourceItem', 1);\nSession.setDefault('exportFileType', 1);\nSession.setDefault('relayAlgorithm', 1);\n\nexport class ExportComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tabIndex: 0,\n      importValue: 'importTab',\n      exportValue: 'exportTab',\n      encryptExport: false,\n      fileName: ''\n    };\n  }\n  // componentWillMount(){\n  //   if(get(Meteor.user(), 'profile.consents.performanceAnalytics.status') === \"active\"){\n  //     ReactGA.initialize('UA-124270514-1');\n  //     ReactGA.pageview(window.location.pathname + window.location.search);  \n  //   }    \n  // }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none',\n          fontSize: '18px'\n        }\n      },\n      dialog: {\n        open: Session.get('open')\n      },      \n      user: {\n        isAdmin: false\n      },\n      title: \"Client Collections\",\n      upstreamSync: false,\n      encryptExport: this.state.encryptExport,\n      import: {\n        fileExtension: Session.get('fileExtension'),\n        // height: (Session.get('appHeight') - 540 ) + 'px',\n        height: (Session.get('appHeight') - 556 ) + 'px',  //565\n        data: ''\n      },\n      dataManagement: {\n        height: (Session.get('appHeight') - 300 ) + 'px'\n      },\n      export: {\n        height: (Session.get('appHeight') - 500 ) + 'px',\n        data: ''\n      },\n      syncSourceItem: Session.get('syncSourceItem'),\n      toggleStates: Session.get('exportToggleStates'),\n      exportFileType: Session.get('exportFileType'),\n      relayAlgorithm: Session.get('relayAlgorithm')\n    };\n\n    if(get(Meteor, 'settings.public.meshNetwork.upstreamSync')){\n      // console.log('Meteor.settings.public.meshNetwork.upstreamSync');\n      data.upstreamSync = get(Meteor, 'settings.public.meshNetwork.upstreamSync');\n    }\n\n    if(['xml', 'json', 'ccd', 'bundle'].includes(Session.get('fileExtension'))){\n      data.import.data = JSON.stringify(Session.get('dataContent'), null, 2);\n    }\n    if(['fhir'].includes(Session.get('fileExtension'))){\n      data.import.data = Session.get('dataContent');\n    }\n\n    let user = Meteor.user();\n    if(user){\n      if (user.roles) {\n        user.roles.forEach(function(role){\n          if (role === \"sysadmin\") {\n            data.user.isAdmin = true;\n          } else if (role === \"practitioner\") {\n            data.user.isPractitioner = true;\n          } else if (role === \"patient\") {\n            data.user.isPatient = true;\n          }\n        });\n      }\n    }\n\n    if(Session.get('exportBuffer')){\n      // data.export.data = JSON.stringify(Session.get('exportBuffer'), null, 2);\n\n      if(this.state.encryptExport){\n        // https://atmospherejs.com/jparker/crypto-aes\n        data.export.data = CryptoJS.AES.encrypt(JSON.stringify(Session.get('exportBuffer')), Meteor.userId());\n      } else {\n        data.export.data = JSON.stringify(Session.get('exportBuffer'), null, 2);\n      }\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    // console.log('ExportComponent', data);\n    console.log('Navigated to ExportComponent', data);\n    return data;\n  }\n   \n  changeInput(variable, event, value){\n    Session.set(variable, value);\n  }  \n  pluralizeResourceName(resourceType){\n    var pluralized = '';\n    switch (resourceType) {\n      case 'Binary':          \n        pluralized = 'Binaries';\n        break;\n      case 'Library':      \n        pluralized = 'Libraries';\n        break;\n      case 'SupplyDelivery':      \n        pluralized = 'SupplyDeliveries';\n        break;\n      case 'ImagingStudy':      \n        pluralized = 'ImagingStudies';\n        break;        \n      case 'FamilyMemberHistory':      \n        pluralized = 'FamilyMemberHistories';\n        break;        \n      case 'ResearchStudy':      \n        pluralized = 'ResearchStudies';\n        break;        \n      default:\n        pluralized = resourceType + 's';\n        break;\n    }\n\n    return pluralized;\n  }\n  // clearLocalCache(){\n  //   if(confirm(\"Are you absolutely sure?\")){\n\n  //     var resourceTypes = [\n  //       'AllergyIntolerances',\n  //       'CarePlans',\n  //       'Conditions',\n  //       'Consents',\n  //       'Contracts',\n  //       'ClinicalImpressions',\n  //       'Devices',\n  //       'DiagnosticReports',\n  //       'Goals',\n  //       'Immunizations',\n  //       'ImagingStudies',\n  //       'Locations',\n  //       'Medications',\n  //       'MedicationOrders',\n  //       'MedicationStatements',\n  //       'Organizations',\n  //       'Observations',\n  //       'Patients',\n  //       'Practitioners',\n  //       'Persons',\n  //       'Procedures',\n  //       'Questionnaires',\n  //       'QuestionnaireResponses',\n  //       'RiskAssessments',\n  //       'RelatedPersons',\n  //       'Sequences'\n  //     ];\n\n  //     resourceTypes.forEach(function(resourceType){\n  //       if(Mongo.Collection.get(resourceType)){\n  //         Mongo.Collection.get(resourceType).find().forEach(function(record){\n  //           Mongo.Collection.get(resourceType).remove({_id: record._id})\n  //           Mongo.Collection.get(resourceType)._collection.remove({_id: record._id})\n  //         })\n  //       }\n  //     })\n\n  //     Meteor.call('getServerStats', function(error, result){\n  //       if(result){\n  //         Session.set('datalakeStats', result);\n  //       }\n  //     });\n  //   }\n  // }\n  clearExportBuffer(){\n    Session.set('exportBuffer', null);\n  }\n  downloadContinuityOfCareDoc(){\n    console.log('downloadContinuityOfCareDoc')\n    var exportBuffer = Session.get('exportBuffer');\n    var jsonFile;\n\n    if(['iPhone'].includes(window.navigator.platform)){\n\n      // writeToFile('example.json', { foo: 'bar' });\n\n      // copy to clipboard\n      console.log('running on iphone...')\n      var exportBuffer = document.getElementById(\"exportBuffer\");\n      console.log('exportBuffer', exportBuffer)\n\n      exportBuffer.focus();\n      exportBuffer.select();\n      \n      document.execCommand('Copy');\n\n    } else {\n\n      if(this.state.encryptExport){\n        // https://atmospherejs.com/jparker/crypto-aes\n        jsonFile = CryptoJS.AES.encrypt(JSON.stringify(exportBuffer), Meteor.userId());\n      } else {\n        jsonFile = JSON.stringify(exportBuffer, null, 2);\n      }\n\n      \n      var blob = new Blob([jsonFile], { type: 'application/json;charset=utf-8;' })\n      console.log('blob', blob)\n\n      var url = URL.createObjectURL(blob);\n      console.log('url', url)\n\n      var filename = '';\n\n      if(this.state.fileName.length > 0){\n        filename = this.state.fileName + \".Bundle\";\n      } else {\n        filename = 'continuity-of-care.ccd';\n      }\n\n\n      switch (Session.get('exportFileType')) {\n        case 2:  // Geojson\n          filename = filename + '.geojson';\n          break;      \n        default:\n          if(this.state.encryptExport){\n            filename = filename + '.fhir';\n          } else {\n            filename = filename + '.json';\n          }\n          break;\n      }\n      \n      // desktop \n      //var dataString = 'data:text/csv;charset=utf-8,' + encodeURIComponent(JSON.stringify(exportBuffer, null, 2));  \n\n      var patientName = Meteor.user().displayName();\n      console.log('Generating CCD for ', patientName)\n      console.log('filename', filename)\n\n      var downloadAnchorElement = document.getElementById('downloadAnchorElement');\n\n      downloadAnchorElement.setAttribute(\"href\", url);\n      downloadAnchorElement.setAttribute(\"download\", filename);\n      downloadAnchorElement.style.visibility = 'hidden';\n      document.body.appendChild(downloadAnchorElement);\n      downloadAnchorElement.click();\n\n      // document.body.removeChild(downloadAnchorElement);\n      // downloadAnchorElement.setAttribute(\"href\", dataString );\n  \n    \n        // downloadAnchorElement.setAttribute(\"download\", \"continuity-of-care.fhir.ccd\");\n        // downloadAnchorElement.click();\n        // // window.open('data:text/csv;charset=utf-8,' + escape(exportBuffer), '_self');    \n      // } else {\n      //   console.log('Couldnt find anchor element.')\n      // }  \n    }\n\n  }\n  exportContinuityOfCareDoc(){\n    console.log('Exporting a Continuity Of Care Document');\n\n    let toggleStates = Session.get('toggleExportStates');\n\n    if(['iPhone'].includes(window.navigator.platform)){\n      // downloadLabel = 'Copy to Clipboard'\n      downloadLabel = 'Select All > Share > Save to Files > iCloud';\n      downloadDisabled = true;\n      downloadAnchor = <h4 style={{width: '100%', textAlign: 'center', margin: '10px'}}>Select All > Share > Save to Files > iCloud</h4>\n      relayTab = <Tab label=\"Relay\" value={1} style={this.data.style.tab} /> \n\n      toggleStates = {\n        exportsAll: true,\n        allergies: true,\n        appointments: true,\n        bundles: true,       \n        careplans: true,   \n        claims: true,       \n        conditions: true,\n        consents: true,\n        contracts: true,\n        communications: true,\n        clinicalImpressions: true,\n        devices: true,\n        diagnosticReports: true,\n        endpoints: true,       \n        familyMemberHistories: true,\n        goals: true,\n        immunizations: true,\n        imagingStudies: true,\n        lists: true,\n        locations: true,\n        medications: true,\n        medicationOrders: true,\n        medicationStatements: true,\n        messageHeaders: true,\n        questionnaires: true,\n        questionnaireResponses: true,\n        patients: true,\n        persons: true,\n        practitioners: true,\n        procedures: true,\n        procedureRequests: true,\n        observations: true,\n        relatedPersons: true,\n        riskAssessments: true,\n        organizations: true,\n        schedules: true,\n        serviceRequests: true,\n        sequences: true,\n        zero: true\n      }\n    }\n\n\n    let fhirEntries = [];\n    let exportBuffer = {\n      resourceType: \"Bundle\",\n      entry: []\n    }\n\n    let newComposition = {\n      fullUrl: \"/Composition/\" + Random.id(),\n      resource: {\n        \"resourceType\": \"Composition\",\n        \"identifier\" : {}, \n        \"status\" : \"preliminary\", \n        \"type\" : {}, \n        \"class\" : {}, \n        \"subject\" : { \n          \"display\": '',\n          \"reference\": ''\n        }, \n        \"encounter\" : { \n          \"display\": '',\n          \"reference\": ''\n         }, \n        \"date\" : \"<dateTime>\", \n        \"author\" : [{ \n          \"display\": '',\n          \"reference\": ''\n        }], \n        \"title\" : \"Continuity of Care Document\", \n        \"confidentiality\" : \"0\", \n        \"attester\" : [],\n        \"custodian\" : { \n          \"display\": '',\n          \"reference\": ''\n        }, \n        \"relatesTo\" : [],\n        \"event\" : [],\n        \"section\" : []\n      }\n    };\n\n\n    if(Roles.userIsInRole(Meteor.userId(), 'patient')){\n      newComposition.resource.subject.display = Meteor.user().fullName();\n      newComposition.resource.subject.reference = 'Patient/' + Meteor.userId()\n\n      newComposition.resource.author.display = Meteor.user().fullName();\n      newComposition.resource.author.reference = 'Patient/' + Meteor.userId()\n    }\n\n    if(Roles.userIsInRole(Meteor.userId(), 'practitioner')){\n      if(Patients.findOne()){\n        newComposition.resource.subject.display = Patients.findOne().displayName();\n        newComposition.resource.subject.reference = 'Patient/' + get(Patients.findOne(), '_id');\n      }\n\n      newComposition.resource.author.display = Meteor.user().fullName();\n      newComposition.resource.author.reference = 'Practitioner/' + Meteor.userId()\n    }\n\n\n    if((typeof AllergyIntolerances === \"object\") && toggleStates.allergies){\n      console.log('AllergyIntolerances is an object; and toggles set')\n      AllergyIntolerances.find().forEach(function(allergy){\n        delete allergy._document;\n        fhirEntries.push({\n          fullUrl: \"/AllergyIntolerance/\" + allergy._id,\n          resource: allergy\n        })\n        newComposition.resource.section.push({\n          entry: [{\n            reference: \"/AllergyIntolerance/\" + allergy._id\n          }]\n        })\n      })\n    }\n    if((typeof CarePlans === \"object\") && toggleStates.careplans){\n      CarePlans.find().forEach(function(careplan){\n        delete careplan._document;\n        fhirEntries.push({\n          fullUrl: \"/CarePlan/\" + careplan._id,\n          resource: careplan\n        })\n        newComposition.resource.section.push({\n          reference: \"/CarePlan/\" + careplan._id\n        })\n      })\n    }\n    if((typeof Claims === \"object\") && toggleStates.claims){\n      Claims.find().forEach(function(claim){\n        delete claim._document;\n        fhirEntries.push({\n          fullUrl: \"/Claim/\" + claim._id,\n          resource: claim\n        })\n        newComposition.resource.section.push({\n          reference: \"/Claim/\" + claim._id\n        })\n      })\n    }\n    \n    if((typeof Conditions === \"object\") && toggleStates.conditions){\n      let query = {};\n      if(Session.get('hideEnteredInError')){          \n        query.verificationStatus = {$nin: [\"entered-in-error\"]}  // unconfirmed | provisional | differential | confirmed | refuted | entered-in-error\n      }\n\n      Conditions.find(query).forEach(function(condition){\n        delete condition._document;\n        fhirEntries.push({\n          fullUrl: \"/Condition/\" + condition._id,\n          resource: condition\n        })\n        newComposition.resource.section.push({\n          reference: \"/Condition/\" + condition._id\n        })\n      })\n    }\n    if((typeof Consents === \"object\") && toggleStates.consents){\n      Consents.find().forEach(function(consent){\n        delete consent._document;\n        fhirEntries.push({\n          fullUrl: \"/Consent/\" + consent._id,\n          resource: consent\n        })\n        newComposition.resource.section.push({\n          reference: \"/Consent/\" + consent._id\n        })\n      })\n    }    \n    if((typeof Claims === \"object\") && toggleStates.claims){\n      Claims.find().forEach(function(claim){\n        delete claim._document;\n        fhirEntries.push({\n          fullUrl: \"/Claim/\" + claim._id,\n          resource: claim\n        })\n        newComposition.resource.section.push({\n          reference: \"/Claim/\" + claim._id\n        })\n      })\n    }\n    if((typeof Communications === \"object\") && toggleStates.communications){\n      Communications.find().forEach(function(communication){\n        delete communication._document;\n        fhirEntries.push({\n          fullUrl: \"/Communication/\" + communication._id,\n          resource: communication\n        })\n        newComposition.resource.section.push({\n          reference: \"/Communication/\" + communication._id\n        })\n      })\n    }\n    if((typeof Contracts === \"object\") && toggleStates.contracts){\n      Contracts.find().forEach(function(contract){\n        delete contract._document;\n        fhirEntries.push({\n          fullUrl: \"/Contract/\" + contract._id,\n          resource: contract\n        })\n        newComposition.resource.section.push({\n          reference: \"/Contract/\" + contract._id\n        })\n      })\n    }\n    if((typeof ClinicalImpressionss === \"object\") && toggleStates.clinicalImpressions){\n      ClinicalImpressionss.find().forEach(function(clinicalImpression){\n        delete clinicalImpression._document;\n        fhirEntries.push({\n          fullUrl: \"/ClinicalImpressions/\" + clinicalImpression._id,\n          resource: clinicalImpression\n        })\n        newComposition.resource.section.push({\n          reference: \"/ClinicalImpressions/\" + clinicalImpression._id\n        })\n      })\n    }\n    if((typeof Devices === \"object\") && toggleStates.devices){\n      Devices.find().forEach(function(device){\n        delete device._document;\n        fhirEntries.push({\n          fullUrl: \"/Device/\" + device._id,\n          resource: device\n        })\n        newComposition.resource.section.push({\n          reference: \"/Device/\" + device._id\n        })\n      })\n    }\n    if((typeof DiagnosticReports === \"object\") && toggleStates.diagnosticReports){\n      DiagnosticReports.find().forEach(function(diagnosticReport){\n        delete diagnosticReport._document;\n        fhirEntries.push({\n          fullUrl: \"/DiagnosticReport/\" + diagnosticReport._id,\n          resource: diagnosticReport\n        })\n        newComposition.resource.section.push({\n          reference: \"/DiagnosticReport/\" + diagnosticReport._id\n        })\n      })\n    }\n    if((typeof Goals === \"object\") && toggleStates.goals){\n      Goals.find().forEach(function(goal){\n        delete goal._document;\n        fhirEntries.push({\n          fullUrl: \"/Goal/\" + goal._id,\n          resource: goal\n        })\n        newComposition.resource.section.push({\n          reference: \"/Goal/\" + goal._id\n        })\n      })\n    }\n    if((typeof Immunizations === \"object\") && toggleStates.immunizations){\n      Immunizations.find().forEach(function(immunization){\n        delete immunization._document;\n        fhirEntries.push({\n          fullUrl: \"/Immunization/\" + immunization._id,\n          resource: immunization\n        })\n        newComposition.resource.section.push({\n          reference: \"/Immunization/\" + immunization._id\n        })\n      })\n    }\n    if((typeof ImagingStudies === \"object\") && toggleStates.imagingStudies){\n      ImagingStudies.find().forEach(function(imagingStudy){\n        delete imagingStudy._document;\n        fhirEntries.push({\n          fullUrl: \"/ImagingStudies/\" + imagingStudy._id,\n          resource: imagingStudy\n        })\n        newComposition.resource.section.push({\n          reference: \"/ImagingStudies/\" + imagingStudy._id\n        })\n      })\n    }\n    if((typeof Locations === \"object\") && toggleStates.locations){\n      Locations.find().forEach(function(location){\n        delete location._document;\n        fhirEntries.push({\n          fullUrl: \"/Location/\" + location._id,\n          resource: location\n        })\n        newComposition.resource.section.push({\n          reference: \"/Location/\" + location._id\n        })\n      })\n    }\n    if((typeof Medications === \"object\") && toggleStates.medications){\n      Medications.find().forEach(function(medication){\n        delete medication._document;\n        fhirEntries.push({\n          fullUrl: \"/Medication/\" + medication._id,\n          resource: medication\n        })\n        newComposition.resource.section.push({\n          reference: \"/Medication/\" + medication._id\n        })\n      })\n    }\n    if((typeof MedicationOrders === \"object\") && toggleStates.medicationOrders){\n      MedicationOrders.find().forEach(function(medicationOrder){\n        delete medicationOrder._document;\n        fhirEntries.push({\n          fullUrl: \"/MedicationOrder/\" + medicationOrder._id,\n          resource: medicationOrder\n        })\n        newComposition.resource.section.push({\n          reference: \"/MedicationOrder/\" + medicationOrder._id\n        })\n      })\n    }\n    if((typeof MedicationStatements === \"object\") && toggleStates.medicationStatements){\n      MedicationStatements.find().forEach(function(medicationStatement){\n        delete medicationStatement._document;\n        fhirEntries.push({\n          fullUrl: \"/MedicationStatement/\" + medicationStatement._id,\n          resource: medicationStatement\n        })\n        newComposition.resource.section.push({\n          reference: \"/MedicationStatement/\" + medicationStatement._id\n        })\n      })\n    }\n    if((typeof Observations === \"object\") && toggleStates.observations){\n      Observations.find().forEach(function(observation){\n        delete observation._document;\n        fhirEntries.push({\n          fullUrl: \"/Observation/\" + observation._id,\n          resource: observation\n        })\n        newComposition.resource.section.push({\n          reference: \"/Observation/\" + observation._id\n        })\n      })\n    }\n    if((typeof Organizations === \"object\") && toggleStates.organizations){\n      Organizations.find().forEach(function(organization){\n        delete organization._document;\n        fhirEntries.push({\n          fullUrl: \"/Organization/\" + organization._id,\n          resource: organization\n        })\n        newComposition.resource.section.push({\n          reference: \"/Organization/\" + organization._id\n        })\n      })\n    }\n    if((typeof Patients === \"object\") && toggleStates.patients){\n      Patients.find().forEach(function(patient){\n        delete patient._document;\n        fhirEntries.push({\n          fullUrl: \"/Patient/\" + patient._id,\n          resource: patient\n        })\n        newComposition.resource.section.push({\n          reference: \"/Patient/\" + patient._id\n        })\n      })\n    }\n    if((typeof Persons === \"object\") && toggleStates.persons){\n      Persons.find().forEach(function(person){\n        delete person._document;\n        fhirEntries.push({\n          fullUrl: \"/Person/\" + person._id,\n          resource: person\n        })\n        newComposition.resource.section.push({\n          reference: \"/Person/\" + person._id\n        })\n      })\n    }\n    if((typeof Practitioners === \"object\") && toggleStates.practitioners){\n      Practitioners.find().forEach(function(practitioner){\n        delete practitioner._document;\n        fhirEntries.push({\n          fullUrl: \"/Practitioner/\" + practitioner._id,\n          resource: practitioner\n        })\n        newComposition.resource.section.push({\n          reference: \"/Practitioner/\" + practitioner._id\n        })\n      })\n    }\n    if((typeof Procedures === \"object\") && toggleStates.procedures){\n      Procedures.find().forEach(function(procedure){\n        delete procedure._document;\n        fhirEntries.push({\n          fullUrl: \"/Procedure/\" + procedure._id,\n          resource: procedure\n        })\n        newComposition.resource.section.push({\n          reference: \"/Procedure/\" + procedure._id\n        })\n      })\n    }\n    if((typeof Questionnaires === \"object\") && toggleStates.questionnaires){\n      Questionnaires.find().forEach(function(questionnaire){\n        delete questionnaire._document;\n        fhirEntries.push({\n          fullUrl: \"/Questionnaire/\" + questionnaire._id,\n          resource: questionnaire\n        })\n        newComposition.resource.section.push({\n          reference: \"/Questionnaire/\" + questionnaire._id\n        })\n      })\n    }\n    if((typeof QuestionnaireResponses === \"object\") && toggleStates.questionnaireResponses){\n      QuestionnaireResponses.find().forEach(function(questionnaireResponse){\n        delete questionnaireResponse._document;\n        fhirEntries.push({\n          fullUrl: \"/QuestionnaireResponse/\" + questionnaireResponse._id,\n          resource: questionnaireResponse\n        })\n        newComposition.resource.section.push({\n          reference: \"/QuestionnaireResponse/\" + questionnaireResponse._id\n        })\n      })\n    }\n    if((typeof RiskAssessments === \"object\") && toggleStates.riskAssessments){\n      RiskAssessments.find().forEach(function(riskAssessment){\n        delete riskAssessment._document;\n        fhirEntries.push({\n          fullUrl: \"/RiskAssessment/\" + riskAssessment._id,\n          resource: riskAssessment\n        })\n        newComposition.resource.section.push({\n          reference: \"/RiskAssessment/\" + riskAssessment._id\n        })\n      })\n    }\n    if((typeof Sequences === \"object\") && toggleStates.sequences){\n      Sequences.find().forEach(function(sequence){\n        delete sequence._document;\n        fhirEntries.push({\n          fullUrl: \"/Sequence/\" + sequence._id,\n          resource: sequence\n        })\n        newComposition.resource.section.push({\n          reference: \"/Sequence/\" + sequence._id\n        })\n      })\n    }\n    if((typeof ServiceRequests === \"object\") && toggleStates.serviceRequests){\n      ServiceRequests.find().forEach(function(serviceRequest){\n        delete serviceRequest._document;\n        fhirEntries.push({\n          fullUrl: \"/ServiceRequest/\" + serviceRequest._id,\n          resource: serviceRequest\n        })\n        newComposition.resource.section.push({\n          reference: \"/ServiceRequest/\" + serviceRequest._id\n        })\n      })\n    }\n    exportBuffer.entry.push(newComposition);\n\n    fhirEntries.forEach(function(fhirResource){\n      exportBuffer.entry.push(fhirResource);\n    })\n\n    Session.set('exportBuffer', exportBuffer);\n\n    let exportCcd = { \n      \"resourceType\" : \"AuditEvent\",\n      \"action\" : 'C-CDA Argonaut Bundle Generated',\n      \"recorded\" : new Date(), \n      \"outcome\" : 'Success',\n      \"outcomeDesc\" : 'User generated a C-CDA bundle.',\n      \"agent\" : [{\n        \"altId\" : Meteor.userId() ? Meteor.userId() : '', // Alternative User id e.g. authentication\n        \"name\" : Meteor.user() ? Meteor.user().fullName() : '', // Human-meaningful name for the agent\n        \"requestor\" : true  \n      }],\n      \"source\" : { \n        \"site\" : Meteor.absoluteUrl(),\n        \"identifier\": {\n          \"value\": 'Accounts Subsystem'\n        }\n      },\n      \"entity\": []\n    }      \n\n    // HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Procedures\", recordId: self.state.procedureId });\n    HipaaLogger.logAuditEvent(exportCcd, {validate: get(Meteor, 'settings.public.defaults.schemas.validate', false)}, function(error, result){\n      if(error) console.error('HipaaLogger.logEvent.error.invalidKeys', error.invalidKeys)\n      if(result) console.error(result)\n    });\n  }\n  exportGeojson(){\n    console.log('Exporting Geojson file.')\n    console.log('Number of Locations:  ', Locations.find().count())\n\n    let newFeatureCollection = {\n      \"type\": \"FeatureCollection\",\n      \"crs\": { \"type\": \"name\", \"properties\": { \"name\": \"urn:ogc:def:crs:OGC:1.3:CRS84\" } },\n      \"features\": []\n    }\n\n    Locations.find().forEach(function(location){\n      let newFeature = { \n        \"type\": \"Feature\", \n        \"properties\": location, \n        \"geometry\": { \n          \"type\": \"Point\", \n          \"coordinates\": [ get(location, 'position.longitude', null), get(location, 'position.latitude', null) ] \n        } \n      }\n      newFeatureCollection.features.push(newFeature);\n    });\n\n\n    Session.set('exportBuffer', newFeatureCollection);\n\n\n  }\n  exportFile(variable, event, value){\n    console.log(\"Let's try to export a file...\")\n    var self = this;\n\n    let dataContent = Session.get('exportBuffer');\n\n    switch (Session.get('exportFileType')) {\n      case 1:  // FHIR Bundle\n      this.exportContinuityOfCareDoc();\n      break;      \n      case 2:  // Geojson\n        this.exportGeojson();\n        break;      \n      default:\n        this.exportContinuityOfCareDoc();\n        break;\n    }\n\n    if(['iPad'].includes(window.navigator.platform)){\n      browserHistory.push('/continuity-of-care')\n    }\n  }\n  handleChangeSyncSource(event, index, value){\n    console.log('handleChangeSyncSource', event, index, value)\n    Session.set('syncSourceItem', value)\n  }\n\n  handleChange = (value) => {\n    this.setState({\n      value: value\n    });\n  }\n  changeFileName(event, value){\n    console.log('changeFileName', event, value)\n    this.setState({\n      fileName: value\n    });\n  }\n  handleTabChange = (event, value) => {\n    this.setState({\n      importValue: value,\n      tabIndex: value\n    });\n  }\n  handleTextareaUpdate(){\n\n  }\n  sendToBundleService(){\n    console.log('Sending to Bundle Service...')\n    process.env.NODE_ENV === \"verbose\" && console.log('exportBuffer', Session.get('exportBuffer'))\n\n\n    switch (Session.get('relayAlgorithm')) {\n      case 1:\n        console.log('Sending to bundle service...')\n        Bundles.insert(Session.get('exportBuffer'), {validation: false, filter: false}, function(error, result){\n          console.log('error', error)\n          if(result){\n            browserHistory.push('/bundles')\n          }\n        })\n        break;\n      case 2:\n        console.log('Sending to warehouse...')\n        Meteor.call('storeBundleToWarehouse', Session.get('exportBuffer'), function(error, result){\n          if(error){console.log('error', error);}\n          Meteor.call('getServerStats', function(error, result){\n            if(result){\n              Session.set('datalakeStats', result);\n            }\n          });  \n        })\n\n        // if(!Questionnaire.findOne(record._id)){\n        //   let questionnaireId = Questionnaire.insert(record, collectionConfig);    \n        //   console.log('Questionnaire created: ' + questionnaireId);\n        // }    \n\n      break;\n      case 3:\n        console.log('Trying to send to relay endpoint...')\n        break;\n    \n      default:\n        break;\n    }\n\n  }\n  toggleEncryptExport(){\n    this.setState({encryptExport: !this.state.encryptExport})\n  }\n  handleChangeExportFileType(event, index, value){\n    //console.log('handleChangeExportFileType', event, index, value)\n    Session.set('exportFileType', value)\n  }\n  handleChangeRelayAlgorithm(event, index, value){\n    //console.log('handleChangeRelayAlgorithm', value)\n    Session.set('relayAlgorithm', value)\n  }\n  render(){\n    const { tabIndex } = this.state.tabIndex;\n\n    var relayTab;\n    var downloadLabel = 'Download!';\n    var downloadDisabled = false;\n    var fileNameInput;\n\n    var downloadAnchor = <RaisedButton \n      label={downloadLabel} \n      onClick={this.downloadContinuityOfCareDoc.bind(this)}\n      style={{position: 'sticky', bottom: '20px', marginBottom: '20px'}}\n      primary={true}\n      disabled={downloadDisabled}\n      fullWidth\n    /> \n\n    if(['iPhone'].includes(window.navigator.platform)){\n      // downloadLabel = 'Copy to Clipboard'\n      downloadLabel = 'Select All > Share > Save to Files > iCloud';\n      downloadDisabled = true;\n      downloadAnchor = <h4 style={{textAlign: 'center', width: '100%', margin: '10px'}}>Select All > Share > Save to Files > iCloud</h4>\n    } else {\n      relayTab = <Tab label=\"Relay\" value={1} style={this.data.style.tab} /> \n      fileNameInput = <TextField\n        id='fileName'\n        name='fileName'\n        type='text'\n        floatingLabelText='File Name'\n        onChange={this.changeFileName.bind(this)}\n        floatingLabelFixed={true}\n        hintText={ Meteor.user() ? Meteor.user().fullName() + '.fhir' : ''}\n        // onKeyPress={this.handleKeyPress.bind(this)}\n        // value={ get(formData, 'fileName') }\n        fullWidth\n      />\n    }\n\n    var inputCardLayout = 3;\n    var processingCardLayout = 6;\n    var outputCardLayout = 3;\n\n    if(window.innerHeight > window.innerWidth){\n      inputCardLayout = 12;\n      processingCardLayout = 12;\n      outputCardLayout = 12;\n    }\n\n    var autoheight = 'auto';\n\n    // if(['iPad'].includes(window.navigator.platform)){\n    //   autoheight = 'auto'\n    // }\n\n    let relayControl;\n    if(Session.get('relayAlgorithm') === 3){\n      relayControl = <div>\n        <TextField\n          id='fileName'\n          name='fileName'\n          type='text'\n          floatingLabelText='Relay Endpoint'\n          // onKeyPress={this.handleKeyPress.bind(this)}\n          // onChange={this.handleChange.bind(this, 'fileName')}\n          floatingLabelFixed={true}\n          hintText='https://healthcare.destination.edu'\n          // value={ get(formData, 'fileName') }\n          fullWidth\n          /><br/>\n        \n        <TextField\n          id='recipientName'\n          name='recipientName'\n          type='text'\n          floatingLabelText='Recipient Name'\n          // onChange={this.handleChange.bind(this, 'recipientName')}\n          // value={ get(formData, 'recipientName') }\n          floatingLabelFixed={true}\n          hintText='PatientName.YYYYMMDD.fhir'\n          fullWidth>\n            <FlatButton\n              label=\"Patients\"\n              className=\"patientsButton\"\n              primary={true}\n              onChange={this.handleOpenPatients}\n              icon={ <AccountCircle /> }\n              style={{textAlign: 'right', cursor: 'pointer'}}\n            />\n          </TextField><br/>\n        </div>\n    }\n\n    return(\n\n      <GlassCard id=\"ExportComponent\" style={{marginBottom: '20px'}}>\n        <Tabs\n            value={this.state.tabIndex}\n            onChange={this.handleTabChange}\n          >\n          <Tab label=\"Export\" value={0} style={this.data.style.tab}  />\n          {/* <Tab label=\"Queue\" value={1} style={this.data.style.tab}  /> */}\n          { relayTab }           \n        </Tabs>\n\n        {this.state.tabIndex === 0 && <TabContainer>\n          <CardText>\n          <SelectField\n              floatingLabelText=\"Export Algorithm\"\n              value={this.data.exportFileType}\n              onChange={this.handleChangeExportFileType}\n              fullWidth\n            >\n              <MenuItem value={1} primaryText=\"FHIR Bundle - Mixed Mode\" />\n              <MenuItem value={2} primaryText=\"FHIR Bundle - R4\" disabled />\n              <MenuItem value={3} primaryText=\"FHIR Bundle - DSTU2\" disabled />\n              <MenuItem value={4} primaryText=\"FHIR Bundle - STU3\" disabled />\n              <MenuItem value={5} primaryText=\"Geojson\" />\n            </SelectField>\n\n\n            { fileNameInput }\n            <br/>\n            <Toggle onToggle={this.toggleEncryptExport.bind(this) } toggled={get(this, 'data.encryptExport')} label=\"Encrypt\" labelPosition='right' /><br />\n            {/* <Toggle disabled toggled={true} label=\"Entire Record\" labelPosition='right' /><br /> */}\n            <RaisedButton \n              id='exportCcdBtn'\n              label='Prepare Continuity of Care Document' \n              onClick={this.exportFile.bind(this)}\n              // onClick={this.exportContinuityOfCareDoc.bind(this)}\n              primary={true}\n              style={{bottom: '20px', marginBottom: '20px'}}\n              fullWidth\n              />    \n              \n            <textarea \n              id='exportBuffer' \n              value={ get(this, 'data.export.data') }\n              onChange= { this.handleTextareaUpdate }\n              style={{width: '100%', position: 'relative', minHeight: '200px', height: '360px', backgroundColor: '#f5f5f5', borderColor: '#ccc', borderRadius: '4px'}} />\n          </CardText>\n          { downloadAnchor }             \n          <a id=\"downloadAnchorElement\" style={{display: \"none\"}} ></a>        \n        </TabContainer>}  \n\n        {this.state.tabIndex === 2 && <TabContainer>\n          <CardText>\n            <textarea \n              id='exportBuffer' \n              value={ get(this, 'data.export.data') }\n              onChange= { this.handleTextareaUpdate }\n              style={{width: '100%', position: 'relative', minHeight: '200px', height: '400px', backgroundColor: '#f5f5f5', borderColor: '#ccc', borderRadius: '4px', lineHeight: '16px'}} />\n          </CardText>\n        </TabContainer>}  \n\n\n        {this.state.tabIndex === 1 && <TabContainer>\n          <CardText>\n            <div>\n              <SelectField\n                floatingLabelText=\"Mapping Algorithm\"\n                value={this.data.relayAlgorithm}\n                onChange={this.handleChangeRelayAlgorithm}\n                fullWidth\n              >\n                <MenuItem value={1} id=\"relay-menu-item-1\" key=\"relay-menu-item-1\" primaryText=\"Symptomatic - Bundle Service\" />\n                <MenuItem value={2} id=\"relay-menu-item-2\" key=\"relay-menu-item-2\" primaryText=\"Symptomatic - Warehouse\" />\n                <MenuItem value={3} id=\"relay-menu-item-3\" key=\"relay-menu-item-3\" primaryText=\"Other Relay Endpoint\" />\n              </SelectField>\n\n\n              { relayControl }\n\n              <RaisedButton \n                label='Send to Bundle Service' \n                onClick={this.sendToBundleService.bind(this)}\n                style={{position: 'sticky', bottom: '20px', marginBottom: '20px'}}\n                primary={true}\n                fullWidth\n                /> \n\n              {/* <RaisedButton \n                label='Send to Custom Relay' \n                // onClick={this.downloadContinuityOfCareDoc.bind(this)}\n                style={{position: 'sticky', bottom: '20px', marginBottom: '20px'}}\n                primary={true}\n                fullWidth\n                />  */}\n\n            </div>\n          </CardText>\n        </TabContainer>}  \n      </GlassCard>\n    );\n  }\n\n  callMethod(signature){\n    console.log(\"callMethod\", signature);\n\n    Meteor.call(signature);\n  }\n}\n\nExportComponent.propTypes = {};\nReactMixin(ExportComponent.prototype, ReactMeteorData);\nexport default ExportComponent;","// https://www.npmjs.com/package/react-dropzone-component\n// http://www.dropzonejs.com/\n\nimport { FlatButton, CardActions, CardHeader, CardText, CardTitle, SelectField, MenuItem, Tab, Tabs, TextField, RaisedButton, Toggle } from 'material-ui';\nimport {blue500, orange500} from 'material-ui/styles/colors';\nimport {blue600, gray600, green600, orange600, red600, yellow600} from 'material-ui/styles/colors';\nimport { Grid, Col, Row } from 'react-bootstrap';\n\nimport ActionAlarm from 'material-ui/svg-icons/action/alarm';\nimport ActionAndroid from 'material-ui/svg-icons/action/android';\nimport ActionFavorite from 'material-ui/svg-icons/action/favorite';\nimport ActionFavoriteBorder from 'material-ui/svg-icons/action/favorite-border';\nimport { CollectionManagement } from './CollectionManagement';\nimport Dialog from 'material-ui/Dialog';\nimport DropzoneComponent from 'react-dropzone-component';\nimport { Meteor } from 'meteor/meteor';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Session } from 'meteor/session';\nimport { Table } from 'react-bootstrap';\n\nimport { FullPageCanvas, VerticalCanvas, DynamicSpacer, GlassCard, Glass } from 'meteor/clinical:glass-ui';\nimport { parseString } from 'xml2js';\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\n\nimport { ExportComponent } from './ExportComponent';\n\nexport class ExportPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      importValue: 'importTab',\n      exportValue: 'exportTab',\n      encryptExport: false\n    };\n  }\n\n\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      dialog: {\n        open: Session.get('open')\n      },      \n      user: {\n        isAdmin: false\n      },\n      title: \"Client Collections\",\n      upstreamSync: false,\n      encryptExport: this.state.encryptExport,\n      import: {\n        fileExtension: Session.get('fileExtension'),\n        // height: (Session.get('appHeight') - 540 ) + 'px',\n        height: (Session.get('appHeight') - 556 ) + 'px',  //565\n        data: ''\n      },\n      dataManagement: {\n        height: (Session.get('appHeight') - 300 ) + 'px'\n      },\n      export: {\n        height: (Session.get('appHeight') - 380 ) + 'px',\n        data: ''\n      },\n      syncSourceItem: Session.get('syncSourceItem'),\n      toggleStates: Session.get('toggleStates')\n    };\n\n\n    if(Session.get('continuityOfCareDoc')){\n      data.export.data = JSON.stringify(Session.get('continuityOfCareDoc'), null, 2);\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    console.log('Navigated to ExportPage', data);\n    return data;\n  }\n   \n  render(){\n    return(\n      <div id=\"ExportPage\">\n        <FullPageCanvas >\n          <ExportComponent />\n        </FullPageCanvas>\n      </div>\n    );\n  }\n\n}\n\n\nReactMixin(ExportPage.prototype, ReactMeteorData);\nexport default ExportPage;","\nimport { Col, Row } from 'react-bootstrap';\nimport { CardText, CardTitle, CardActions, Tab, Tabs, FlatButton, TextField, RaisedButton, Toggle } from 'material-ui';\nimport React, {Component} from 'react'\nimport { get, has, uniq, uniqBy } from 'lodash';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { GlassCard, FullPageCanvas, DynamicSpacer } from 'meteor/clinical:glass-ui';\n\nimport Chip from '@material-ui/core/Chip';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst chipStyles = theme => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing.unit,\n  },\n});\n\n\nSession.setDefault('formDesignerTabIndex', 0);\n\nSession.setDefault('uteroToggle', true);\nSession.setDefault('pubertyToggle', true);\nSession.setDefault('menopauseToggle', true);\nSession.setDefault('hospiceToggle', true);\nSession.setDefault('riskAssessmentToggle', true);\n\nSession.setDefault('substanceAbuseToggled', true);\nSession.setDefault('mentalHealthToggled', true);\nSession.setDefault('sexualHealthToggled', true);\n\nSession.setDefault('hideEnteredInError', true);\nSession.setDefault('hidePatientName', true);\nSession.setDefault('hideToggles', true);\nSession.setDefault('hideActionIcons', true);\n\nSession.setDefault('currentObservationType', 'Pulse')\n\nexport class FiltersPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      removeFilterInput: '',\n      mustHaveInput: ''\n    }\n  }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none',\n          width: '200px'\n        }\n      },\n      tabIndex: Session.get('formDesignerTabIndex'),\n      ccd: null,\n      timelineEntries: [],\n      resourceTypes: [],\n      toggles: {\n        uteroToggled: Session.get('uteroToggle'),\n        pubertyToggled: Session.get('pubertyToggle'),\n        menopauseToggled: Session.get('menopauseToggle'),\n        hospiceToggled: Session.get('hospiceToggle'),\n        riskAssessmentToggled: Session.get('riskAssessmentToggle'),\n        substanceAbuseToggled: get(Meteor.user(), 'profile.filters.sensitiveItems.substanceAbuse'),\n        mentalHealthToggled: get(Meteor.user(), 'profile.filters.sensitiveItems.mentalHealth'),\n        sexualHealthToggled: get(Meteor.user(), 'profile.filters.sensitiveItems.sexualHealth'),\n        hideEnteredInError: Session.get('hideEnteredInError'),\n        hidePatientName: Session.get('hidePatientName'),\n        hideToggles: Session.get('hideToggles'),\n        hideActionIcons: Session.get('hideActionIcons')\n      },\n      uniqueCodes: [],\n      currentObservationType: Session.get('currentObservationType')\n    }\n\n    if(Meteor.user()){\n      data.resourceTypes = get(Meteor.user(), 'profile.filters.resourceTypes', []);\n      data.filters = get(Meteor.user(), 'profile.filters');\n    }\n\n    let observations = Observations.find().map(function(record){\n      return get(record, 'code.text');\n    })\n    if(observations){\n      let uniqueCodes = uniq(observations)\n      //console.log('Unique Observation Codes: ', uniqueCodes)\n\n      data.uniqueCodes = uniq(observations);\n    }\n\n    console.log(\"Navigated to FiltersPage\", data);\n    return data;\n  }; \n\n  setToggleState(collection, isInputChecked){\n    let toggleStates = Session.get('toggleStates');\n    toggleStates[collection] = isInputChecked;\n    console.log('toggleStates', toggleStates)\n    Session.set('toggleStates', toggleStates);\n  }\n\n  toggleAllergies(event, isInputChecked){    \n    this.setToggleState('allergies', isInputChecked)\n  }\n  toggleCarePlans(event, isInputChecked){    \n    this.setToggleState('careplans', isInputChecked)\n  }\n  toggleConditions(event, isInputChecked){    \n    this.setToggleState('conditions', isInputChecked)\n  }\n  toggleImmunizations(event, isInputChecked){\n    this.setToggleState('immunizations', isInputChecked)\n  }\n  toggleMedications(event, isInputChecked){    \n    this.setToggleState('medications', isInputChecked)\n  }\n  toggleMedicationStatements(event, isInputChecked){    \n    this.setToggleState('medications', isInputChecked)\n  }\n  toggleMedicationOrders(event, isInputChecked){    \n    this.setToggleState('medications', isInputChecked)\n  }\n  toggleObservations(event, isInputChecked){    \n    this.setToggleState('observations', isInputChecked)\n  }\n  toggleProcedures(event, isInputChecked){    \n    this.setToggleState('procedures', isInputChecked)\n  }\n\n\n  handleTabChange(index){\n    Session.set('formDesignerTabIndex', index);\n  }\n  handleDelete(){\n    alert('handleDelete')\n  }\n  saveRemoveFilter(){\n    Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n      'profile.filters.remove': this.state.removeFilterInput\n    }})\n    this.setState({\n      removeFilterInput: \"\"\n    })\n  }\n  saveMustUseFilter(){\n    Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n      'profile.filters.mustHave': this.state.mustHaveInput\n    }})\n    this.setState({\n      mustHaveInput: \"\"\n    })\n\n  }\n  handleAddRemoveFilter(proxy, value){\n    //console.log('handleAddRemoveFilter', value)\n    this.setState({\n      removeFilterInput: value\n    })\n  }\n  handleAddMustUseFilter(proxy, value){\n    //console.log('handleAddMustUseFilter', value)\n    this.setState({\n      mustHaveInput: value\n    })\n  }\n  handleDeleteRemove(value, proxy, foo){\n    //console.log('handleDeleteRemove', value)\n\n    var newTags = [];\n    var currentTags = get(Meteor.user(), 'profile.filters.remove');\n\n    currentTags.forEach(function(tag){\n      if(tag !== value){\n        newTags.push(tag);\n      }\n    })\n\n    //console.log('newTags', newTags)\n\n    Meteor.users.update({_id: Meteor.userId()}, {$set: {\n      'profile.filters.remove': newTags\n    }})\n  }\n  handleDeleteMustHave(value, proxy, foo){\n    //console.log('handleDeleteRemove', value, proxy, foo)\n\n    var newTags = [];\n    var currentTags = get(Meteor.user(), 'profile.filters.mustHave');\n\n    currentTags.forEach(function(tag){\n      if(tag !== value){\n        newTags.push(tag);\n      }\n    })\n\n\n    //console.log('newTags', newTags)\n\n    Meteor.users.update({_id: Meteor.userId()}, {$set: {\n      'profile.filters.mustHave': newTags\n    }})\n\n  }\n  toggleFilterInProfile(collectionName){\n    var resourceTypes = [];\n    resourceTypes = get(Meteor.user(), 'profile.filters.resourceTypes');\n    console.log('toggleFilterInProfile.resourceTypes', resourceTypes)    \n    console.log('typeof toggleFilterInProfile', typeof resourceTypes)    \n    \n    if(typeof resourceTypes === \"object\"){\n      if(resourceTypes.includes(collectionName)){\n        Meteor.users.update({_id: Meteor.userId()}, {$pull: {\n          'profile.filters.resourceTypes': collectionName\n        }})\n      } else {\n        Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n          'profile.filters.resourceTypes': collectionName        \n        }})     \n      }\n    } else {\n      console.log('Profile doesnt have filters set.  Maybe add this into Accounts.js?')\n\n      Meteor.users.update({_id: Meteor.userId()}, {$set: {\n        'profile.filters.resourceTypes': [\n          collectionName\n        ]\n      }});\n\n      // console.log('Meteor.user()', Meteor.user());\n      // console.log('stringify(Meteor.user())', JSON.stringify(Meteor.user()));\n    }\n  }\n  toggleProcedures(){\n    this.toggleFilterInProfile('Procedures')\n  }\n  toggleObservations(){\n    this.toggleFilterInProfile('Observations')\n  }\n  toggleMedicationStatements(){\n    this.toggleFilterInProfile('MedicationStatements')\n  }\n  toggleMedicationOrders(){\n    this.toggleFilterInProfile('MedicationOrders')\n  }\n  toggleImmunizations(){\n    this.toggleFilterInProfile('Immunizations')\n  }\n  toggleConditions(){\n    this.toggleFilterInProfile('Conditions')\n  }\n  toggleCarePlans(){\n    this.toggleFilterInProfile('CarePlans')\n  }\n  toggleAllergies(){\n    this.toggleFilterInProfile('Allergies')\n  }\n  togglePatients(){\n    this.toggleFilterInProfile('Patients')\n  }\n\n\n  toggleUtero(){\n    console.log('toggleUtero')\n    Session.toggle('uteroToggle');\n  }\n  togglePuberty(){\n    Session.toggle('pubertyToggle');\n  }\n  toggleMenopause(){\n    Session.toggle('menopauseToggle');\n  }\n  toggleHospice(){\n    Session.toggle('hospiceToggle');\n  }\n  toggleRiskAssessment(){\n    Session.toggle('riskAssessmentToggle');\n  }\n\n\n  toggleSubstanceAbuse(){\n    var substanceAbuseValue = get(Meteor.user(), 'profile.filters.sensitiveItems.substanceAbuse');\n    if(typeof substanceAbuseValue === 'undefined'){\n      substanceAbuseValue = false;\n    }\n\n    Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n      'profile.filters.sensitiveItems.substanceAbuse': !substanceAbuseValue        \n    }})    \n  }\n  toggleMentalHealth(){\n    var substanceAbuseValue = get(Meteor.user(), 'profile.filters.sensitiveItems.mentalHealth');\n    if(typeof mentalHealthValue === 'undefined'){\n      mentalHealthValue = false;\n    }\n\n    Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n      'profile.filters.sensitiveItems.mentalHealth': !mentalHealthValue        \n    }})   \n  }\n  toggleSexualHealth(){\n    var substanceAbuseValue = get(Meteor.user(), 'profile.filters.sensitiveItems.sexualHealth');\n    if(typeof sexualHealthValue === 'undefined'){\n      sexualHealthValue = false;\n    }\n\n    Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n      'profile.filters.sensitiveItems.sexualHealth': !sexualHealthValue        \n    }})     \n  }\n  toggleEnteredInError(){\n    console.log('toggleEnteredInError')\n    Session.toggle('hideEnteredInError');\n  }\n  togglePatientNameColumn(){\n    console.log('togglePatientNameColumn')\n    Session.toggle('hidePatientName');\n  }\n  toggleSessionVar(sessionVar){\n    console.log('toggleSessionVar', sessionVar)\n    Session.toggle(sessionVar);\n  }\n  selectObservationType(event, value){\n    console.log('Selected a new observation type: ', value.props.children)\n    Session.set('currentObservationType', value.props.children)\n  } \n  render(){\n    let self = this;\n\n    var removeChips = [];\n    if(get(this, 'data.filters.remove')){\n      this.data.filters.remove.forEach(function(filter){\n        removeChips.push(<Chip \n                            label={filter} \n                            key={filter} \n                            className={chipStyles.chip} \n                            variant=\"outlined\" \n                            style={{marginRight: '10px', fontWeight: 'bold', fontSize: '120%'}}\n                            clickable\n                            onDelete={ self.handleDeleteRemove.bind(this, filter) } />)\n      })\n    }\n    \n    \n    var mustHaveChips = [];\n    if(get(this, 'data.filters.mustHave')){\n      this.data.filters.mustHave.forEach(function(filter){\n        mustHaveChips.push(<Chip \n                            label={filter} \n                            key={filter} \n                            className={chipStyles.chip} \n                            variant=\"outlined\" \n                            style={{marginRight: '10px', fontWeight: 'bold', fontSize: '120%'}}\n                            onDelete={ self.handleDeleteMustHave.bind(this, filter) } />)\n      })\n    }\n\n    var resourceTypes = this.data.resourceTypes;\n    console.log('Currently selected ResourceTypes that should be displayed on the timeline: ', this.data.resourceTypes);\n\n    let allergiesToggled = false;\n    let carePlansToggled = false;\n    let conditionsToggled = false;\n    let immunizationsToggled = false;\n    let medicationOrdersToggled = false;\n    let medicationStatementsToggled = false;\n    let observationsToggled = false;\n    let patientsToggled = false;\n    let proceduresToggled = false;\n\n\n    if(typeof resourceTypes === \"object\"){\n      allergiesToggled = resourceTypes.includes('Allergies');\n      carePlansToggled = resourceTypes.includes('CarePlans');\n      conditionsToggled = resourceTypes.includes('Conditions');\n      immunizationsToggled = resourceTypes.includes('Immunizations');\n      medicationOrdersToggled = resourceTypes.includes('MedicationOrders');\n      medicationStatementsToggled = resourceTypes.includes('MedicationStatements');\n      observationsToggled = resourceTypes.includes('Observations');\n      patientsToggled = resourceTypes.includes('Patients');  \n      proceduresToggled = resourceTypes.includes('Procedures');  \n    }\n\n    let menuItems = [];\n    this.data.uniqueCodes.forEach(function(code, integer){\n      menuItems.push(<MenuItem key={integer} value={integer} style={{fontSize: '130%'}}>{code}</MenuItem>)\n    });\n    let currentSelectIndex = this.data.uniqueCodes.indexOf(get(this, 'data.currentObservationType'))\n    \n    console.log('menuItems', menuItems)\n    console.log('currentSelectIndex', currentSelectIndex)\n\n    return(\n      <div id=\"FiltersPage\">\n        <FullPageCanvas >\n          <Row>\n            <Col md={6}>\n              <GlassCard>\n                <CardTitle title='Remove Filters'  />\n                <CardText>\n                  <FlatButton \n                    label=\"Save\" \n                    onClick={ this.saveRemoveFilter.bind(this) } \n                    primary={true}\n                    style={{position: 'absolute',\n                      right: '30px',\n                      marginTop: '30px',\n                      zIndex: 1000\n                    }}\n                    />\n                  <TextField\n                    id='addRemoveFilterInput'\n                    name='addRemoveFilterInput'\n                    type='text'\n                    floatingLabelText=\"Don't include these words\"\n                    floatingLabelFixed={true}\n                    value={this.state.removeFilterInput}\n                    onChange={ this.handleAddRemoveFilter.bind(this) }\n                    hintText='...'\n                    fullWidth\n                    />\n\n                  <br/>\n\n                  { removeChips }\n\n\n                </CardText>\n              </GlassCard>\n              <DynamicSpacer />              \n              <GlassCard>\n                <CardTitle title='Must Have Requirements'  />\n                <CardText>\n                  <FlatButton \n                    label=\"Save\" \n                    onClick={ this.saveMustUseFilter.bind(this) } \n                    primary={true}\n                    style={{position: 'absolute',\n                      right: '30px',\n                      marginTop: '30px',\n                      zIndex: 1000\n                    }}\n                    />\n\n                  <TextField\n                    id='mustHaveInput'\n                    name='mustHaveInput'\n                    type='text'\n                    floatingLabelText='Must Use'\n                    onChange={ this.handleAddMustUseFilter.bind(this) }\n                    value={this.state.mustHaveInput}\n                    floatingLabelFixed={true}\n                    hintText='...'\n                    fullWidth\n                    />\n                    \n\n                  { mustHaveChips }\n\n                </CardText>\n              </GlassCard>\n\n              <DynamicSpacer />        \n\n\n              <Row>\n                <Col md={6} >\n                  <GlassCard>\n                    <CardTitle title='Resource Types'  />\n                    <CardText>\n                      <Toggle \n                        label=\"Allergies\"\n                        labelPosition='right'\n                        onToggle={this.toggleAllergies.bind(this)} \n                        toggled={ allergiesToggled }  \n                      /><br />\n                      <Toggle \n                        label=\"CarePlans\"\n                        labelPosition='right'\n                        onToggle={this.toggleCarePlans.bind(this)} \n                        toggled={ carePlansToggled }  \n                      /><br />\n                      <Toggle \n                        label=\"Conditions\"\n                        labelPosition='right'\n                        onToggle={this.toggleConditions.bind(this)} \n                        toggled={ conditionsToggled }  \n                      /><br />\n                      <Toggle \n                        label=\"Immunizations\"\n                        labelPosition='right'\n                        onToggle={this.toggleImmunizations.bind(this)} \n                        toggled={ immunizationsToggled }  \n                      /><br />\n                      <Toggle \n                        label=\"MedicationOrders\"\n                        labelPosition='right'\n                        onToggle={this.toggleMedicationOrders.bind(this)} \n                        toggled={ medicationOrdersToggled }  \n                      /><br />                                                      \n                      <Toggle \n                        label=\"MedicationStatements\"\n                        labelPosition='right'\n                        onToggle={this.toggleMedicationStatements.bind(this)} \n                        toggled={ medicationStatementsToggled }  \n                      /><br />                  \n                      <Toggle \n                        label=\"Observations\"\n                        labelPosition='right'\n                        onToggle={this.toggleObservations.bind(this)} \n                        toggled={ observationsToggled }  \n                      /><br />                  \n                      <Toggle \n                        label=\"Patients\"\n                        labelPosition='right'\n                        onToggle={this.togglePatients.bind(this)} \n                        toggled={ patientsToggled }  \n                      /><br />                  \n                      <Toggle \n                        label=\"Procedures\"\n                        labelPosition='right'\n                        onToggle={this.toggleProcedures.bind(this)} \n                        toggled={ proceduresToggled }  \n                      /><br />                  \n\n                    </CardText>\n                  </GlassCard>\n                  <DynamicSpacer />\n                </Col>\n                <Col md={6} >\n                  <GlassCard>\n                    <CardTitle title='Timeline Features' disabled />\n                    <CardText disabled >\n                      <Toggle \n                        label=\"in Utero\"\n                        labelPosition='right'\n                        onToggle={this.toggleUtero.bind(this)} \n                        toggled={ this.data.toggles.uteroToggled }  \n                        disabled={ true }\n                      /><br />\n                      <Toggle \n                        label=\"Puberty\"\n                        labelPosition='right'\n                        onToggle={this.togglePuberty.bind(this)} \n                        toggled={ this.data.toggles.pubertyToggled }  \n                        disabled={ true }\n                      /><br />\n                      <Toggle \n                        label=\"Menopause\"\n                        labelPosition='right'\n                        onToggle={this.toggleMenopause.bind(this)} \n                        toggled={ this.data.toggles.menopauseToggled }  \n                        disabled={ true }\n                      /><br />\n                      <Toggle \n                        label=\"Hospice\"\n                        labelPosition='right'\n                        onToggle={this.toggleHospice.bind(this)} \n                        toggled={ this.data.toggles.hospiceToggled }  \n                        disabled={ true }\n                      /><br />\n                      <Toggle \n                        label=\"Risk Assessment\"\n                        labelPosition='right'\n                        onToggle={this.toggleRiskAssessment.bind(this)} \n                        toggled={ this.data.toggles.riskAssessmentToggled }  \n                        disabled={ true }\n                      /><br />                                                      \n\n                    </CardText>\n                  </GlassCard>\n                  <DynamicSpacer />\n                </Col>\n              </Row>\n            </Col>\n\n            <Col md={6}>\n              <Row>\n                <Col md={6} >\n                  <GlassCard>\n                    <CardTitle title='Biomarker Graph Default'  />\n                    <CardText>\n                      <Select\n                        id='biomarkerGraphSelect'\n                        value={ currentSelectIndex }\n                        onChange={this.selectObservationType}\n                        style={{\n                          position: 'relative',     \n                          width: '100%',\n                          fontSize: '150%',\n                          height: '100px'\n                        }}\n                        // inputProps={{\n                        //   name: 'age',\n                        //   id: 'age-simple',\n                        // }}\n                      >\n                        { menuItems }\n                      </Select>       \n                    </CardText>       \n                  </GlassCard>\n                  <DynamicSpacer />\n                  <GlassCard>\n                    <CardTitle title='Hide Sensitive Topics'  />\n                    <CardText>\n                      <Toggle \n                        label=\"Substance Abuse\"\n                        labelPosition='right'\n                        onToggle={this.toggleSubstanceAbuse.bind(this)} \n                        toggled={ this.data.toggles.substanceAbuseToggled }  \n                      /><br />\n                      <Toggle \n                        label=\"Mental Health\"\n                        labelPosition='right'\n                        onToggle={this.toggleMentalHealth.bind(this)} \n                        toggled={ this.data.toggles.mentalHealthToggled }  \n                      /><br />\n                      <Toggle \n                        label=\"Sexual Health\"\n                        labelPosition='right'\n                        onToggle={this.toggleSexualHealth.bind(this)} \n                        toggled={ this.data.toggles.sexualHealthToggled }  \n                      /><br />\n                    </CardText>\n                    <DynamicSpacer />\n                  </GlassCard>\n\n\n                </Col>\n                <Col md={6}> \n                  <GlassCard>\n                    <CardTitle title='Other Exclusions'  />\n                    <CardText>\n                      <Toggle \n                        label=\"entered-in-error\"\n                        labelPosition='right'\n                        onToggle={this.toggleEnteredInError.bind(this)} \n                        toggled={ this.data.toggles.hideEnteredInError }  \n                      /><br />\n\n            \n                    </CardText>\n                  </GlassCard>\n                  <DynamicSpacer />\n                  <GlassCard>\n                    <CardTitle title='Columns'  />\n                    <CardText>\n                      <Toggle \n                        label=\"Patient Name\"\n                        labelPosition='right'\n                        onToggle={this.toggleSessionVar.bind(this, 'hidePatientName')} \n                        toggled={ this.data.toggles.hidePatientName }  \n                      /><br />\n                      <Toggle \n                        label=\"Toggles\"\n                        labelPosition='right'\n                        onToggle={this.toggleSessionVar.bind(this, 'hideToggles')} \n                        toggled={ this.data.toggles.hideToggles }  \n                      /><br />\n                      <Toggle \n                        label=\"Action Icons\"\n                        labelPosition='right'\n                        onToggle={this.toggleSessionVar.bind(this, 'hideActionIcons')} \n                        toggled={ this.data.toggles.hideActionIcons }  \n                      /><br />\n\n\n            \n                    </CardText>\n                  </GlassCard>\n\n\n                </Col>\n              </Row> \n\n\n            </Col>\n          </Row>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(FiltersPage.prototype, ReactMeteorData);\nexport default FiltersPage;\n\n\n","\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport { CardHeader, CardText, CardTitle, CardActions, Tab, Tabs, FlatButton } from 'material-ui';\nimport React, {Component} from 'react'\nimport { get, has, sortBy } from 'lodash';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { Glass, GlassCard, VerticalCanvas, FullPageCanvas, DynamicSpacer } from 'meteor/clinical:glass-ui';\n\nimport { ConditionsTable } from 'meteor/clinical:hl7-resource-condition';\nimport { GoalsTable } from 'meteor/clinical:hl7-resource-goal';\n\nSession.setDefault('formDesignerTabIndex', 0);\n\nexport class FormDesignerPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none',\n          width: '200px'\n        }\n      },\n      tabIndex: Session.get('formDesignerTabIndex'),\n      ccd: null,\n      timelineEntries: []\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"FormDesignerPage[data]\", data);\n    return data;\n  };\n  handleTabChange(index){\n    Session.set('formDesignerTabIndex', index);\n  }\n  render(){\n    \n\n    return(\n      <div id=\"FormDesignerPage\">\n        <FullPageCanvas >\n          <Row>\n            <Col md={6}>\n              <GlassCard>\n                <CardTitle title='Jane Doe' subtitle='Dec 1st, 1980' />\n              </GlassCard>\n              <DynamicSpacer />              \n            </Col>\n\n            <Col md={6}>\n\n            </Col>\n          </Row>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(FormDesignerPage.prototype, ReactMeteorData);\nexport default FormDesignerPage;\n\n\n","// http://wwww.hl7.org/fhir/comparison-cda.html  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan/StructureDefinition-CCDA-on-FHIR-US-Realm-Header.html  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan/StructureDefinition-CCDA-on-FHIR-Continuity-of-Care-Document.html  \n// http://wwww.hl7.org/FHIR/us/ccda/2017Jan/StructureDefinition-CCDA-on-FHIR-Continuity-of-Care-Document-Example.json.html  \n\n\n\nimport { Card, CardActions, CardHeader, CardText, CardTitle, FlatButton, RaisedButton } from 'material-ui';\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { VerticalCanvas, FullPageCanvas, GlassCard, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { get, has } from 'lodash';\n\nimport { ObservationsTable } from 'meteor/clinical:hl7-resource-observation';\nimport { AllergyIntolerancesTable } from 'meteor/clinical:hl7-resource-allergy-intolerance';\nimport { ConditionsTable } from 'meteor/clinical:hl7-resource-condition';\nimport { ImmunizationsTable } from 'meteor/clinical:hl7-resource-immunization';\nimport { CarePlansTable } from 'meteor/clinical:hl7-resource-careplan';\nimport { MedicationStatementsTable } from 'meteor/clinical:hl7-resource-medication-statement';\nimport { MedicationOrdersTable } from 'meteor/clinical:hl7-resource-medication-order';\nimport { DiagnosticReportsTable } from 'meteor/clinical:hl7-resource-diagnostic-report';\nimport { PatientsTable, PatientCard } from 'meteor/clinical:hl7-resource-patient';\nimport { ProceduresTable } from 'meteor/clinical:hl7-resource-procedure';\nimport { PersonTable as PersonsDirectory } from 'meteor/clinical:hl7-resource-person';\nimport MedicalRecordImporter from '../lib/MedicalRecordImporter.js';\n\n// import { SciFiOrbital } from '/imports/ui/components/SciFiOrbital';\n// import ImagingStudiesTable from '/imports/ui/workflows/imaging-studies/ImagingStudiesTable';\n\nimport Avatar from 'material-ui/Avatar';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { browserHistory } from 'react-router';\n// import ReactGA from 'react-ga';\n\nimport { Line } from 'nivo'\n\nvar callback = function (msg) {\n  // wrapping in a timeout because of a possbile native UI element blocking the webview\n  setTimeout(function () {\n    // alert(JSON.stringify(msg))\n    console.log(JSON.stringify(msg))\n  }, 0);\n};\n\nSession.set('useMinimongoCache', true);\n\nexport class HealthCardPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {\n    let data = {\n      chart: {\n        width: Session.get('appWidth') * 0.5,  \n        height: 400\n      },\n      style: {},\n      ccd: {\n        allergyIntolerances: [],\n        careplans: [],\n        conditions: [],\n        diagnosticReports: [],\n        immunizations: [],\n        medications: [],\n        medicationOrders: [],\n        medicationStatements: [],\n        observations: [],\n        patients: [],\n        procedures: [],\n        persons: [],\n        relatedPersons: []\n      },\n      minimongo: {\n        allergyIntolerances: [],\n        careplans: [],\n        conditions: [],\n        diagnosticReports: [],\n        immunizations: [],\n        medications: [],\n        medicationOrders: [],\n        medicationStatements: [],\n        observations: [],\n        patients: [],\n        procedures: [],\n        persons: [],\n        relatedPersons: []\n      },\n      query: {},\n      patient: {},\n      user: {\n        _id: '',\n        given: '',\n        familiy: '',\n        email: '',\n        avatar: '',\n        zip: '',\n        longitude: '',\n        latitude: '',\n        profileImage: 'noAvatar.png',\n        birthdate: ''\n      },\n      currentObservationType: Session.get('currentObservationType')\n    };\n\n    if(Patients.findOne()){\n      data.patient = Patients.findOne();\n    }\n    \n    if(Meteor.user()){\n      data.user = {\n        _id: Meteor.userId(),\n        email: get(Meteor.user(), 'emails[0].address'),\n        avatar: get(Meteor.user(), 'profile.avatar'),\n        gender: '',\n        birthdate: '',\n        zip: '',\n        longitude: '',\n        latitude: '',\n        profileImage: get(Meteor.user(), 'profile.avatar')\n      };      \n\n      // if(get(Meteor.user(), 'profile.avatar')) {\n      //   data.user.profileImage = get(Meteor.user(), 'profile.avatar');\n      //   data.header.avatar = get(Meteor.user(), 'profile.avatar');\n      //   data.patient.photo = [{url: get(Meteor.user(), 'profile.avatar') }]\n      // } \n      // if(get(Meteor.user(), 'profile.name')) {\n      //   data.user.given = get(Meteor.user(), 'profile.name.given');\n      //   data.user.family = get(Meteor.user(), 'profile.name.family')\n      //   data.user.fullName = get(Meteor.user(), 'profile.name.given') + ' ' + get(Meteor.user(), 'profile.name.family');\n      //   data.patient.name = [{\n      //     given: [get(Meteor.user(), 'profile.name.given')],\n      //     family: [get(Meteor.user(), 'profile.name.family')],\n      //     text: get(Meteor.user(), 'profile.name.given') + ' ' + get(Meteor.user(), 'profile.name.family')\n      //   }]\n      // } else {\n      //   data.user.given = '';\n      //   data.user.family = '';\n      //   data.user.fullName = '';\n      //   data.patient.name = [{\n      //     given: [''],\n      //     family: [''],\n      //     text: ''\n      //   }]\n      // }\n\n\n\n      if(typeof AllergyIntolerances === \"object\"){\n        data.ccd.allergyIntolerances = AllergyIntolerances.find().fetch();\n      }\n      if(typeof CarePlans === \"object\"){\n        data.ccd.carePlans = CarePlans.find().fetch();\n      }\n      if(typeof Conditions === \"object\"){\n        data.ccd.conditions = Conditions.find().fetch();\n      }\n      if(typeof DiagnosticReports === \"object\"){\n        data.ccd.diagnosticReports = DiagnosticReports.find().fetch();\n      }\n      if(typeof Immunizations === \"object\"){\n        data.ccd.immunizations = Immunizations.find().fetch();\n      }\n      if(typeof Medications === \"object\"){\n        data.ccd.medications = Medications.find().fetch();\n      }\n      if(typeof Medications === \"object\"){\n        data.ccd.medicationOrders = MedicationOrders.find().fetch();\n      }        \n      if(typeof MedicationStatements === \"object\"){\n        data.ccd.medicationStatements = MedicationStatements.find().fetch();\n      }\n      if(typeof Patients === \"object\"){\n        data.ccd.patients = Patients.find().fetch();\n      }\n      if(typeof Observations === \"object\"){\n        data.ccd.observations = Observations.find().fetch();\n      }\n      if(typeof Procedures === \"object\"){\n        data.ccd.procedures = Procedures.find().fetch();\n      }  \n      if(typeof Persons === \"object\"){\n        data.ccd.persons = Persons.find().fetch();\n      }  \n      if(typeof RelatedPersons === \"object\"){\n        data.ccd.relatedPersons = RelatedPersons.find().fetch();\n      }  \n\n\n      var filters = get(Meteor.user(), 'profile.filters');\n\n      if(filters){\n        if(filters.remove && filters.remove.length > 0){\n          data.query.$nor = [];\n          filters.remove.forEach(function(term){\n            if(term){\n              data.query.$nor.push({ \"code.text\": { \"$regex\": \"^\" + term } })\n            }\n          });  \n        }\n  \n        if(filters.mustHave && filters.mustHave.length > 0){\n          data.query.$or = [];\n          filters.mustHave.forEach(function(term){\n            if(term){\n              data.query.$or.push({ \"code.text\": { \"$regex\": \"^\" + term } })\n            }\n          })          \n        }\n      }\n    }            \n\n    console.log('Navigated to HealthCardPage', data);\n    return data;\n  }\n  openLink(url){\n    browserHistory.push(url);\n  }\n  openFastImport(){\n    browserHistory.push('/fast-import-chart')\n  }\n  deduplicate(collectionName){\n    console.log('deduplicate', collectionName)    \n  }  \n  importHealthRecord(){\n    browserHistory.push('/data-management')\n    // MedicalRecordImporter.healthRecord();\n  }\n  render(){\n    console.log('Rendering HealthCardPage');\n\n    var allergiesCard;\n    var carePlansCard;\n    var conditionsCard;\n    var diagnosticReportsCard;\n    var immunizationsCard;\n    var medicationsCard;\n    var medicationOrdersCard;\n    var medicationStatementsCard;\n    var observationsCard;\n    var proceduresCard;\n    var patientsTableCard;\n    var personsCard;\n    var relatedPersonsCard;\n\n    var chartIsEmpty = true;\n\n    if(Patients.find().count() === 0){\n      console.log('Rendering PatientsTable');\n      chartIsEmpty = true;\n    } else if (Patients.find().count() === 1){\n      chartIsEmpty = false;\n      patientsTableCard = <div style={{overflow: 'none'}}>\n        <PatientCard \n          patient = { get(this, 'data.patient') } \n          overflowY={false}\n          />\n      </div>          \n    } else if (Patients.find().count() > 1){\n      chartIsEmpty = false;\n      patientsTableCard = <div>\n        <GlassCard >\n          <CardTitle title=\"Patients\" />\n          <CardText>\n            <PatientsTable\n              data={ this.data.ccd.patients } \n            />            \n          </CardText>\n        </GlassCard> \n        <DynamicSpacer />\n      </div>      \n    }\n\n\n    if(AllergyIntolerances.find().count() > 0){\n      console.log('Rendering AllergyIntolerances');\n      chartIsEmpty = false;\n      allergiesCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Allergies\" />\n          <CardText>\n            <AllergyIntolerancesTable\n              data={ this.data.ccd.allergyIntolerances } \n              hideToggle={true} \n              hideActionIcons={true} \n              hidePatient={true} \n              hideRecorder={true} \n              hideStatus={true} \n              hideType={true} \n              hideCategory={true} \n              hideIdentifier={true}\n              hideVerification={true} \n              hideDate={true} \n            />\n        </CardText>\n        </GlassCard>   \n        <DynamicSpacer />\n      </div>\n    }\n\n    if(CarePlans.find().count() > 0){\n      console.log('Rendering CarePlans');\n      chartIsEmpty = false;\n      carePlansCard = <div>\n        <GlassCard>\n          <CardTitle title=\"CarePlans\" />\n          <CardText>\n            <CarePlansTable\n              data={ this.data.ccd.carePlans } \n              displayDates={true} \n            />                  \n          </CardText>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    if(Conditions.find().count() > 0){\n      console.log('Rendering Conditions');\n      chartIsEmpty = false;\n      conditionsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Conditions\" />\n          <CardText>\n            <ConditionsTable\n              data={ this.data.ccd.conditions } \n              displayDates={true} \n            />                  \n          </CardText>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    if(DiagnosticReports.find().count() > 0){\n      console.log('Rendering DiagnosticReports');\n      chartIsEmpty = false;\n      diagnosticReportsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Diagnostic Reports\" />\n          <CardText>\n            <DiagnosticReportsTable \n              data={ this.data.ccd.diagnosticReports } \n              displayDates={true} \n            />\n            \n          </CardText>\n        </GlassCard>  \n        <DynamicSpacer />\n      </div>\n    }\n    if(Immunizations.find().count() > 0){\n      console.log('Rendering Immunizations');\n      chartIsEmpty = false;\n      immunizationsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Immunizations\" />\n          <CardText>\n            <ImmunizationsTable \n              data={ this.data.ccd.immunizations } \n              hideIdentifier={true}\n              hideToggle={true} \n              hideActionIcons={true} \n              hidePatient={true}\n              hidePatient={true} \n              hideDate={true} \n            />\n          </CardText>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    // if(Medications.find().count() > 0){\n    //   medicationsCard = \n    // }\n    if(MedicationOrders.find().count() > 0){\n      console.log('Rendering MedicationOrders');\n      chartIsEmpty = false;\n      medicationOrdersCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Medication Orders\" />\n          <CardText>\n            <MedicationOrdersTable\n              data={ this.data.ccd.medicationOrders } \n              hideIdentifier={true} \n              hidePatient={true} \n              hideToggle={true} \n              hideActionIcons={true} \n            />\n            \n          </CardText>\n        </GlassCard>          \n        <DynamicSpacer />\n      </div>      \n    }\n    if(MedicationStatements.find().count() > 0){\n      console.log('Rendering MedicationStatements');\n      chartIsEmpty = false;\n      medicationStatementsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Medication Statements\" />\n          <CardText>\n            <MedicationStatementsTable\n              data={ this.data.ccd.medicationStatements } \n              hideToggle={true} \n              hideActionIcons={true} \n              displayDates={true} \n            />\n            \n          </CardText>\n        </GlassCard>\n        <DynamicSpacer />\n      </div>\n    }\n    if(Observations.find().count() > 0){\n      console.log('Rendering Observations');\n      chartIsEmpty = false;\n      observationsCard = <div id='primaryBiomarkerOfInterestGraph'>\n            <GlassCard>\n              <Line\n                width={this.data.chart.width}\n                height={this.data.chart.height}\n                curve='cardinal'\n                // colorBy=\"color\"\n                colors={['#35B6ED']}\n                data={[\n                  {\n                    \"id\": get(this, 'data.currentObservationType'),\n                    \"color\": \"#35B6ED\",\n                    \"data\": Observations.find({$or: [{'code.text': get(this, 'data.currentObservationType')}]}, {sort: {issued: 1}}).map(function(observation, index){\n                      return {\n                        key: index,\n                        // color: \"#35B6ED\",\n                        x: moment(get(observation, 'issued')).format('MMM DD, HH'),\n                        y: get(observation, 'valueQuantity.value')\n                      }\n                    })\n                  }\n                ]}\n                margin={{\n                  \"top\": 50,\n                  \"right\": 110,\n                  \"bottom\": 50,\n                  \"left\": 60\n                }}\n                minY=\"auto\"\n                stacked={true}\n                axisBottom={{\n                  \"orient\": \"bottom\",\n                  \"tickSize\": 5,\n                  \"tickPadding\": 5,\n                  \"tickRotation\": 0,\n                  // \"legend\": \"hour of day\",\n                  \"legendOffset\": 36,\n                  \"legendPosition\": \"center\"\n                }}\n                axisLeft={{\n                  \"orient\": \"left\",\n                  \"tickSize\": 5,\n                  \"tickPadding\": 5,\n                  \"tickRotation\": 0,\n                  // \"legend\": \"pulse (bps)\",\n                  \"legendOffset\": -40,\n                  \"legendPosition\": \"center\"\n                }}\n                dotSize={10}\n                dotColor=\"#35B6ED\"\n                dotBorderWidth={2}\n                dotBorderColor=\"#ffffff\"\n                enableDotLabel={true}\n                dotLabel=\"y\"\n                dotLabelYOffset={-12}\n                animate={true}\n                motionStiffness={90}\n                motionDamping={15}\n                legends={[\n                  {\n                    \"anchor\": \"bottom-right\",\n                    \"direction\": \"column\",\n                    \"translateX\": 100,\n                    \"itemWidth\": 80,\n                    \"itemHeight\": 20,\n                    \"symbolSize\": 12,\n                    \"symbolShape\": \"circle\"\n                  }\n                ]}\n              />\n              <DynamicSpacer />\n            </GlassCard>\n\n        {/* <GlassCard>\n          <CardTitle title=\"Observations\" />\n          <CardText>\n            <ObservationsTable\n              data={ this.data.ccd.observations } \n              barcodes={false}\n              showValueString={false}\n              showComparator={false}\n              multiline={true}\n              query={this.data.query}\n            />\n            \n          </CardText>\n        </GlassCard> */}\n        <DynamicSpacer />\n      </div>        \n    }\n    if(Procedures.find().count() > 0){\n      console.log('Rendering Procedures');\n      chartIsEmpty = false;\n      proceduresCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Procedures\" />\n          <CardText>\n            <ProceduresTable\n              data={ this.data.ccd.procedures } \n              displayDates={true} \n            />\n            \n          </CardText>\n        </GlassCard> \n        <DynamicSpacer />\n      </div>      \n    }\n    \n    if(Persons.find().count() > 0){\n      console.log('Rendering Persons');\n      personsCard = <div>\n        <GlassCard>\n          <CardTitle title=\"Related Persons\" />\n          <CardText>\n            <PersonsDirectory\n              data={ this.data.ccd.persons } \n              displayDates={true} \n            />\n            \n          </CardText>\n        </GlassCard> \n        <DynamicSpacer />\n      </div>      \n    }\n\n    var importWidget;\n    var chart;\n    var importStyle = {\n      textAlign: 'center',\n      position: 'relative',\n      top: ((Session.get('appHeight') - 128 ) * 0.5) - 120 + 'px'\n    }\n\n    if(chartIsEmpty){\n      console.log('Rendering Empty Chart Message');\n\n      if(Meteor.isCordova){\n        if(['iPhone'].includes(window.navigator.platform)){\n          console.log('Rendering Tap Phone Message');\n          importWidget = <Row>\n            <Grid>\n              <Row style={importStyle}>\n                <h1 style={{fontWeight: '200'}}>No health data found.  Tap phone.</h1>\n                <RaisedButton label=\"Import Apple HealthRecords\" onClick={ this.importHealthRecord } primary={true} />\n\n                {/* <SciFiOrbital /> */}\n\n              </Row>\n            </Grid>\n          </Row>          \n        }\n      } else {\n        console.log('Rendering Tap HealthID Card Message');\n        importWidget = <Row>\n            <Grid>\n              <Row style={importStyle}>\n                <h1 style={{fontWeight: '200'}}>No health data found.  Tap HealthID card.</h1>\n                {/* <SciFiOrbital /> */}\n          \n                <RaisedButton label=\"Import Apple HealthRecords\" onClick={ this.importHealthRecord } primary={true} />\n              </Row>\n            </Grid>\n        </Row>          \n      }\n    } else {\n      console.log('Rendering Health ID Card');\n\n      importWidget = <Row style={{marginLeft: '20px', marginRight: '20px'}}>\n        <Col md={6}>\n          { patientsTableCard }\n          { personsCard }\n          { allergiesCard }\n          { immunizationsCard }\n          { medicationOrdersCard }\n          { observationsCard }\n        </Col>\n        <Col md={6}>\n          <div>\n          </div>\n        </Col>\n      </Row>\n    }\n\n    return(\n      <div id=\"HealthCardPage\" >\n        <FullPageCanvas  >\n          { importWidget }\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(HealthCardPage.prototype, ReactMeteorData);\nexport default HealthCardPage;","// https://www.npmjs.com/package/react-dropzone-component\n// http://www.dropzonejs.com/\n \nimport { Tab, Tabs, Typography } from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nimport { FlatButton, CardActions, CardHeader, CardText, CardTitle, SelectField, MenuItem, TextField, RaisedButton, Toggle } from 'material-ui';\nimport {blue500, orange500} from 'material-ui/styles/colors';\nimport {blue600, gray600, green600, orange600, red600, yellow600} from 'material-ui/styles/colors';\nimport { Grid, Col, Row } from 'react-bootstrap';\n\nimport ActionAlarm from 'material-ui/svg-icons/action/alarm';\nimport ActionAndroid from 'material-ui/svg-icons/action/android';\nimport ActionFavorite from 'material-ui/svg-icons/action/favorite';\nimport ActionFavoriteBorder from 'material-ui/svg-icons/action/favorite-border';\nimport { CollectionManagement } from './CollectionManagement';\nimport Dialog from 'material-ui/Dialog';\nimport DropzoneComponent from 'react-dropzone-component';\nimport { Meteor } from 'meteor/meteor';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Session } from 'meteor/session';\nimport { Table } from 'react-bootstrap';\n\nimport { FullPageCanvas, VerticalCanvas, DynamicSpacer, GlassCard, Glass } from 'meteor/clinical:glass-ui';\n\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\n\nimport { parseString } from 'xml2js';\nimport XLSX from 'xlsx';\n\nimport MedicalRecordImporter from '../lib/MedicalRecordImporter';\n\n\n// algorithmCount is the index where we change from default import algorithms to dynamically imported algorithms\n// i.e. it's the number of import algorithms included by default + 1\nlet algorithmCount = 9;\n\nvar componentConfig = {\n  allowedFiletypes: ['.json', '.jpg', '.png', '.23me', '.geojson', '.fhir', '.ccd', '.bundle'],\n  iconFiletypes: ['.json', '.xml', '.23me', '.geojson',  '.png','.dicom', '.fhir', '.ccd'],\n  showFiletypeIcon: true,\n  postUrl: '/uploadHandler'\n};\nvar djsConfig = {\n  autoProcessQueue: false,\n  addRemoveLinks: true,\n  dictDefaultMessage: 'Drop a file to begin import (or click to select a file).  '\n};\nvar eventHandlers = {\n  // This one receives the dropzone object as the first parameter\n  // and can be used to additional work with the dropzone.js\n  // object\n  init: null,\n  // All of these receive the event as first parameter:\n  drop: function(input){\n    console.log(\"Drop!\", input);\n  },\n  dragstart: null,\n  dragend: null,\n  dragenter: null,\n  dragover: null,\n  dragleave: null,\n  // All of these receive the file as first parameter:\n  addedfile: function (file) {\n    console.log(\"Received a file; sending to server.\");\n    console.log('file', file)\n    // we're going to need the extention to figure out what kind of file parsing we're going to do\n    var extension = file.name.split('.').pop().toLowerCase();\n    console.log('Extension: ', extension);\n\n    Session.set('fileExtension', extension);\n\n    // we received a file; lets take a peek inside to figure out what to do with it\n    var reader = new FileReader();\n    const rABS = !!reader.readAsBinaryString;\n\n\n    reader.onload = function(e) {\n\n      if(reader.result){\n        console.log('reader.result', reader.result);\n\n        var data;\n\n        if(extension == \"xml\"){\n          console.log('Found an .xml file; loading...');\n    \n          parseString(reader.result, function (err, result) {\n            console.log('managed to parse xml...')\n            console.dir(result);       \n            Session.set('dataContent', result);    \n          });\n\n        } else if(['json', 'fhir', 'ccd', 'bundle', 'txt'].includes(extension)){\n\n          \n          console.log('Found an .json enconded file; loading...');\n          // console.log('reader', reader);\n          console.log('reader.result', reader.result);\n\n          if(['fhir'].includes(extension)){\n            console.log('.json was found within a .fhir file; decrypting and decoding...');\n            var decryptedData = CryptoJS.AES.decrypt(reader.result, Meteor.userId());\n            // console.log('decryptedData', decryptedData);\n\n            var utf8Data = decryptedData.toString(CryptoJS.enc.Utf8);\n            // console.log('utf8Data', utf8Data);\n\n            var decodedData = decodeURI(utf8Data);\n            // console.log('decodedData', decodedData);\n\n            Session.set('dataContent', decodedData);\n          } else {\n            let dataContent;\n             console.log('Parsing the .json...', reader.result);\n\n            if(typeof reader.result === 'string'){\n              dataContent = JSON.parse(reader.result)\n            } else {\n              dataContent = reader.result;\n            }\n\n            console.log('dataContent', dataContent)\n\n            if(dataContent){\n              if(dataContent.data){\n                Session.set('dataContent', dataContent.data);\n              } else {\n                Session.set('dataContent', dataContent);    \n              }\n            }\n          }\n      \n          \n        } else if(extension == \"geojson\"){\n          if(data.type == \"FeatureCollection\"){\n            console.log('Found an .geojson file; loading...');\n  \n            Meteor.call(\"parseGeojson\", data, function (error, result){\n              if (error){\n                console.log(\"error\", error);\n              }\n              if (result){\n                console.log(\"result\", result);\n              }\n            });\n          }\n        } else if([\"xls\", \"xlsx\"].includes(extension)){\n          console.log('Found an Excel file.  Parsing....');\n          console.log('reader', reader);\n          console.log('reader.result', reader.result);\n\n          const data = e.target.result;\n          const name = file.name;\n\n          console.log('data', data);\n          console.log('name', name);\n\n          Meteor.call(rABS ? 'uploadS' : 'uploadU', rABS ? data : new Uint8Array(data), name, function(err, wb) {\n            if (err) throw err;\n            /* load the first worksheet */\n            const ws = wb.Sheets[wb.SheetNames[0]];\n            console.log('ws', ws)\n\n            let a1 = get(ws, 'A1');\n            console.log('a1', a1);\n\n            Session.set('dataContent', ws);    \n\n            // Object.keys(ws).forEach(function(cell){ \n\n            //   console.log(ws[cell].v)            \n            // });\n\n            // alert('Received a response.  Check the browser console.')\n\n            /* generate HTML table and enable export */\n            // const html = XLSX.utils.sheet_to_html(ws, { editable: true });\n            // document.getElementById('out').innerHTML = html;\n            // document.getElementById('dnload').disabled = false;\n          });\n\n\n\n        } else if(extension == \"23andme\"){\n          if(data.type == \"FeatureCollection\"){\n            console.log('Found an .23andme file; loading...');\n            \n            Meteor.call(\"parseGenome\", reader.result, function (error, result){\n              if (error){\n                console.log(\"error\", error);\n              }\n              if (result){\n                console.log(\"result\", result);\n              }\n            });\n          }\n        } else if([\"zip\"].includes(extension)){\n          console.log('Found a .zip file; loading...');\n\n\n          // decompress(file.name, 'dist', {\n          //   plugins: [\n          //       decompressUnzip()\n          //   ]\n          // }).then((foo) => {\n          //     console.log('Files decompressed');\n          //     console.log('foo', foo)\n          // });\n\n\n          // yauzl.open(file.name, {lazyEntries: true}, function(err, zipfile) {\n          //   console.log('yauzl.open', zipfile)\n          //   if (err) throw err;\n\n          //   zipfile.readEntry();\n          //   zipfile.on(\"entry\", function(entry) {\n          //     if (/\\/$/.test(entry.fileName)) {\n          //       // Directory file names end with '/'.\n          //       // Note that entires for directories themselves are optional.\n          //       // An entry's fileName implicitly requires its parent directories to exist.\n          //       zipfile.readEntry();\n          //     } else {\n          //       // file entry\n          //       zipfile.openReadStream(entry, function(err, readStream) {\n          //         if (err) throw err;\n          //         readStream.on(\"end\", function() {\n          //           zipfile.readEntry();\n          //         });\n          //         readStream.pipe(somewhere);\n          //       });\n          //     }\n          //   });\n          // });\n\n\n          // if(data.type == \"FeatureCollection\"){\n            \n          //   Meteor.call(\"parseZip\", reader.result, function (error, result){\n          //     if (error){\n          //       console.log(\"error\", error);\n          //     }\n          //     if (result){\n          //       console.log(\"result\", result);\n          //     }\n          //   });\n          // }\n        } else if(extension == \".2fa\"){\n          // do we encounter a file that needs special file reading access???\n          console.log('Abort!  Found a raw genome sequence; too big to load via the user interface.');\n        } else {\n          // otherwise, we assume it's some sort of text file\n          reader.readAsText(file);      \n        }\n\n      }\n    }\n\n\n    if(rABS) reader.readAsBinaryString(file); else reader.readAsArrayBuffer(file);\n\n  },\n  removedfile: function(){\n    Session.set('dataContent', '')\n  },\n  thumbnail: null,\n  error: null,\n  processing: null,\n  uploadprogress: null,\n  sending: null,\n  success: null,\n  complete: null,\n  canceled: null,\n  maxfilesreached: null,\n  maxfilesexceeded: null,\n  // All of these receive a list of files as first parameter\n  // and are only called if the uploadMultiple option\n  // in djsConfig is true:\n  processingmultiple: null,\n  sendingmultiple: null,\n  successmultiple: null,\n  completemultiple: null,\n  canceledmultiple: null,\n  // Special Events\n  totaluploadprogress: null,\n  reset: null,\n  queuecomplete: null\n};\n\n// //============================================================================\n// // Sorting Collection \n\n// ImportCursor = new Mongo.Collection('ImportCursor', {connection: null});\n\n//============================================================================\n// Helper Components\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" >\n      {props.children}\n    </Typography>\n  );\n}\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\n\nSession.setDefault('fileExtension', '');\nSession.setDefault('dataContent', '');\nSession.setDefault('syncSourceItem', 1);\nSession.setDefault('mappingAlgorithm', 1);\nexport class ImportComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tabIndex: 0,\n      importValue: 'importTab',\n      exportValue: 'exportTab',\n      encryptExport: false\n    };\n  }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none',\n          fontSize: '18px'\n        }\n      },\n      dialog: {\n        open: Session.get('open')\n      },      \n      user: {\n        isAdmin: false\n      },\n      title: \"Client Collections\",\n      upstreamSync: false,\n      encryptExport: this.state.encryptExport,\n      import: {\n        fileExtension: Session.get('fileExtension'),\n        // height: (Session.get('appHeight') - 540 ) + 'px',\n        height: (Session.get('appHeight') - 556 ) + 'px',  //565\n        data: ''\n      },\n      dataManagement: {\n        height: (Session.get('appHeight') - 300 ) + 'px'\n      },\n      export: {\n        height: (Session.get('appHeight') - 380 ) + 'px',\n        data: ''\n      },\n      syncSourceItem: Session.get('syncSourceItem'),\n      mappingAlgorithm: Session.get('mappingAlgorithm'),\n      toggleStates: Session.get('toggleStates')\n    };\n\n    if(get(Meteor, 'settings.public.meshNetwork.upstreamSync')){\n      // console.log('Meteor.settings.public.meshNetwork.upstreamSync');\n      data.upstreamSync = get(Meteor, 'settings.public.meshNetwork.upstreamSync');\n    }\n\n    if(['xml', 'xmlx', 'xlsx', 'json', 'ccd', 'bundle', 'txt'].includes(Session.get('fileExtension'))){\n      data.import.data = JSON.stringify(Session.get('dataContent'), null, 2);\n    }\n    if(['fhir'].includes(Session.get('fileExtension'))){\n      data.import.data = Session.get('dataContent');\n    }\n\n    let user = Meteor.user();\n    if(user){\n      if (user.roles) {\n        user.roles.forEach(function(role){\n          if (role === \"sysadmin\") {\n            data.user.isAdmin = true;\n          } else if (role === \"practitioner\") {\n            data.user.isPractitioner = true;\n          } else if (role === \"patient\") {\n            data.user.isPatient = true;\n          }\n        });\n      }\n    }\n\n    if(Session.get('continuityOfCareDoc')){\n      data.export.data = JSON.stringify(Session.get('continuityOfCareDoc'), null, 2);\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    // console.log('ImportComponent', data);\n    console.log('Navigated to ImportComponent', data);\n    return data;\n  }\n   \n  changeInput(variable, event, value){\n    Session.set(variable, value);\n  }  \n  pluralizeResourceName(resourceType){\n    var pluralized = '';\n    switch (resourceType) {\n      case 'Binary':          \n        pluralized = 'Binaries';\n        break;\n      case 'Library':      \n        pluralized = 'Libraries';\n        break;\n      case 'SupplyDelivery':      \n        pluralized = 'SupplyDeliveries';\n        break;\n      case 'ImagingStudy':      \n        pluralized = 'ImagingStudies';\n        break;        \n      case 'FamilyMemberHistory':      \n        pluralized = 'FamilyMemberHistories';\n        break;        \n      case 'ResearchStudy':      \n        pluralized = 'ResearchStudies';\n        break;        \n      default:\n        pluralized = resourceType + 's';\n        break;\n    }\n\n    return pluralized;\n  }\n  parseFacebookProfile(dataContent){\n      // FACEBOOK ADDRESS BOOK\n      if(dataContent.address_book){\n        if(confirm('This appears to be a Facebook address book.  Would you like to import into the Persons collection?')){\n          console.log('Importing Facebook address book...', dataContent.address_book);\n\n          dataContent.address_book.address_book.forEach(function(entry){\n            if(!Persons.findOne({'name.text': entry.name})){\n              Persons.insert({\n                resourceType: 'Person',\n                name: [{\n                  text: entry.name\n                }]\n              })  \n            }\n          })\n\n        }\n      }\n\n      // FACEBOOK PROFILE!\n      if(dataContent.profile){\n        if(confirm('This appears to be a Facebook profile.  Would you like to import and override your current settings?')){\n          console.log('Importing Facebook profile...', dataContent.profile);\n\n          let currentUser = Meteor.user();\n\n          if(get(currentUser, 'profile')){\n\n            // NAME\n            if(get(dataContent, 'profile.name')){\n              let nameText = get(dataContent, 'profile.name');\n              currentUser.profile.name.text = nameText;\n\n              let nameArray = nameText.split(' ');\n\n              Meteor.users.update({_id: Meteor.userId()}, {$set: {\n                'profile.name.family': nameArray[1],\n                'profile.name.text': get(dataContent, 'profile.name')\n              }, $addToSet: {\n                'profile.name.given': nameArray[0]\n              }})\n            }\n\n            // ADDRESS\n            if(get(dataContent, 'profile.address')){\n              let facebookAddres = get(dataContent, 'profile.address');\n\n              Meteor.users.update({_id: Meteor.userId()}, {$unset: {\n                'profile.locations.home.address.line': []\n              }})\n\n              Meteor.users.update({_id: Meteor.userId()}, {$set: {\n                'profile.locations.home.address.city': facebookAddres.city,\n                'profile.locations.home.address.country': facebookAddres.country_code,\n                'profile.locations.home.address.state': facebookAddres.region,\n                'profile.locations.home.address.postalCode': facebookAddres.zipCode\n              }, $addToSet: {\n                'profile.locations.home.address.line': facebookAddres.street\n              }})\n            }\n\n            // GENDER\n            if(get(dataContent, 'profile.gender.gender_option')){\n              Meteor.users.update({_id: Meteor.userId()}, {$set: {\n                'profile.gender': currentUser.profile.gender.gender_option\n              }})\n            }\n\n            // BIRTHDATE\n            if(get(dataContent, 'profile.birthday')){\n              currentUser.profile.birthDate = new Date(\n                get(dataContent, 'profile.birthday.year'),\n                get(dataContent, 'profile.birthday.month') - 1,\n                get(dataContent, 'profile.birthday.day')\n              );\n\n              Meteor.users.update({_id: Meteor.userId()}, {$set: {\n                'profile.birthDate': currentUser.profile.birthDate\n              }})\n            }\n\n            // TELECOM\n            if(get(dataContent, 'profile.emails.emails')){\n              dataContent.profile.emails.emails.forEach(function(emailAddress){\n                Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n                  'profile.telecom': {\n                    'system': 'email',\n                    'value': emailAddress\n                  }\n                }})  \n              })\n            }\n\n            // MARITAL STATUS\n            if(get(dataContent, 'profile.relationship.status')){\n              Meteor.users.update({_id: Meteor.userId()}, {$set: {\n                'profile.maritalStatus': get(dataContent, 'profile.relationship.status')\n              }})\n            }\n\n\n            // CONTACT POINTS\n            if(get(dataContent, 'profile.family_members')){\n              dataContent.profile.family_members.forEach(function(familyMember){\n                Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n                  'profile.contact': {\n                    'relationship': [{text: familyMember.relation}],\n                    'name': {'text': familyMember.name}\n                  }\n                }})  \n\n                if(!RelatedPersons.findOne({'name.text': familyMember.name})){\n                  RelatedPersons.insert({\n                    name: {\n                      text: familyMember.name\n                    }, \n                    relationship: {\n                      text: familyMember.relation\n                    }\n                  })  \n                }\n              })\n            }\n          }\n        }\n      }\n\n  }\n  parseChicagoGrocersFile(dataContent){\n    console.log('parseChicagoGrocersFile');\n\n    dataContent.forEach(function(record){\n      // console.log({\n      //   name: record[8],\n      //   street: record[13],\n      //   zip: record[14],\n      //   contact: record[15],\n      //   lat: record[22],\n      //   lng: record[23],\n      //   uuid: record[1]\n      // })      \n\n      let newLocation = {\n        name: record[8],\n        description: record[8],\n        address: {\n          line: record[13],\n          city: 'Chicago',\n          state: 'IL',\n          postalCode: record[14]\n        },\n        position: {\n          latitude: record[22],\n          longitude: record[23]\n        },\n        identifier: [{\n          system: 'City of Chicago Data Portal UUID',\n          value: record[1]\n        }]\n      }\n\n      Locations.insert(newLocation);\n    })\n  }\n  parseExcelWorkbook(dataContent){\n    console.log('parseExcelWorkbook', dataContent);\n\n    let results = [];\n    let worksheet = [];\n    let orgs = [];\n\n\n    if(Session.get('mappingAlgorithm') < algorithmCount){\n      switch (Session.get('mappingAlgorithm')) {\n        case 8:  // FHIR Endpoints\n  \n          Object.keys(dataContent).forEach(function(cell){ \n  \n            // remove all non-numeric characters from the string\n            let rowIndex = cell.replace(/\\D/g,'');\n  \n            let row = {};\n            if(worksheet[rowIndex]){\n              row = worksheet[rowIndex];\n            }\n\n            let newOrganization = {\n              resourceType: \"Organization\",\n              active: true,\n              name: \"\",\n              telecom: [],\n              address: [],\n              contact: [],\n              endpoint: []\n            }\n\n            let orgAddress = {\n              use: 'work', \n              type: 'both',\n              line: '',\n              city: '',\n              state: '',\n              postalCode: '',\n              country: ''\n            }\n            let cmioContact = {\n              name: {\n                text: ''\n              },\n              telecom: [{\n                value: '',\n                system: 'url',\n                use: 'work'\n              }]\n            }\n\n            if(orgs[rowIndex]){\n              newOrganization = orgs[rowIndex];\n\n              if(get(newOrganization, 'address[0]')){\n                orgAddress = get(newOrganization, 'address[0]');\n                newOrganization.address = [];\n              }\n              if(get(newOrganization, 'contact[0]')){\n                cmioContact = get(newOrganization, 'contact[0]');\n                newOrganization.contact = [];\n              }\n            }\n\n  \n            if(cell.includes('A')){\n              row.organization = dataContent[cell].v;  // each spreadsheet cell contains v, w, x, y, z properties\n              newOrganization.name = dataContent[cell].v;\n            }\n            if(cell.includes('B')){\n              row.website = dataContent[cell].v;  \n\n              let endpointId = Endpoints.insert({\n                resourceType: \"Endpoint\",\n                url: dataContent[cell].v\n              })\n              if(endpointId){\n                newOrganization.endpoint.push({\n                  display: \"Homepage\",\n                  reference: \"Endpoint/\" + endpointId\n                })  \n              }\n            }\n            if(cell.includes('C')){\n              row.state = dataContent[cell].v; \n              orgAddress.state = dataContent[cell].v; \n            }\n            if(cell.includes('D')){\n              row.city = dataContent[cell].v;  \n              orgAddress.city = dataContent[cell].v; \n            }\n            if(cell.includes('E')){\n              row.zipcode = dataContent[cell].v;  \n              orgAddress.postalCode = dataContent[cell].v; \n            }\n            if(cell.includes('F')){\n              row.street = dataContent[cell].v;  \n              orgAddress.line = dataContent[cell].v; \n            }\n            if(cell.includes('G')){\n              row.cmio = dataContent[cell].v;  \n              cmioContact.name.text = dataContent[cell].v;\n            }\n            if(cell.includes('H')){\n              row.cmio_linkedin = dataContent[cell].v;  \n              cmioContact.telecom[0].value = dataContent[cell].v;\n            }\n\n            if(get(cmioContact, 'name.text')){\n              newOrganization.contact.push(cmioContact)\n            }\n            if(orgAddress){\n              newOrganization.address.push(orgAddress)\n            }\n\n            worksheet[rowIndex] = row;\n            orgs[rowIndex] = newOrganization;\n          });\n\n          console.log('worksheet', worksheet)\n          console.log('orgs', orgs);\n          \n\n          let count = 0;\n          let orgId;\n          let endpointString = '';\n          let endpointId;\n\n          orgs.forEach(function(newOrg){\n            if(count > 0){\n              orgId = Organizations.insert(newOrg, {validate: false, filter: false});  \n              console.log('orgId', orgId);\n              if(get(newOrg, 'endpoint[0].reference')){\n                endpointString = get(newOrg, 'endpoint[0].reference');\n                if(endpointString.includes(\"/\")){\n                  endpointId = endpointString.split(\"/\")[1];\n                } else {\n                  endpointId = endpointString;\n                }\n                Endpoints.update({_id: endpointId}, {$set: {\n                  managingOrganization: {\n                    display: newOrg.name,\n                    reference: \"Organization/\" + orgId\n                  }\n                }})\n              }         \n            }\n            count++;\n          })\n\n          break;     \n        default:\n          MedicalRecordImporter.importBundle(dataContent);\n          break;\n      }\n  \n    } else {\n      // we have a half dozen defaults, and then we drop into dynamicly loaded algorithms\n      let packageCardinalityIndex = Session.get('mappingAlgorithm') - algorithmCount + 1;\n      console.log('packageCardinalityIndex', packageCardinalityIndex);\n\n      // specifically, the mappingAlgorithm is the half-dozen defaults plus the cardinality of the packages with ImportAlgorithms in alphabetical order\n        let cardinality = 1;\n        // to get the specified import algorithm, we loop through all the packages alphabetically, while counting up from 1\n        Object.keys(Package).forEach(function(packageName){\n        if(Package[packageName].ImportAlgorithm){\n          console.log('Package[packageName]', Package[packageName])\n          // if the cardinality of the alphabetical package matches that of the cardinality index\n          if(cardinality === packageCardinalityIndex){\n            console.log('found a match... ' + cardinality)\n            // then we run that particular algorithm\n            let importAlgorithm = Package[packageName].ImportAlgorithm;\n            importAlgorithm.run(dataContent, function(){\n              browserHistory.push('/questionnaires')\n            })\n          } else {\n            // otherwise, we increment the cardinality counter (but only for those packages exporting an ImportAlgorithm)\n            cardinality++;\n            console.log('incrementing... ' + cardinality)\n          }\n        }    \n      });\n    }\n\n    console.log('results', results)           \n  }\n  importFile(variable, event, value){\n    console.log(\"Let's try to import a file...\")\n    var self = this;\n\n    var dataContent = Session.get('dataContent');\n\n    // make sure we're dealing with a json object\n    if(typeof dataContent === 'string'){\n      console.log('This appears to be a string.  Converting to object');\n      dataContent = JSON.parse(dataContent);        \n    }\n\n    console.log('file extension', get(this, 'data.import.fileExtension'));\n\n    if(['xls', 'xlsx'].includes(get(this, 'data.import.fileExtension'))){\n      this.parseExcelWorkbook(dataContent);\n    }\n    if(['xml'].includes(get(this, 'data.import.fileExtension'))){\n      console.log('XML parser not impleted yet.')\n    }\n    if(['json', 'fhir', 'ccd', 'bundle', 'txt'].includes(this.data.import.fileExtension)){\n      console.log(\"This appears to be a JSON or FHIR file.  Parsing...\")\n      console.log('File contents: ', dataContent);\n\n      switch (Session.get('mappingAlgorithm')) {\n        case 1:  // FHIR Bundle\n          MedicalRecordImporter.importBundle(dataContent);\n          break;      \n        case 2:  // FaceBook\n          this.parseFacebookProfile(dataContent);\n          break;      \n        case 3:  // Chicago Grocers File\n          this.parseChicagoGrocersFile(dataContent);\n          break;\n        default:\n          MedicalRecordImporter.importBundle(dataContent);\n          break;\n      }\n      \n    }\n\n    if(['iPad'].includes(window.navigator.platform)){\n      browserHistory.push('/continuity-of-care')\n    }\n  }\n  clearImportBuffer(){\n    Session.set('dataContent', '');\n  }\n\n  clearLocalCache(){\n    if(confirm(\"Are you absolutely sure?\")){\n\n      var resourceTypes = [\n        'AllergyIntolerances',\n        'CarePlans',\n        'Conditions',\n        'Consents',\n        'Contracts',\n        'Communications',\n        'ClinicalImpressions',\n        'Devices',\n        'DiagnosticReports',\n        'Goals',\n        'Immunizations',\n        'ImagingStudies',\n        'Locations',\n        'Medications',\n        'MedicationOrders',\n        'MedicationStatements',\n        'Organizations',\n        'Observations',\n        'Patients',\n        'Practitioners',\n        'Persons',\n        'Procedures',\n        'Questionnaires',\n        'QuestionnaireResponses',\n        'RiskAssessments',\n        'RelatedPersons',\n        'Substances',\n        'Sequences'\n      ];\n\n      resourceTypes.forEach(function(resourceType){\n        if(Mongo.Collection.get(resourceType)){\n          Mongo.Collection.get(resourceType).find().forEach(function(record){\n            Mongo.Collection.get(resourceType).remove({_id: record._id})\n            Mongo.Collection.get(resourceType)._collection.remove({_id: record._id})\n          })\n        }\n      })\n\n      Meteor.call('getServerStats', function(error, result){\n        if(result){\n          Session.set('datalakeStats', result);\n        }\n      });\n    }\n  }\n\n  handleChangeMappingAlgorithm(event, index, value){\n    console.log('handleChangeMappingAlgorithm', value)\n    Session.set('mappingAlgorithm', value)\n  }\n  handleChangeSyncSource(event, index, value){\n    console.log('handleChangeSyncSource', event, index, value)\n    Session.set('syncSourceItem', value)\n  }\n\n  handleChange = (value) => {\n    this.setState({\n      value: value,\n    });\n  }\n  handleTabChange = (event, value) => {\n    this.setState({\n      importValue: value,\n      tabIndex: value\n    });\n  }\n  handleTextareaUpdate(){\n\n  }\n  render(){\n    const { classes } = this.props;\n    const { tabIndex } = this.state.tabIndex;\n\n    // console.log('tabIndex', tabIndex)\n    // console.log(typeof tabIndex)\n\n    var downloadLabel = 'Download!';\n\n\n\n    if(['iPhone'].includes(window.navigator.platform)){\n      downloadLabel = 'Copy to Clipboard';\n\n      if(Session.get('appHeight') > Session.get('appWidth')){\n        importBtnStyle.bottom = '80px';\n      }\n    }\n\n    var inputCardLayout = 3;\n    var processingCardLayout = 6;\n    var outputCardLayout = 3;\n\n    if(window.innerHeight > window.innerWidth){\n      inputCardLayout = 12;\n      processingCardLayout = 12;\n      outputCardLayout = 12;\n    }\n\n    var autoheight = 'auto';\n\n    // if(['iPad'].includes(window.navigator.platform)){\n    //   autoheight = 'auto'\n    // }\n\n    let dynamicAlgorithmItems = [];\n\n    let incrementer = algorithmCount;\n\n\n    // picking up from where our defaults end\n    Object.keys(Package).forEach(function(packageName){\n      if(Package[packageName].ImportAlgorithm){\n        // we try to build up a route from what's specified in the package\n        dynamicAlgorithmItems.push(\n          <MenuItem value={algorithmCount} id={\"import-algorithm-menu-item-\" + incrementer} key={\"import-algorithm-menu-item-\" + incrementer} primaryText={get(Package[packageName], 'ImportAlgorithm.name', '...')} />\n        )\n        incrementer++;\n      }    \n    });\n\n    return(\n\n      <GlassCard id=\"ImportComponent\" style={{marginBottom: '20px'}} >\n        <Tabs\n          value={this.state.tabIndex}\n          onChange={this.handleTabChange}\n        >\n          <Tab label=\"Import\" value={0} style={this.data.style.tab} />\n          <Tab label=\"Sync\" value={1} style={this.data.style.tab} />            \n        </Tabs>       \n\n        {this.state.tabIndex === 0 && <TabContainer>\n          <CardText>\n            <DropzoneComponent\n              config={componentConfig}\n              eventHandlers={eventHandlers}\n              djsConfig={djsConfig}\n              style={{minHeight: '200px'}}\n            />\n\n            <textarea \n              value={ get(this, 'data.import.data') }\n              onChange= { this.handleTextareaUpdate }\n              style={{width: '100%', position: 'relative', height: '400px', minHeight: '200px', backgroundColor: '#f5f5f5', borderColor: '#ccc', borderRadius: '4px', lineHeight: '16px'}} \n              />\n            <SelectField\n              floatingLabelText=\"Mapping Algorithm\"\n              value={this.data.mappingAlgorithm}\n              onChange={this.handleChangeMappingAlgorithm}\n              fullWidth\n            >\n              <MenuItem value={1} id=\"import-algorithm-menu-item-1\" key=\"import-algorithm-menu-item-1\" primaryText=\"FHIR Bundle (Any)\" />\n              <MenuItem value={2} id=\"import-algorithm-menu-item-2\" key=\"import-algorithm-menu-item-2\" primaryText=\"FHIR Bundle - DSTU2\" />\n              <MenuItem value={3} id=\"import-algorithm-menu-item-3\" key=\"import-algorithm-menu-item-3\" primaryText=\"FHIR Bundle - STU3\" />\n              <MenuItem value={4} id=\"import-algorithm-menu-item-4\" key=\"import-algorithm-menu-item-4\" primaryText=\"FHIR Bundle - R4\" />\n              <MenuItem value={5} id=\"import-algorithm-menu-item-5\" key=\"import-algorithm-menu-item-5\" primaryText=\"Facebook Profile\" />\n              <MenuItem value={6} id=\"import-algorithm-menu-item-6\" key=\"import-algorithm-menu-item-6\" primaryText=\"City of Chicago Data File\" />\n              <MenuItem value={7} id=\"import-algorithm-menu-item-7\" key=\"import-algorithm-menu-item-7\" primaryText=\"Geojson\" />\n              <MenuItem value={8} id=\"import-algorithm-menu-item-8\" key=\"import-algorithm-menu-item-8\" primaryText=\"Spreadsheet - Endpoints\" />\n              { dynamicAlgorithmItems }\n            </SelectField>\n\n            <RaisedButton \n              id='importDataButton'\n              label='Import!' \n              onClick={this.importFile.bind(this)}\n              primary={true}\n              fullWidth\n              />               \n          \n          </CardText>\n        </TabContainer>}         \n\n        {this.state.tabIndex === 1 && <TabContainer>\n          <CardTitle\n              title=\"Sync Source\"\n            />                         \n          <CardText>\n            <SelectField\n              floatingLabelText=\"Data Warehouses\"\n              value={this.data.syncSourceItem}\n              onChange={this.handleChangeSyncSource}\n              fullWidth\n            >\n              <MenuItem value={1} primaryText=\"Symptomatic.io\" />\n              <MenuItem value={2} primaryText=\"Synthetic Mass\" />\n              <MenuItem value={3} primaryText=\"IPFS Mesh Network\" />\n              <MenuItem value={4} primaryText=\"Ring of FHIR\" />\n            </SelectField>\n\n\n            <textarea \n              defaultValue={ get(this, 'data.import.data') }\n              onChange= { this.handleTextareaUpdate }\n              style={{width: '100%', position: 'relative', height: this.data.import.height, minHeight: '200px', backgroundColor: '#f5f5f5', borderColor: '#ccc', borderRadius: '4px'}} />\n\n          </CardText>\n        </TabContainer>}         \n\n      </GlassCard>\n\n          \n    );\n  }\n\n  callMethod(signature){\n    console.log(\"callMethod\", signature);\n\n    Meteor.call(signature);\n  }\n}\n\n\nReactMixin(ImportComponent.prototype, ReactMeteorData);\nexport default ImportComponent;","// https://www.npmjs.com/package/react-dropzone-component\n// http://www.dropzonejs.com/\n\nimport { FlatButton, CardActions, CardHeader, CardText, CardTitle, SelectField, MenuItem, Tab, Tabs, TextField, RaisedButton, Toggle } from 'material-ui';\nimport {blue500, orange500} from 'material-ui/styles/colors';\nimport {blue600, gray600, green600, orange600, red600, yellow600} from 'material-ui/styles/colors';\nimport { Grid, Col, Row } from 'react-bootstrap';\n\nimport ActionAlarm from 'material-ui/svg-icons/action/alarm';\nimport ActionAndroid from 'material-ui/svg-icons/action/android';\nimport ActionFavorite from 'material-ui/svg-icons/action/favorite';\nimport ActionFavoriteBorder from 'material-ui/svg-icons/action/favorite-border';\nimport { CollectionManagement } from './CollectionManagement';\nimport Dialog from 'material-ui/Dialog';\nimport DropzoneComponent from 'react-dropzone-component';\nimport { Meteor } from 'meteor/meteor';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Session } from 'meteor/session';\nimport { Table } from 'react-bootstrap';\n\nimport { FullPageCanvas, VerticalCanvas, DynamicSpacer, GlassCard, Glass } from 'meteor/clinical:glass-ui';\nimport { parseString } from 'xml2js';\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\n\nimport { ImportComponent } from './ImportComponent';\n\nexport class ImportPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      importValue: 'importTab',\n      exportValue: 'exportTab',\n      encryptExport: false\n    };\n  }\n\n\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      dialog: {\n        open: Session.get('open')\n      },      \n      user: {\n        isAdmin: false\n      },\n      title: \"Client Collections\",\n      upstreamSync: false,\n      encryptExport: this.state.encryptExport,\n      import: {\n        fileExtension: Session.get('fileExtension'),\n        // height: (Session.get('appHeight') - 540 ) + 'px',\n        height: (Session.get('appHeight') - 556 ) + 'px',  //565\n        data: ''\n      },\n      dataManagement: {\n        height: (Session.get('appHeight') - 300 ) + 'px'\n      },\n      export: {\n        height: (Session.get('appHeight') - 380 ) + 'px',\n        data: ''\n      },\n      syncSourceItem: Session.get('syncSourceItem'),\n      toggleStates: Session.get('toggleStates')\n    };\n\n\n    if(Session.get('continuityOfCareDoc')){\n      data.export.data = JSON.stringify(Session.get('continuityOfCareDoc'), null, 2);\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    console.log('Navigated to ImportPage', data);\n    return data;\n  }\n   \n  render(){\n    return(\n      <div id=\"ImportPage\">\n        <FullPageCanvas >\n          <ImportComponent />\n        </FullPageCanvas>\n      </div>\n    );\n  }\n\n}\n\n\nReactMixin(ImportPage.prototype, ReactMeteorData);\nexport default ImportPage;","import { CardMedia, CardText, CardTitle, CardHeader } from 'material-ui/Card';\nimport { GlassCard, VerticalCanvas, FullPageCanvas, Glass, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { browserHistory } from 'react-router';\n\nimport { get, has, uniq, uniqBy } from 'lodash';\nimport { moment } from 'meteor/momentjs:moment';\n\nimport { Session } from 'meteor/session';\nimport { ObservationsTable } from 'meteor/clinical:hl7-resource-observation';\nimport { Line } from 'nivo'\nimport { render } from 'react-dom'\n\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n// import { InlineMath, BlockMath } from 'react-katex';\n// import 'katex/dist/katex.min.css';\nSession.setDefault('currentObservationType', 'Pulse')\n\nexport class ObservationsGraphPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {\n\n    let imgHeight = (Session.get('appHeight') - 210) / 3;\n\n    let data = {\n      chart: {\n        width: Session.get('appWidth') * 0.667,  \n        height: Session.get('appHeight') - 168\n      },\n      style: {              \n        title: Glass.darkroom(),\n        subtitle: Glass.darkroom(),\n        tableCol: {\n          display: 'block',\n          marginBottom: '20px'\n        }\n      },\n      organizations: {\n        image: \"/pages/provider-directory/organizations.jpg\"\n      },\n      bmi: {\n        height: 0,\n        weight: 0\n      },\n      uniqueCodes: [],\n      currentObservationType: Session.get('currentObservationType')\n    };\n\n    data.style.indexCard = Glass.darkroom(data.style.indexCard);\n\n    // The `_.property` iteratee shorthand.\n    // _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n    // => [{ 'x': 1 }, { 'x': 2 }]\n\n    let observations = Observations.find().map(function(record){\n      return get(record, 'code.text');\n    })\n    if(observations){\n      let uniqueCodes = uniq(observations)\n      //console.log('Unique Observation Codes: ', uniqueCodes)\n\n      data.uniqueCodes = uniq(observations);\n    }\n\n    if(Session.get('appHeight') > 1200){\n      data.style.page = {\n        top: '50%',\n        transform: 'translateY(-50%)',\n        position: 'relative'\n      }\n    }\n\n    if(Observations.find({'code.text': data.currentObservationType }).count() > 0){\n      let recentPulse = Observations.find({'code.text': data.currentObservationType }, {sort: {issued: 1}}).fetch()[0];\n      // data.bmi.weight = get(recentPulse, 'valueQuantity.value', 0);\n    }\n\n    if(Session.get('appWidth') > Session.get('appHeight')){\n      data.chart.width = Session.get('appWidth');\n    }\n\n    if(['iPhone'].includes(window.navigator.platform)){\n      data.style.tableCol.display = 'none';\n      data.chart.width = Session.get('appWidth');\n    }\n\n\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ObservationsGraphPage[data]\", data);\n    return data;\n  }\n  selectObservationType(event, value){\n    console.log('Selected a new observation type: ', value.props.children)\n    Session.set('currentObservationType', value.props.children)\n  };\n  render() {\n\n    let menuItems = [];\n    this.data.uniqueCodes.forEach(function(code, integer){\n      menuItems.push(<MenuItem key={integer} value={integer} style={{fontSize: '130%'}}>{code}</MenuItem>)\n    });\n\n    let currentSelectIndex = this.data.uniqueCodes.indexOf(get(this, 'data.currentObservationType'))\n\n    \n    return (\n      <div id='indexPage'>\n        <FullPageCanvas>\n          <Col md={4} style={ this.data.style.tableCol } >\n            <GlassCard height='auto' >\n              <CardTitle \n                title=\"Vital Signs\"\n                titleStyle={{fontSize: '240%'}}\n                subtitleStyle={{fontSize: '180%'}}\n                />\n              <Select\n                value={ currentSelectIndex }\n                onChange={this.selectObservationType}\n                style={{\n                  position: 'absolute',     \n                  right: '20px',\n                  top: '20px',\n                  marginRight: '20px',\n                  width: '240px',\n                  fontSize: '150%'\n                }}\n                inputProps={{\n                  name: 'age',\n                  id: 'age-simple',\n                }}\n              >\n                { menuItems }\n                {/* <MenuItem value={2} style={{fontSize: '130%'}}>Temperature</MenuItem>\n                <MenuItem value={3} style={{fontSize: '130%'}}>Blood Pressure</MenuItem>\n                <MenuItem value={4} style={{fontSize: '130%'}}>Respiration</MenuItem> */}\n              </Select>             \n              <CardText style={{fontSize: '180%'}}>\n                <Row>\n                  <ObservationsTable \n                    query={{$or: [{'code.text': get(this, 'data.currentObservationType')}]}} \n                    multiline={true}\n                    />\n                </Row>\n              </CardText>\n            </GlassCard>\n          </Col>\n          <Col md={8} style={{marginBottom: '80px'}}>\n            <GlassCard height='auto'>\n              <Line\n                width={this.data.chart.width}\n                height={this.data.chart.height}\n                curve='cardinal'\n                // colorBy=\"color\"\n                colors={['#35B6ED']}\n                data={[\n                  {\n                    \"id\": get(this, 'data.currentObservationType'),\n                    \"color\": \"#35B6ED\",\n                    \"data\": Observations.find({$or: [{'code.text': get(this, 'data.currentObservationType')}]}, {sort: {issued: 1}}).map(function(observation, index){\n                      return {\n                        key: index,\n                        // color: \"#35B6ED\",\n                        x: moment(get(observation, 'issued')).format('MMM DD, HH'),\n                        y: get(observation, 'valueQuantity.value')\n                      }\n                    })\n                  }\n                ]}\n                margin={{\n                  \"top\": 50,\n                  \"right\": 110,\n                  \"bottom\": 50,\n                  \"left\": 60\n                }}\n                minY=\"auto\"\n                stacked={true}\n                axisBottom={{\n                  \"orient\": \"bottom\",\n                  \"tickSize\": 5,\n                  \"tickPadding\": 5,\n                  \"tickRotation\": 0,\n                  // \"legend\": \"hour of day\",\n                  \"legendOffset\": 36,\n                  \"legendPosition\": \"center\"\n                }}\n                axisLeft={{\n                  \"orient\": \"left\",\n                  \"tickSize\": 5,\n                  \"tickPadding\": 5,\n                  \"tickRotation\": 0,\n                  // \"legend\": \"pulse (bps)\",\n                  \"legendOffset\": -40,\n                  \"legendPosition\": \"center\"\n                }}\n                dotSize={10}\n                dotColor=\"#35B6ED\"\n                dotBorderWidth={2}\n                dotBorderColor=\"#ffffff\"\n                enableDotLabel={true}\n                dotLabel=\"y\"\n                dotLabelYOffset={-12}\n                animate={true}\n                motionStiffness={90}\n                motionDamping={15}\n                legends={[\n                  {\n                    \"anchor\": \"bottom-right\",\n                    \"direction\": \"column\",\n                    \"translateX\": 100,\n                    \"itemWidth\": 80,\n                    \"itemHeight\": 20,\n                    \"symbolSize\": 12,\n                    \"symbolShape\": \"circle\"\n                  }\n                ]}\n              />\n              <DynamicSpacer />\n              {/* <div style={{width: '100%', textAlign: 'center'}}>\n                <h1>BMI = {this.data.bmi.weight} kg / {this.data.bmi.height} cm / {this.data.bmi.height} cm  * 10,000 = {bmi} </h1>\n                <a href=\"https://www.cdc.gov/nccdphp/dnpao/growthcharts/training/bmiage/page5_1.html\">Centers for Disease Control - Body Mass Index Calculations</a>\n              </div> */}\n            </GlassCard>\n          </Col>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n\n\n\n\n  openLink(url){\n    console.log(\"openLink\", url);\n    browserHistory.push(url);\n  }\n}\n\n\n\nReactMixin(ObservationsGraphPage.prototype, ReactMeteorData);\n\nexport default ObservationsGraphPage;","\n \nimport { CardHeader, CardText, CardTitle } from 'material-ui/Card';\nimport React, {Component} from 'react'\nimport { get, has, sortBy } from 'lodash';\n\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { Grid, Row, Col } from 'react-bootstrap';\n\nimport { Glass, GlassCard, FullPageCanvas, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { browserHistory } from 'react-router';\nimport { lightBaseTheme, darkBaseTheme } from 'material-ui/styles';\n\n\nexport class SupportPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  getMeteorData() {\n    let data = {\n      style: {\n        textColor: {\n          color: lightBaseTheme.palette.textColor\n        },\n        inputStyle: {\n          color: lightBaseTheme.palette.textColor\n        },\n        errorStyle: {\n          color: lightBaseTheme.palette.accent1Color\n        },\n        hintStyle: {\n          color: lightBaseTheme.palette.secondaryTextColor\n        },\n        underlineStyle: {\n          borderColor: lightBaseTheme.palette.textColor\n        },\n        floatingLabelStyle: {\n          color: lightBaseTheme.palette.secondaryTextColor\n        },\n        floatingLabelFocusStyle: {\n          color: lightBaseTheme.palette.secondaryTextColor\n        },\n        pageBackground: {\n          color: '#222222'\n        }\n      },\n      ccd: null,\n      timelineEntries: []\n    }\n\n    data.style.pageBackground = Glass.getContextImage();\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"SupportPage[data]\", data);\n    return data;\n  };\n  openLink(url){\n    // window.location.replace(url);\n    window.open(url,'_blank');\n  }\n  hoverColor(elementId){\n    var x = document.getElementById(elementId);\n    x.style.borderColor = '1px solid #35B6ED';\n  }\n  normalColor(elementId){\n    var x = document.getElementById(elementId);\n    x.style.borderColor = '1px solid none';\n  }\n  render(){\n    \n    let linkStyle = {\n      cursor: 'pointer', \n      textDecoration: 'none', \n      // border: '1px solid #35B6ED', \n      // borderRadius: '4px'\n    }\n\n    return(\n      <div id=\"SupportPage\" style={this.data.style.pageBackground}>\n        <FullPageCanvas >\n          <Grid>\n            <Col md={6}>\n              <CardTitle               \n                title='Help & Support' \n                />\n\n              <CardText>\n                <p style={{fontSize: '16px', color: '#222222'}}>You've reached the ancillary support page.  Symptomatic's primary help desk is hosted on ZenDesk, but we find it's useful to include help information directly in our app as well.</p>\n\n\n              </CardText>\n\n            </Col>\n            <Col md={6}>\n              <a style={linkStyle} href='https://symptomatic.zendesk.com/hc/en-us' >\n                <CardTitle \n                  title='Helpdesk - FAQs, Articles, Tickets, etc' \n                  subtitle='The main helpdesk site for Symptomatic.' \n                  titleStyle={{color: '#35B6ED', marginLeft: '-20px'}}\n                  subtitleStyle={{color: '#222222', marginLeft: '-20px'}}\n                  />\n              </a>\n\n              <a style={linkStyle} href='https://www.facebook.com/symptomatic.io/' >\n                <CardTitle \n                  title='Facebook Page' \n                  subtitle='Get social.  Monthly health awareness tips, community announcements, and other discussion around Symptomatic products' \n                  titleStyle={{color: '#35B6ED', marginLeft: '-20px'}}\n                  subtitleStyle={{color: '#222222', marginLeft: '-20px'}}\n                  />\n              </a>\n              \n              <a style={linkStyle} href='https://groups.google.com/a/symptomatic.io/forum/#!forum/support' >\n                <CardTitle \n                  title='Mailing List' \n                  subtitle='The email group and public discussion that the support email goes to.' \n                  titleStyle={{color: '#35B6ED', marginLeft: '-20px'}}\n                  subtitleStyle={{color: '#222222', marginLeft: '-20px'}}\n                  />\n              </a>\n\n              <a style={linkStyle} href='https://www.linkedin.com/groups/12150525/' >\n                <CardTitle \n                  title='LinkedIn FHIR Users Group' \n                  subtitle='Professional interest group for people using FHIR.'\n                  titleStyle={{color: '#35B6ED', marginLeft: '-20px'}}\n                  subtitleStyle={{color: '#222222', marginLeft: '-20px'}}\n                  />\n              </a>\n\n              <a style={linkStyle} href='https://chat.fhir.org/' >\n                <CardTitle \n                  title='FHIR Chat' \n                  subtitle='Connect with bioinformaticists and clinicians who use FHIR on a professional basis.' \n                  titleStyle={{color: '#35B6ED', marginLeft: '-20px'}}\n                  subtitleStyle={{color: '#222222', marginLeft: '-20px'}}\n                  />\n              </a>\n\n              <a style={linkStyle} href='mailto:support@symptomatic.io' >\n                <CardTitle \n                    title='support@symptomatic.io' \n                    subtitle='Our main support email.'\n                    style={{cursor: 'pointer'}}\n                    titleStyle={{color: '#35B6ED', marginLeft: '-20px'}}\n                    subtitleStyle={{color: '#222222', marginLeft: '-20px'}}\n                    />\n              </a>\n\n\n            </Col>\n          </Grid>\n\n\n          {/* <GlassCard onClick={this.openLink.bind(this, 'mailto:support@symptomatic.io')} style={{cursor: 'pointer'}}>\n            <CardTitle               \n              title='support@symptomatic.io' \n              />\n          </GlassCard>\n          <DynamicSpacer />\n\n          <GlassCard onClick={this.openLink.bind(this, 'https://groups.google.com/a/symptomatic.io/forum/#!forum/support')} style={{cursor: 'pointer'}}>\n            <CardTitle \n              href='https://groups.google.com/a/symptomatic.io/forum/#!forum/support'\n              title='Google Group' \n              subtitle='Email thread and public discussion group for using Symptomatic.' \n              />\n          </GlassCard>\n          <DynamicSpacer />\n\n          <GlassCard onClick={this.openLink.bind(this, 'https://www.linkedin.com/groups/12150525/')} style={{cursor: 'pointer'}}>\n            <CardTitle \n                title='LinkedIn FHIR Users Group' \n                subtitle='Professional interest group of clinicians and informaticists using FHIR.'\n                />\n          </GlassCard> */}\n\n\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(SupportPage.prototype, ReactMeteorData);\nexport default SupportPage;\n\n","import vis from 'vis/dist/vis-timeline-graph2d.min'\nimport 'vis/dist/vis-timeline-graph2d.min.css'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport difference from 'lodash/difference'\nimport intersection from 'lodash/intersection'\nimport each from 'lodash/each'\nimport assign from 'lodash/assign'\nimport omit from 'lodash/omit'\nimport keys from 'lodash/keys'\n\nconst noop = function() {}\nconst events = [\n  'currentTimeTick',\n  'click',\n  'contextmenu',\n  'doubleClick',\n  'groupDragged',\n  'changed',\n  'rangechange',\n  'rangechanged',\n  'select',\n  'timechange',\n  'timechanged'\n]\n\nconst eventPropTypes = {}\nconst eventDefaultProps = {}\n\neach(events, event => {\n  eventPropTypes[event] = PropTypes.func,\n  eventDefaultProps[`${event}Handler`] = noop\n})\n\n\n\n\nexport default class Timeline extends Component {\n\n  componentWillMount() {\n    this.setState({\n      // NOTE we store custom times on the state to enable us to diff with new\n      // custom times and add or remove the elements with visjs\n      customTimes: []\n    })\n  }\n\n  componentWillUnmount() {\n    this.$el.destroy()\n  }\n  handleRotate(){\n    // console.log(\"the orientation of the device is now \" + screen.orientation.angle);\n\n    console.log(\"screen.height \" + (window.innerHeight - 128)+ 'px');\n\n    this.$el.setOptions({\n      height: (window.innerWidth - 128) + 'px',\n      width: window.innerHeight + 'px'\n    })\n\n    this.$el.redraw();\n  }\n  componentDidMount() {\n    const { container } = this.refs\n\n    this.$el = new vis.Timeline(container, undefined, this.props.options)\n\n    // this.$el.setOptions({\n    //   height: window.innerHeight + 'px',\n    //   width: '100%'\n    // })\n    \n    events.forEach(event => {\n      this.$el.on(event, this.props[`${event}Handler`])\n    })\n\n    window.addEventListener(\"orientationchange\", this.handleRotate.bind(this) );\n\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const {\n      items,\n      groups,\n      options,\n      selection,\n      customTimes\n    } = this.props\n\n    const itemsChange = items !== nextProps.items\n    const groupsChange = groups !== nextProps.groups\n    const optionsChange = options !== nextProps.options\n    const customTimesChange = customTimes !== nextProps.customTimes\n    const selectionChange = selection !== nextProps.selection\n\n    return itemsChange ||\n      groupsChange ||\n      optionsChange ||\n      customTimesChange ||\n      selectionChange\n  }\n\n  init() {\n    const {\n      items,\n      groups,\n      options,\n      selection,\n      selectionOptions = {},\n      customTimes,\n      animate = true,\n      currentTime\n    } = this.props\n\n    let timelineOptions = options\n\n    if (animate) {\n      // If animate option is set, we should animate the timeline to any new\n      // start/end values instead of jumping straight to them\n      timelineOptions = omit(options, 'start', 'end')\n\n      this.$el.setWindow(options.start, options.end, {\n        animation: animate\n      })\n    }\n\n    this.$el.setOptions(timelineOptions)\n\n    if (groups.length > 0) {\n      const groupsDataset = new vis.DataSet()\n      groupsDataset.add(groups)\n      this.$el.setGroups(groupsDataset)\n    }\n\n    this.$el.setItems(items)\n    this.$el.setSelection(selection, selectionOptions)\n\n    if (currentTime) {\n      this.$el.setCurrentTime(currentTime)\n    }\n\n    // diff the custom times to decipher new, removing, updating\n    const customTimeKeysPrev = keys(this.state.customTimes)\n    const customTimeKeysNew = keys(customTimes)\n    const customTimeKeysToAdd = difference(customTimeKeysNew, customTimeKeysPrev)\n    const customTimeKeysToRemove = difference(customTimeKeysPrev, customTimeKeysNew)\n    const customTimeKeysToUpdate = intersection(customTimeKeysPrev, customTimeKeysNew)\n\n    // NOTE this has to be in arrow function so context of `this` is based on\n    // this.$el and not `each`\n    each(customTimeKeysToRemove, id => this.$el.removeCustomTime(id))\n    each(customTimeKeysToAdd, id => {\n      const datetime = customTimes[id]\n      this.$el.addCustomTime(datetime, id)\n    })\n    each(customTimeKeysToUpdate, id => {\n      const datetime = customTimes[id]\n      this.$el.setCustomTime(datetime, id)\n    })\n\n    // store new customTimes in state for future diff\n    this.setState({ customTimes })\n  }\n\n  render() {\n    return <div ref='container' />\n  }\n}\n\nTimeline.propTypes = assign({\n  items: PropTypes.array,\n  groups: PropTypes.array,\n  options: PropTypes.object,\n  selection: PropTypes.array,\n  customTimes: PropTypes.shape({\n    datetime: PropTypes.instanceOf(Date),\n    id: PropTypes.string\n  }),\n  animate: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.object,\n  ]),\n  currentTime: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.instanceOf(Date),\n      PropTypes.number\n  ])\n}, eventPropTypes)\n\nTimeline.defaultProps = assign({\n  items: [],\n  groups: [],\n  options: {},\n  selection: [],\n  customTimes: {},\n}, eventDefaultProps) ","\n\nimport { CardHeader, CardText, CardTitle } from 'material-ui/Card';\nimport React, {Component} from 'react'\nimport { get, has, sortBy } from 'lodash';\n\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { TimelineEvent } from 'react-event-timeline'\n\nimport { Glass, GlassCard, VerticalCanvas } from 'meteor/clinical:glass-ui';\n\n// import FaStreetView from 'react-icons/lib/fa';\n\n//sortBy(result.shortestFoundPath, 'cardinality');\n\n\nexport class TimelinePage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  getMeteorData() {\n    let data = {\n      ccd: null,\n      timelineEntries: []\n    }\n\n    // if(has(Meteor.user(), 'profile.continuityOfCare')){\n    //   data.ccd = get(Meteor.user(), 'profile.continuityOfCare');\n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.allergyIntolerances')){\n    //     data.ccd.allergyIntolerances.forEach(function(record) {\n    //       record.icon = <FaStreetView />;\n    //       record.date = get(record, 'onsetDateTime', '');\n    //       record.text = get(record, 'identifier[0].value', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }\n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.carePlans')){\n    //     data.ccd.carePlans.forEach(function(record) {\n    //       record.icon = <Clipboard />;\n    //       record.date = get(record, 'period.start', '');\n    //       record.text = get(record, 'title', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }\n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.conditions')){\n    //     data.ccd.conditions.forEach(function(record) {\n    //       record.icon = <Heartbeat />;\n    //       record.date = get(record, 'onsetDateTime', '');\n    //       record.text = get(record, 'identifier[0].value', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }      \n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.diagnosticReports')){\n    //     data.ccd.diagnosticReports.forEach(function(record) {\n    //       record.icon = <Clipboard />;\n    //       record.date = get(record, 'period.start', '');\n    //       record.text = get(record, 'conclusion', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }      \n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.immuizations')){\n    //     data.ccd.immunizations.forEach(function(record) {\n    //       record.icon = <EyeDropper />;\n    //       record.date = get(record, 'date', '');\n    //       record.text = get(record, 'identifier[0].type.text', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }\n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.medicationStatements')){\n    //     data.ccd.medicationStatements.forEach(function(record) {\n    //       record.icon = <MdLocalPhramacy />;\n    //       record.date = get(record, 'effectiveDateTime', '');\n    //       record.text = get(record, 'identifier[0].type.text', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }\n\n    //   if(get(Meteor.user(), 'profile.continuityOfCare.procedures')){\n    //     data.ccd.procedures.forEach(function(record) {\n    //       record.icon = <Nuclear />;\n    //       record.date = record.effectiveDateTime;\n    //       record.text = get(record, 'identifier[0].value', '');\n    //       data.timelineEntries.push(record);\n    //     });\n    //   }      \n\n\n    //   data.timelineEntries = sortBy(data.timelineEntries, 'date');\n    //   // data.timelineEntries.sort(function compare(a, b) {\n    //   //   var dateA = new Date(a.date);\n    //   //   var dateB = new Date(b.date);\n    //   //   return dateA - dateB;\n    //   // });\n    // }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"TimelinePage[data]\", data);\n    return data;\n  };\n  render(){\n    \n    var timelineEntries = [];\n    for (var i = 0; i < this.data.timelineEntries.length; i++) {\n      \n      timelineEntries.push(\n        <TimelineEvent \n          key={i}\n          className='timelineEvent'\n          createdAt={ moment(this.data.timelineEntries[i].date).format(\"YYYY-MM-DD\") }\n          icon={ this.data.timelineEntries[i].icon }\n          iconStyle={{height: '80px', width: '80px', fontSize: '200%', border: 'none'}}\n          contentStyle={{width: '500px'}}\n          bubbleStyle={{border: '0px none'}}\n          >\n          <CardText>\n            {/* { this.data.timelineEntries[i].icon } <br />             */}\n            <h4 className='helveticas'>{ this.data.timelineEntries[i].text }</h4>\n            <h5 className='helveticas' style={{color: 'gray'}}>{ this.data.timelineEntries[i].resourceType } </h5>\n          </CardText>\n        </TimelineEvent>\n      )\n    }\n\n    return(\n      <div id=\"TimelinePage\">\n        <VerticalCanvas >\n          <Timeline className=\"timeline\" style={{height: '100%'}}>\n            { timelineEntries }          \n          </Timeline>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\nReactMixin(TimelinePage.prototype, ReactMeteorData);\nexport default TimelinePage;\n\n\nvar s = {\n  container: {\n    position: 'relative',\n    fontSize: '80%',\n    fontWeight: 300,\n    padding: '10px 0',\n    width: '95%',\n    margin: '0 auto'\n  },\n  containerBefore: {\n    position: 'fixed',\n    top: 0,\n    left: 36,\n    height: '10000%',\n    // width: 2,\n    // background: '#ffffff',\n    borderLeft: '3px dashed lightgray'\n  },\n  containerAfter: {\n    content: '',\n    display: 'table',\n    clear: 'both'\n  }\n}\n\nclass Timeline extends Component {\n\n  render () {\n    return (\n      <div>\n        <section style={s.container} {...this.props}>\n          <div className='containerBefore timeline' style={s.containerBefore} />\n          {this.props.children}\n          <div className='containerAfter' style={s.containerAfter} />\n        </section >\n      </div>\n    )\n  }\n}\n","// http://visjs.org/docs/timeline/index.html\n// https://github.com/Lighthouse-io/react-visjs-timeline\n// http://visjs.org/examples/timeline/interaction/animateWindow.html\n\nimport React, { Component } from 'react';\nimport Timeline from './Timeline';\nimport moment from 'moment';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Session } from 'meteor/session';\nimport { get } from 'lodash';\nimport { Dialog, FlatButton, CardTitle, CardText } from 'material-ui';\n\n// import ReactGA from 'react-ga';\n\nimport { ObservationDetail } from 'meteor/clinical:hl7-resource-observation';\nimport { CarePlanDetail } from 'meteor/clinical:hl7-resource-careplan';\nimport { ConditionDetail } from 'meteor/clinical:hl7-resource-condition';\nimport { ImmunizationDetail } from 'meteor/clinical:hl7-resource-immunization';\nimport { MedicationOrderDetail } from 'meteor/clinical:hl7-resource-medication-order';\nimport { ProcedureDetail } from 'meteor/clinical:hl7-resource-procedure';\n\nimport vis from 'vis/dist/vis-timeline-graph2d.min'\n\nvar dataSet = new vis.DataSet([]);\n\n// // subscribe to any change in the DataSet\n// dataSet.on('*', function (event, properties, senderId) {\n//   console.log('event', event, properties);\n// });\n\n\n\n\n// // http://visjs.org/docs/timeline/#Configuration_Options\n// const options = {\n//   width: '100%',\n//   height: '200px',\n//   stack: false,\n//   showMajorLabels: true,\n//   showCurrentTime: true,\n//   zoomMin: 1000000,\n//   //type: 'background',\n//   format: {\n//     minorLabels: {\n//       minute: 'h:mma',\n//       hour: 'ha'\n//     }\n//   },\n//   start: '2014-04-10',\n//   end: '2014-04-30'\n// }\n// const items = [{\n//   start: new Date(2010, 7, 15),\n//   end: new Date(2010, 8, 2),  // end is optional\n//   content: 'Trajectory A',\n// }]\n\n// const basicExample = {\n//   options: {\n//     start: '2014-04-10',\n//     end: '2014-04-30',\n//   },\n//   items: [\n//     {content: 'item 1', start: moment('2014-04-20').toDate(), type: 'point'},\n//     {content: 'item 2', start: moment('2014-04-14').toDate(), type: 'point'},\n//     {content: 'item 3', start: moment('2014-04-18').toDate(), type: 'point'},\n//     {content: 'item 4', start: moment('2014-04-16').toDate(), end: moment('2014-04-19')},\n//     {content: 'item 5', start: moment('2014-04-25').toDate(), type: 'point'},\n//     {content: 'item 6', start: moment('2014-04-27').toDate(), type: 'point'}\n//   ],\n// }\n\n\n// BabyBlue   backgroundColor: #97b0f8\n// Pink       backgroundColor: #ecdcde\n// Pink       backgroundColor: rgb(236, 220, 222)\n\n\nSession.setDefault('timelineDialogOpen', false);\nSession.setDefault('activeTimelineResource', false);\nSession.setDefault('activeTimelineResourceType', false);\nSession.setDefault('activeTimelineResourceDescription', false);\n      \n\n\n// if(get(Meteor.user(), 'profile.consents.performanceAnalytics.status') === \"active\"){\n//   ReactGA.initialize('UA-124270514-1');\n//   ReactGA.pageview(window.location.pathname + window.location.search);  \n// }\n\n\n\nexport class TimelineSidescrollPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  componentWillMount(){\n    const timeLineEvents = {};\n    // this is the timeline that initially renders\n    // the one problem is that it's going to use the current screen height/width \n    this.timeline = (<Timeline \n        id=\"horizontalTimeline\"\n        selectHandler={ this.openDialog }\n        changedHandler={this.preventRedraw }\n        clickHandler={this.preventRedraw }\n        options={this.data.options} \n        items={this.data.items} \n        groups={this.data.groups} \n        events={timeLineEvents}\n        />)\n  }\n  getMeteorData() {\n    var currentPatient;\n\n    // is a patient associated with the logged in user profile?\n    if(get(Meteor.user(), 'profile.patientId')){\n      currentPatient = Patients.findOne({_id: get(Meteor.user(), 'profile.patientId')})\n    }\n\n    // no?  well, let's use the first patient in the Patient's cursor\n    if(!currentPatient){\n      currentPatient = Patients.findOne();\n    }\n\n\n    let data = {\n      timelineDialogOpen: Session.get('timelineDialogOpen'),\n      options: {\n        width: '100%',\n        // width: window.innerWidth + 'px',\n        // width: Session.get('appWidth'),\n        autoResize: true,\n        height: (Session.get('appHeight') - 128),\n        // height: window.innerHeight - 128 + 'px',\n        dataAttributes: ['id', 'mongoId'],\n        stack: true,\n        showMajorLabels: false,\n        showCurrentTime: true,\n        zoomMin: 1000000,\n        format: {\n          // ??\n          // ??\n        },\n\n        start: '1978-01-25',  // birthdate\n        end: moment().format(\"YYYY-MM-DD\"), //now\n        min: '1977-04-25',  // birthdate - 9mo\n        max: '2050-01-01',  // birthdate +76 yrs\n\n        \n        // start: '1978-01-25',  // birthdate\n        // end: moment().format(\"YYYY-MM-DD\"), //now\n        // min: '1977-04-25',  // birthdate - 9mo\n        // max: '2050-01-01',  // birthdate +76 yrs\n\n        // // TODO:  Clinicals on FHIR Usecase\n        // // Need to generalize the timeline function instead of hardcoding examples\n        // start: '1990-07-04',\n        // end: moment().format(\"YYYY-MM-DD\"),\n        // min: '1989-10-04',\n        // max: '2066-07-04', \n\n        groupOrder: 'content'  // groupOrder can be a property name or a sorting function'\n      },\n      groups: [],\n      items: dataSet.get(),\n      currentPatient: null,\n      activeTimelineResource: Session.get('activeTimelineResource'),\n      activeTimelineResourceType: Session.get('activeTimelineResourceType'),\n      activeTimelineResourceDescription: Session.get('activeTimelineResourceDescription'),\n      query: {}\n    }\n    \n    // if(this.props.birthdate){\n    //   data.options.start = this.props.birthdate;\n    // }\n\n    if(get(currentPatient, 'birthDate')){\n      data.options.start = moment(currentPatient.birthDate).format('YYYY-MM-DD');  // birthdate\n      data.options.end = moment().format(\"YYYY-MM-DD\"); // current date\n      data.options.min = moment(currentPatient.birthDate).subtract('days', 270).format('YYYY-MM-DD');  // birthdate - 9mo // conception date\n      data.options.max = moment(currentPatient.birthDate).add('years', 78).format('YYYY-MM-DD');  // birthdate +76 yrs  // estimated death date\n    }\n\n    var genderColor;\n\n    if(get(currentPatient, 'gender')){\n      if(get(currentPatient, 'gender') === 'male'){\n        genderColor = '#d5ddf6';\n      }\n      if(get(currentPatient, 'gender') === 'female'){\n        genderColor = '#ecdcde';\n      }\n    }\n\n    if(Session.get('gender') === 'female'){\n      genderColor = '#ecdcde';\n    } else if (Session.get('gender') === \"maleBabyBlue\"){\n      genderColor = '#d5ddf6';\n    }\n\n    if(Meteor.userId()){\n      var continuityOfCare = get(Meteor.user(), 'profile.continuityOfCare', {});\n\n      if(get(currentPatient, 'birthDate')){\n\n        var inUtero = {\n          mongoId: 'utero',\n          id: 'utero',\n          start: moment(currentPatient.birthDate).subtract(270, 'days').format('YYYY-MM-DD'),\n          end: moment(currentPatient.birthDate).format('YYYY-MM-DD'),\n          type: 'background',\n          style: 'background-color: ' + genderColor + '; opacity: 0.5;'\n        }\n        // in-utero\n        if(!dataSet.get('utero')){\n          dataSet.add(inUtero)   \n        }\n\n        // puberty\n        var puberty = {\n          mongoId: 'puberty',\n          id: 'puberty',\n          start: moment(currentPatient.birthDate).add(10, 'years').format('YYYY-MM-DD'),\n          end: moment(currentPatient.birthDate).add(17, 'years').format('YYYY-MM-DD'),\n          type: 'background',\n          style: 'background-color: ' + genderColor + '; opacity: 0.5;'\n        }\n        // in-utero\n        if(!dataSet.get('puberty')){\n          dataSet.add(puberty)   \n        }\n\n        // menarche\n        var menarche = {\n          mongoId: 'menarche',\n          id: 'menarche',\n          start: moment(currentPatient.birthDate).add(55, 'years').format('YYYY-MM-DD'),\n          end: moment(currentPatient.birthDate).add(60, 'years').format('YYYY-MM-DD'),\n          type: 'background',\n          style: 'background-color: ' + genderColor + '; opacity: 0.5;'\n        }\n        // in-utero\n        if(!dataSet.get('menarche')){\n          dataSet.add(menarche)   \n        }\n\n\n        // menarche\n        var adjustedRisk = {\n          mongoId: 'adjustedRisk',\n          id: 'adjustedRisk',\n          start: moment(currentPatient.birthDate).add(70, 'years').format('YYYY-MM-DD'),\n          end: moment(currentPatient.birthDate).add(78, 'years').format('YYYY-MM-DD'),\n          type: 'background',\n          style: 'background-color: #cccccc; opacity: 0.5;'\n        }\n        // in-utero\n        if(!dataSet.get('adjustedRisk')){\n          dataSet.add(adjustedRisk)   \n        }\n        // // menarche\n        // var menarcheDate = {\n        //   start: '1988-07-04',\n        //   type: 'background',\n        //   style: 'background-color: ' + genderColor + '; opacity: 0.5;'\n        // }\n        // dataSet.add(menarcheDate)   \n\n        // // in-utero\n        // dataSet.add({\n        //   start: '1989-10-04',\n        //   end: '1990-07-04',\n        //   type: 'background',\n        //   style: 'background-color: #ecdcde; opacity: 0.5;'\n        // })   \n\n        // // puberty\n        // dataSet.add({\n        //   start: '2000-07-04',\n        //   end: '2007-07-04',\n        //   type: 'background',\n        //   style: 'background-color: #ecdcde; opacity: 0.5;'\n        // })   \n\n        // // pregnancy\n        // dataSet.add({\n        //   start: '2017-04-15',\n        //   end: '2018-01-31',\n        //   type: 'background',\n        //   style: 'background-color: #ecdcde; opacity: 0.5;'\n        // })   \n\n      }\n\n      let pointStyle = \"filter: none; webkit-filter: none;\";\n      let rangeStyle = \"background-color: white; border-color: lightgray;\";\n\n      if (Session.get('glassBlurEnabled')) {\n        // pointStyle.filter = 'blur(3px)';\n        // pointStyle.WebkitFilter = 'blur(3px)';\n        pointStyle = \"filter: blur(3px); webkit-filter: blur(3px);\";\n        rangeStyle = \"background-color: white; border-color: lightgray; filter: blur(3px); webkit-filter: blur(3px);\";\n      }\n      \n      console.log('Parsing AllergyIntolerances for timeline...')\n      AllergyIntolerances.find().forEach(function(allergy){\n        if(allergy){          \n          if(!dataSet.get(get(allergy, '_id'))){\n            let newAllergy = {\n              mongoId: get(allergy, '_id', ''),\n              id: get(allergy, '_id', ''),\n              content: '',\n              group: 'Allergies',\n              start: null,\n              end: null,\n              type: 'point',\n              style: pointStyle\n            }\n\n            if(get(allergy, 'onsetDateTime')){\n              newAllergy.start = get(allergy, 'onsetDateTime');\n            } else if(get(allergy, 'onsetPeriod')){\n              newAllergy.start = get(allergy, 'onsetPeriod.start');\n            } else if (get(allergy, 'recordedDate')){\n              newAllergy.start = get(allergy, 'recordedDate');\n            } else if (get(allergy, 'onset')){\n              newAllergy.start = get(allergy, 'onset');\n            } else if (get(allergy, 'lastOccurance')){\n              newAllergy.start = get(allergy, 'lastOccurance');\n            }\n\n            if(get(allergy, 'onsetPeriod.end')){\n              newAllergy.end = get(allergy, 'onsetPeriod.end');\n              newAllergy.style = rangeStyle\n              newAllergy.type = 'range';\n            }\n\n            if(get(allergy, 'reaction[0].description')){\n              newAllergy.content = get(allergy, 'reaction[0].description');\n            } else if(get(allergy, 'reaction[0].manifestation[0].text')){\n              newAllergy.content = get(allergy, 'reaction[0].manifestation[0].text');\n            }\n\n            if(newAllergy.start){\n              dataSet.add(newAllergy)     \n            }\n          }\n        }\n      });  \n\n      console.log('Parsing CarePlans for timeline...')\n      CarePlans.find().forEach(function(carePlan){\n        if(carePlan){\n          if(!dataSet.get(get(carePlan, '_id'))){\n            let newCarePlan = {\n              mongoId: get(carePlan, '_id', ''),\n              id: get(carePlan, '_id', ''),\n              content: '',\n              group: 'CarePlans',\n              start: null,\n              end: null,\n              type: 'range',\n              style: rangeStyle\n            }\n\n\n            if(get(carePlan, 'category[0].text')){\n              newCarePlan.content = get(carePlan, 'category[0].text', '');\n            }\n\n            if(get(carePlan, 'description', '')){\n              newCarePlan.content = get(carePlan, 'description', '');\n            }\n\n            // do we even have range data?\n            if(get(carePlan, 'period')){\n              // apparently we have something\n              // so at least get us started\n              if(get(carePlan, 'period.start')){\n                newCarePlan.start = get(carePlan, 'period.start');\n              }\n              // if there's an end date, great!\n              if(get(carePlan, 'period.end')){\n                newCarePlan.end = get(carePlan, 'period.end');\n              } else if(get(data, 'options.max')){\n                // otherwise, do we have some actuarial data?\n                // set to end-of-life\n                newCarePlan.end = get(data, 'options.max');            \n              } else {\n                // otherwise, set to... today?\n                newCarePlan.end = moment();            \n              }\n            } else {\n              // we didn't get date range data, so we need to estimate based on conditions in the careplan\n              \n              if(get(carePlan, 'addresses')){\n                // is earlier\n                carePlan.addresses.forEach(function(conditionReference){\n                  Conditions.find({'code.text': conditionReference.display}).map(function(condition){\n                    newCarePlan.start = get(condition, 'onsetDateTime');\n                    // otherwise, set to... today?\n                    newCarePlan.end = moment();            \n                    // if(moment(condition.onsetDateTime).isBefore(startDate)){\n                    //   newCarePlan.start = condition.onsetDateTime;\n                    // }\n                  })\n                })\n              }\n            }\n\n            if(newCarePlan.start){\n              dataSet.add(newCarePlan)     \n            }\n\n          }\n        }\n      })\n\n      console.log('Parsing Conditions for timeline...')\n      Conditions.find().forEach(function(condition){\n        if(condition){\n          if(!dataSet.get(get(condition, '_id'))){\n            let newCondition = {\n              mongoId: get(condition, '_id', ''),\n              id: get(condition, '_id', ''),\n              group: 'Conditions',\n              content: '',\n              start: null,\n              end: null,\n              // content: get(condition, 'identifier[0].value') ? get(condition, 'identifier[0].value', '') : get(condition, 'code.coding[0].display', ''),\n              // start: moment(get(condition, 'onsetDateTime')).format(\"YYYY-MM-DD\"),\n              type: 'point',\n              style: pointStyle\n            }\n\n            if(get(condition, 'code.text')){\n              newCondition.content = get(condition, 'code.text');\n            } else if(get(condition, 'code.coding[0].display')){\n              newCondition.content = get(allergy, 'code.coding[0].display');\n            } else if(get(condition, 'identifier[0].value')){\n              newCondition.content = get(allergy, 'identifier[0].value');\n            }\n\n            if(get(condition, 'onsetDateTime')){\n              newCondition.start = get(condition, 'onsetDateTime');\n            } \n\n            if(get(condition, 'abatementDateTime')){\n              newCondition.end = get(condition, 'abatementDateTime');\n              newCondition.style = rangeStyle\n              newCondition.type = 'range';\n            }\n\n\n            if(newCondition.start){\n              dataSet.add(newCondition);   \n            }\n          }\n        }\n      });  \n\n      console.log('Parsing Immunizations for timeline...')\n      Immunizations.find().forEach(function(immunization){\n        if(immunization){\n          if(!dataSet.get(get(immunization, '_id'))){\n\n            let newImmunization = {\n              mongoId: get(immunization, '_id', ''),\n              id: get(immunization, '_id', ''),\n              group: 'Immunizations',\n              content: '',\n              start: null,\n              end: null,\n              type: 'point',\n              style: pointStyle\n            }\n\n            if(get(immunization, 'vaccineCode.text')){\n              newImmunization.content = get(immunization, 'vaccineCode.text');\n            }\n\n            if(get(immunization, 'occurenceDateTime')){\n              newImmunization.start = get(immunization, 'occurenceDateTime');\n            } else if (get(immunization, 'date')){\n              newImmunization.start = get(immunization, 'date');\n            } else if (get(immunization, 'recorded')){\n              newImmunization.start = get(immunization, 'recorded');\n            }\n\n            if(newImmunization.start){\n              dataSet.add(newImmunization)     \n            }\n          }\n        }\n      });   \n\n      console.log('Parsing MedicationOrders for timeline...')\n      MedicationOrders.find().forEach(function(medicationOrder){\n        //console.log('medicationOrder', medicationOrder);\n        if(medicationOrder){\n          if(!dataSet.get(get(medicationOrder, '_id'))){\n            let newMedicationOrder = {\n              group: 'MedicationOrders',\n              mongoId: get(medicationOrder, '_id', ''),\n              id: get(medicationOrder, '_id', ''),\n              content: '',\n              // id: get(medicationOrder, 'id') ? get(medicationOrder, 'id') : get(medicationOrder, '_id', ''),\n              // content: contextText,\n              // start: get(medicationOrder, 'dateWritten'),\n              start: null,\n              end: null,\n              type: 'point',\n              style: pointStyle\n            }\n\n            if(get(medicationOrder, 'dateWritten')){\n              newMedicationOrder.start = get(medicationOrder, 'dateWritten');\n            } \n            if(get(medicationOrder, 'dateEnded')){\n              newMedicationOrder.end = get(medicationOrder, 'dateEnded');\n              newMedicationOrder.style = rangeStyle\n              newMedicationOrder.type = 'range';\n            } \n\n            if(get(medicationOrder, 'medicationReference.display')){\n              newMedicationOrder.content = get(medicationOrder, 'medicationReference.display');\n            } else if(get(medicationOrder, 'medicationCodeableConcept.text')){\n              newMedicationOrder.content = get(medicationOrder, 'medicationCodeableConcept.text');\n            } else if(get(medicationOrder, 'reaction[0].description')){\n              newMedicationOrder.content = get(medicationOrder, 'reaction[0].description');\n            } else if(get(medicationOrder, 'identifier[0].value')){\n              newMedicationOrder.content = get(medicationOrder, 'identifier[0].value');\n            }\n\n            if(newMedicationOrder.start){\n              dataSet.add(newMedicationOrder);     \n            }\n          }\n        }\n      });  \n\n      console.log('Parsing MedicationStatements for timeline...')\n      MedicationStatements.find().forEach(function(medicationStatement){        \n        if(medicationStatement){\n          if(!dataSet.get(get(medicationStatement, '_id'))){\n            let newMedicationStatement = {\n              mongoId: get(medicationStatement, '_id', ''),\n              id: get(medicationStatement, '_id', ''),\n              group: 'MedicationStatements',\n              content: '',\n              start: null,\n              end: null,\n              type: 'point',\n              style: pointStyle\n              // id: get(medicationStatement, 'id') ? get(medicationStatement, 'id') : get(medicationStatement, '_id', ''),\n              // content: get(medicationStatement, 'contained[0].code.coding[0].display', ''),\n              // start: get(medicationStatement, 'effectiveDateTime', null),\n            }\n\n            if(get(medicationStatement, 'contained[0].code.coding[0].display')){\n              newMedicationStatement.content = get(medicationStatement, 'contained[0].code.coding[0].display');\n            }\n  \n            if(get(medicationStatement, 'effectiveDateTime')){\n              newMedicationStatement.start = get(medicationStatement, 'effectiveDateTime');\n            } else if (get(medicationStatement, 'effectivePeriod.start')){\n              newMedicationStatement.start = get(medicationStatement, 'effectivePeriod.start');\n            }\n  \n            if (get(medicationStatement, 'effectivePeriod.end')){\n              newMedicationStatement.end = get(medicationStatement, 'effectivePeriod.end');\n              newMedicationStatement.style = rangeStyle\n              newMedicationStatement.type = 'range';\n            }\n  \n            if(newMedicationStatement.start){\n              dataSet.add(newMedicationStatement);     \n            }\n          }\n        }\n      });  \n\n\n\n      var filters = get(Meteor.user(), 'profile.filters');\n  \n      if(filters){\n        data.query = {};\n        if(filters.remove && filters.remove.length > 0){\n          if(!data.query.$nor) data.query.$nor = [];\n          filters.remove.forEach(function(term){\n            if(term){\n              data.query.$nor.push({ \"code.text\": { \"$regex\": \"^\" + term } })\n            }\n          });  \n        }\n  \n        if(filters.mustHave && filters.mustHave.length > 0){\n          if(!data.query.$or) data.query.$or = [];\n          filters.mustHave.forEach(function(term){\n            if(term){\n              data.query.$or.push({ \"code.text\": { \"$regex\": \"^\" + term } })\n            }\n          })          \n        }\n\n        if(get(filters, 'sensitiveItems.subtanceAbuse')){\n          if(!data.query.$or) data.query.$or = [];\n          data.query.$or.push({ \"code.text\": { \"$regex\": \"^\" } })\n        }\n        if(get(filters, 'sensitiveItems.mentalHealth')){\n          if(!data.query.$or) data.query.$or = [];\n          data.query.$or.push({ \"code.text\": { \"$regex\": \"^Depression\" } })\n        }\n        if(get(filters, 'sensitiveItems.sexualHealth')){\n          if(!data.query.$or) data.query.$or = [];\n          data.query.$or.push({ \"code.text\": { \"$regex\": \"^gonorrhoeae\" } })\n          data.query.$or.push({ \"code.text\": { \"$regex\": \"^eGFR\" } })\n          data.query.$or.push({ \"code.text\": { \"$regex\": \"^chlamydia\" } })\n        }\n      }\n\n      console.log('Parsing Observations for timeline...')\n      Observations.find(data.query).forEach(function(observation){\n        if(observation){\n          if(!dataSet.get(get(observation, '_id'))){\n            let newObservation = {\n              group: 'Observations',\n              mongoId: get(observation, '_id', ''),\n              id: get(observation, '_id', ''),\n              content: '',\n              start: null,\n              end: null,\n              // id: get(observation, 'id') ? get(observation, 'id') : get(observation, '_id', ''),\n              // content: contextText.substring(0, 32), \n              // start: moment(get(observation, 'effectiveDateTime')).format('YYYY-MM-DD'),\n              type: 'point',\n              style: pointStyle\n            }\n\n            if(get(observation, 'code.text')){\n              newObservation.content = get(observation, 'code.text');\n            } else if(get(observation, 'code.coding[0].display')){\n              newObservation.content = get(observation, 'code.coding[0].display');\n            } \n            \n            if(get(observation, 'valueQuantity.value')){\n              newObservation.content = newObservation.content + ' - ' + get(observation, 'valueQuantity.value') \n            } else \n            if(get(observation, 'valueQuantity.unit')){\n              newObservation.content = newObservation.content + ' - ' + get(observation, 'valueQuantity.unit') \n            } else\n            if(get(observation, 'valueString')){\n              newObservation.content = newObservation.content + ' - ' + get(observation, 'valueString') \n            } \n            newObservation.content = newObservation.content.substring(0, 32);\n\n            if(get(observation, 'effectiveDateTime')){\n              newObservation.start = get(observation, 'effectiveDateTime');\n            } else if(get(observation, 'effectivePeriod')){\n              newObservation.start = get(observation, 'effectivePeriod.start');\n              newObservation.end = get(observation, 'effectivePeriod.end');\n            } else {\n              newObservation.start = get(observation, 'issued');    \n              newObservation.pointStyle = \"filter: none; webkit-filter: none; border-color: #42f49e;\"; \n              newObservation.className = 'vis-item-issued';\n            }\n\n            if(newObservation.start){\n              dataSet.add(newObservation);\n            }\n          }\n        }      \n      });  \n\n      console.log('Parsing Procedures for timeline...')\n      Procedures.find().forEach(function(procedure){        \n        if(procedure){\n          if(!dataSet.get(get(procedure, '_id'))){\n            let newProcedure = {\n              //content: get(procedure, 'identifier[0].value') ? get(procedure, 'identifier[0].value') : get(procedure, 'code.text'),\n              mongoId: get(procedure, '_id', ''),\n              id: get(procedure, '_id', ''),\n              // id: get(procedure, 'id') ? get(procedure, 'id') : get(procedure, '_id', ''),\n              content:  get(procedure, 'code.text'),\n              group: 'Procedures',\n              start: moment(get(procedure, 'performedDateTime')).format('YYYY-MM-DD'),\n              type: 'point',\n              style: pointStyle\n            }\n\n            if(get(procedure, 'code.text')){\n              newProcedure.content = get(procedure, 'code.text');\n            } else if (get(procedure, 'identifier[0].value')){\n              newProcedure.content = get(procedure, 'identifier[0].value');\n            }\n            \n            if(get(procedure, 'performedDateTime')){\n              newProcedure.start = get(procedure, 'performedDateTime');\n            } else if (get(procedure, 'performedPeriod.start')){\n              newProcedure.start = get(procedure, 'performedDateTime.start');\n            }\n\n            if (get(procedure, 'performedPeriod.end')){\n              newProcedure.end = get(procedure, 'performedDateTime.end');\n            } else {\n              // uh, we received data in a period, but didn't get an end date\n              // and procedures generally aren't continuous?\n              // so, we'll just add it as an end point?\n              newProcedure.end = get(procedure, 'performedDateTime.start');\n            }\n\n            if(newProcedure.start){\n              dataSet.add(newProcedure);\n            }\n          }\n        }\n      });    \n    }\n\n    // const now = moment().minutes(0).seconds(0).milliseconds(0);\n    \n    // create a data set with groups\n    // const names = ['Conditions', 'MedicationOrders', 'Observations', 'Procedures', \"CarePlans\", \"Allergies\", \"Immunizations\"]\n\n    // we want to use the preferred filter settings in the profile object\n    const names = get(Meteor.user(), 'profile.filters.resourceTypes', \n      // but if we need to fall back to a default, we fall back to this list\n      ['Conditions', 'MedicationOrders', 'Observations', 'Procedures', \"CarePlans\", \"Allergies\", \"Immunizations\"]);\n\n    for (let g = 0; g < names.length; g++) {\n      data.groups.push({ id: names[g], content: names[g] })\n    }\n\n    data.items = dataSet.get();\n\n    // if(Session.get('glassBlurEnabled')){\n    //   var timeLineEvents = {};\n    //   // this.timeline = (<EventsTimeline events={timeLineEvents}/>)\n    //   this.timeline = (<Timeline \n    //       selectHandler={ this.openDialog }\n    //       changedHandler={this.preventRedraw }\n    //       clickHandler={this.preventRedraw }\n    //       options={this.data.options} \n    //       items={this.data.items} \n    //       groups={this.data.groups} \n    //       events={timeLineEvents}\n    //       />)\n    // }\n\n    console.log('TimelineSidescrollPage.data', data)\n    return data;\n  }\n  handleCloseDialog(){\n    Session.set('timelineDialogOpen', false);\n  }\n  openDialog(props){\n    console.log('openDialog', props)\n    let activeTimelineItem = dataSet.get(props.items[0]);\n    console.log('activeTimelineItem', activeTimelineItem);\n\n    let activeTimelineRecord\n    if(activeTimelineItem.group){\n      activeTimelineRecord = Mongo.Collection.get(activeTimelineItem.group).findOne({_id: activeTimelineItem.mongoId})\n      console.log('activeTimelineRecord', activeTimelineRecord)\n      Session.set('activeTimelineResource', activeTimelineRecord);\n      Session.set('activeTimelineResourceType', activeTimelineItem.group);\n      Session.set('activeTimelineResourceDescription', activeTimelineItem.content);\n    }\n    \n    Session.set('timelineDialogOpen', true);\n    \n    props.event.preventDefault();\n    props.event.stopPropagation();\n  }\n  preventRedraw(props){\n    if(props && props.event){\n      props.event.preventDefault();\n      props.event.stopPropagation();  \n    }\n  }\n  render(){\n\n    let catchActions = [\n      // <FlatButton\n      //   label=\"Send SMS Message\"\n      //   primary={true}\n      //   keyboardFocused={true}\n      //   onClick={this.sendSmsMessage}\n      // />,\n      <FlatButton\n        label=\"Cancel\"\n        primary={true}\n        onClick={this.handleCloseDialog}\n      />\n    ];\n\n    let self = this;\n\n    let dialogContent;\n    let resourceType = ''\n    let dialogTitle = ''\n    switch (this.data.activeTimelineResourceType) {\n      case 'CarePlans':\n        resourceType = 'CarePlan'\n        dialogTitle = get(this, 'data.activeTimelineResourceDescription');\n        dialogContent = <CarePlanDetail \n          showHints={false}\n          careplan={ get(this, 'data.activeTimelineResource') }\n          careplanId={ get(this, 'data.activeTimelineResource.id') }\n        />        \n        break;\n      case 'Conditions':\n        resourceType = 'Condition'\n        dialogTitle = get(this, 'data.activeTimelineResourceDescription');\n        dialogContent = <ConditionDetail \n          showHints={false}\n          showPatientInputs={false}\n          condition={ get(this, 'data.activeTimelineResource') }\n          conditionId={ get(this, 'data.activeTimelineResource.id') }\n        />        \n        break;\n      case 'Observations':\n        resourceType = 'Observation'\n        dialogTitle = get(this, 'data.activeTimelineResourceDescription');\n        dialogContent = <ObservationDetail\n          displayDatePicker={true} \n          displayBarcodes={false}\n          showHints={false}\n          showPatientInputs={false}\n          observation={ get(this, 'data.activeTimelineResource') }\n          observationId={ get(this, 'data.activeTimelineResource.id') }\n        />\n        break;\n\n      case 'Immunizations':\n        resourceType = 'Immunization'\n        dialogTitle = get(this, 'data.activeTimelineResourceDescription');\n        dialogContent = <ImmunizationDetail\n          displayDatePicker={true} \n          displayBarcodes={false}\n          showHints={false}\n          showPatientInputs={false}\n          immunization={ get(this, 'data.activeTimelineResource') }\n          immunizationId={ get(this, 'data.activeTimelineResource.id') }\n        />\n        break;\n\n      case 'MedicationOrders':\n        resourceType = 'MedicationOrder'\n        dialogTitle = get(this, 'data.activeTimelineResourceDescription');\n        dialogContent = <MedicationOrderDetail\n          displayDatePicker={true} \n          displayBarcodes={false}\n          showHints={false}\n          showPatientInputs={false}\n          medicationOrder={ get(this, 'data.activeTimelineResource') }\n          medicationOrderId={ get(this, 'data.activeTimelineResource.id') }\n        />\n        break;\n        \n      case 'Procedures':\n        resourceType = 'Procedure'\n        dialogTitle = get(this, 'data.activeTimelineResourceDescription');\n        dialogContent = <ProcedureDetail\n          displayDatePicker={true} \n          displayBarcodes={false}\n          showHints={false}\n          showPatientInputs={false}\n          procedure={ get(this, 'data.activeTimelineResource') }\n          procedureId={ get(this, 'data.activeTimelineResource.id') }\n        />\n        break;\n\n        \n\n      default:\n        break;\n    }\n\n    \n    return(\n      <div id=\"horizontalTimeline\" style={{paddingTop: '64px', paddingBottom: '64px', backgroundColor: '#f3f3f3'}}>\n        { this.timeline }\n        <Dialog\n            actions={catchActions}\n            modal={false}\n            open={this.data.timelineDialogOpen}\n            // onRequestClose={this.handleCloseDialog}\n          >\n            <CardTitle title={dialogTitle} subtitle={resourceType} />\n            <CardText>\n              { dialogContent }\n            </CardText>\n          </Dialog>\n      </div>\n    );\n  }\n}\nReactMixin(TimelineSidescrollPage.prototype, ReactMeteorData);\nexport default TimelineSidescrollPage;\n\n"]}