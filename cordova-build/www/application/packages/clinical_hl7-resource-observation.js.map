{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/lib/Observations.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/server/methods.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/client/HealthLog.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/client/ObservationDetail.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/client/ObservationsPage.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/client/ObservationsTable.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-observation/client/VitalMeasurements.jsx"],"names":["SimpleSchema","module","link","v","Observation","BaseModel","extend","prototype","_collection","Observations","Package","Mongo","Collection","connection","_transform","document","ObservationDstu2","type","String","defaultValue","optional","Array","IdentifierSchema","Code","allowedValues","CodeableConceptSchema","ReferenceSchema","Date","PeriodSchema","QuantitySchema","RangeSchema","RatioSchema","SampledDataSchema","AttachmentSchema","Object","ObservationStu3","ObservationSchema","BaseSchema","DomainResourceSchema","attachSchema","exportDefault","Meteor","methods","createObservation","observationObject","check","process","env","NODE_ENV","console","log","insert","error","result","initializeObservation","observationValue","deviceId","Number","find","count","defaultObservation","resourceType","status","category","text","effectiveDateTime","subject","display","reference","performer","device","valueQuantity","value","unit","system","userId","user","users","findOne","_id","profile","name","call","removeObservationById","observationId","remove","dropObservations","forEach","observation","id","err","export","SidebarElements","DynamicRoutes","ObservationsPage","ObservationsTable","ObservationDetail","VitalMeasurements","HealthLog","Healthlog","React","ReactMeteorData","ReactMixin","GlassCard","VerticalCanvas","DynamicSpacer","PropTypes","getMeteorData","data","style","state","isLoggedIn","renderAuthenticatedUserControls","props","routeParams","render","Component","propTypes","children","any","CardActions","CardText","RaisedButton","DatePicker","TextField","Glass","Row","Col","get","set","valueString","form","code","quantity","deviceDisplay","subjectDisplay","subjectReference","loincCode","loincCodeText","loincCodeDisplay","dehydrateFhirResource","formData","assign","comparator","shouldComponentUpdate","nextProps","shouldUpdate","setState","displayDatePicker","renderDatePicker","moment","setHint","changeState","bind","showHints","patientInputs","showPatientInputs","determineButtons","handleSaveButton","marginRight","handleDeleteButton","updateFormData","field","textValue","updateObservation","observationData","event","self","fhirObservationData","observationValidator","newContext","validate","isValid","validationErrors","update","$set","Bert","alert","reason","onUpdate","onInsert","handleCancelButton","onCancel","onDelete","string","fhirVersion","oneOfType","bool","object","func","onRemove","CardTitle","Tab","Tabs","FullPageCanvas","Session","setDefault","opacity","tab","borderBottom","borderRight","tabIndex","observationSearchFilter","currentObservationId","selectedObservation","blur","appbar","darkroom","handleTabChange","index","handleActive","onNewTab","HipaaLogger","logEvent","eventType","userName","fullName","collectionName","recordId","Card","CardMedia","Table","FaTags","FaCode","FaPuzzlePiece","FaLock","flattenObservation","meta","subjectId","createdBy","issued","format","length","selected","observations","push","query","map","filter","WebkitFilter","backdropFilter","handleChange","row","key","source","displayOnMobile","width","includes","window","navigator","platform","handleSelect","getDate","noChange","rowClick","renderBarcode","displayBarcodes","renderBarcodeHeader","renderSubject","showSubjects","renderSubjectHeader","renderDevice","showDevices","renderDeviceHeader","renderValue","showvalueString","renderValueHeader","showValueString","renderCodeHeader","multiline","renderCategoryHeader","renderValueString","renderValueStringHeader","renderComparator","showComparator","renderComparatorHeader","tableRows","i","marginLeft","minWidth","barcodes","array","paginationLimit","number","Grid","ListGroupItem","FormControl","Button","browserHistory","IoIosHeartEmpty","IoMdPulse","FiThermometer","FaStethoscope","FontAwesome","require","pulse","temperature","respiration","bloodPressure","notes","borderTop","borderLeft","onActive","spoonCounter","changePost","paddingTop","fontSize","color","minHeight","position","top","handleInsertObservations","lastUpdated","pulseObservation","respirationObservation","temperatureObservation","bloodPressureObservation","vitalsForm"],"mappings":"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","file":"/packages/clinical_hl7-resource-observation.js","sourcesContent":["import SimpleSchema from 'simpl-schema';\n\n// create the object using our BaseModel\nObservation = BaseModel.extend();\n\n//Assign a collection so the object knows how to perform CRUD operations\nObservation.prototype._collection = Observations;\n\n// // Create a persistent data store for addresses to be stored.\n// // HL7.Resources.Patients = new Mongo.Collection('HL7.Resources.Patients');\n\nif(typeof Observations === 'undefined'){\n  if(Package['clinical:autopublish']){\n    Observations = new Mongo.Collection('Observations');\n  } else if(Package['clinical:desktop-publish']){    \n    Observations = new Mongo.Collection('Observations');\n  } else {\n    Observations = new Mongo.Collection('Observations', {connection: null});\n  }\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nObservations._transform = function (document) {\n  return new Observation(document);\n};\n\n\n\n\nObservationDstu2 = new SimpleSchema({\n  'resourceType' : {\n    type: String,\n    defaultValue: 'Observation'\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  'status' : {\n    type: Code,\n    allowedValues: ['registered', 'preliminary', 'final', 'amended', 'cancelled', 'entered-in-error', 'unknown']\n  }, // R!  registered | partial | final | corrected | appended | cancelled | entered-in-error\n  'category' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Service category\n  'code' : {\n    type: CodeableConceptSchema\n  }, // R!  Name/Code for this diagnostic report\n  'subject' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // R!  The subject of the report, usually, but not always, the patient\n  'encounter' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Health care event when test ordered\n  'effectiveDateTime' : {\n    optional: true,\n    type: Date\n  },\n  'effectivePeriod' : {\n    optional: true,\n    type: PeriodSchema\n  },\n  'issued' : {\n    optional: true,\n    type: Date\n  }, // R!  DateTime this version was released\n  'performer' : {\n    optional: true,\n    type: Array\n  }, // R!  Responsible Diagnostic Service\n  'performer.$' : {\n    optional: true,\n    type: ReferenceSchema \n  }, // R!  Responsible Diagnostic Service\n\n  'valueQuantity' : {\n    optional: true,\n    type: QuantitySchema\n  },\n  'valueCodeableConcept' : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  'valueString' : {\n    optional: true,\n    type: String\n  },\n  'valueRange' : {\n    optional: true,\n    type: RangeSchema\n  },\n  'valueRatio' : {\n    optional: true,\n    type: RatioSchema\n  },\n  'valueSampledData' : {\n    optional: true,\n    type: SampledDataSchema\n  },\n  'valueAttachment' : {\n    optional: true,\n    type: AttachmentSchema\n  },\n  'valueTime' : {\n    optional: true,\n    type: Date\n  },\n  'valueDateTime' : {\n    optional: true,\n    type: Date\n  },\n  'valuePeriod' : {\n    optional: true,\n    type: PeriodSchema\n  },\n  'dataAbsentReason' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // C? Why the result is missing\n  'interpretation' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // High, low, normal, etc.\n  'comments' : {\n    optional: true,\n    type: String\n  }, // Comments about result\n  'bodySite' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Observed body part\n  'method' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // How it was done\n  'specimen' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Specimen used for this observation\n  'device' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // (Measurement) Device\n\n\n  \"referenceRange\" : {\n    optional: true,\n    type:  Array\n    },\n  \"referenceRange.$\" : {\n    optional: true,\n    type:  Object \n    },\n  'referenceRange.$.low' : {\n    optional: true,\n    type: QuantitySchema\n  }, // C? Low Range, if relevant\n  'referenceRange.$.high' : {\n    optional: true,\n    type: QuantitySchema\n  }, // C? High Range, if relevant\n  'referenceRange.$.meaning' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Indicates the meaning/use of this range of this range\n  'referenceRange.$.age' : {\n    optional: true,\n    type: RangeSchema\n  }, // Applicable age range, if relevant\n  'referenceRange.$.text' : {\n    optional: true,\n    type: String\n  }, // Text based reference range in an observation\n\n  \"related\" : {\n    optional: true,\n    type:  Array\n    },\n  \"related.$\" : {\n    optional: true,\n    type:  Object \n    },\n  'related.$.type' : {\n    optional: true,\n    type: Code\n  }, // has-member | derived-from | sequel-to | replaces | qualified-by | interfered-by\n  'related.$.target' : {\n    type: ReferenceSchema\n  }, // R!  Resource that is related to this one\n\n\n  \"component\" : {\n    optional: true,\n    type:  Array\n    },\n  \"component.$\" : {\n    optional: true,\n    type:  Object \n    },  \n  'component.$.code' : {\n    type: CodeableConceptSchema\n  }, // C? R!  Type of component observation (code / type)\n  'component.$.valueQuantity' : {\n    optional: true,\n    type: QuantitySchema\n  },\n  'component.$.valueCodeableConcept' : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  'component.$.valueString' : {\n    optional: true,\n    type: String\n  },\n  'component.$.valueRange' : {\n    optional: true,\n    type: RangeSchema\n  },\n  'component.$.valueRatio' : {\n    optional: true,\n    type: RatioSchema\n  },\n  'component.$.valueSampledData' : {\n    optional: true,\n    type: SampledDataSchema\n  },\n  'component.$.valueAttachment' : {\n    optional: true,\n    type: AttachmentSchema\n  },\n  'component.$.valueTime' : {\n    optional: true,\n    type: Date\n  },\n  'component.$.valueDateTime' : {\n    optional: true,\n    type: Date\n  },\n  'component.$.valuePeriod' : {\n    optional: true,\n    type: PeriodSchema\n  },\n  'component.$.dataAbsentReason' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }\n\n});\n\n\n\n\nObservationStu3 = new SimpleSchema({\n  'resourceType' : {\n    type: String,\n    defaultValue: 'Observation'\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  'basedOn' : {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  'status' : {\n    type: Code,\n    allowedValues: ['registered', 'preliminary', 'final', 'amended', 'corrected', 'cancelled', 'entered-in-error', 'unknown'],\n    defaultValue: 'preliminary'\n  }, // R!  registered | partial | final | corrected | appended | cancelled | entered-in-error\n  'category' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Service category\n  'code' : {\n    type: CodeableConceptSchema\n  }, // R!  Name/Code for this diagnostic report\n  'subject' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // R!  The subject of the report, usually, but not always, the patient\n  'context' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Health care event when test ordered\n  'effectiveDateTime' : {\n    optional: true,\n    type: Date\n  },\n  'effectivePeriod' : {\n    optional: true,\n    type: PeriodSchema\n  },\n  'issued' : {\n    optional: true,\n    type: Date\n  }, // R!  DateTime this version was released\n  'performer' : {\n    optional: true,\n    type: Array\n  }, // R!  Responsible Diagnostic Service\n  'performer.$' : {\n    optional: true,\n    type: ReferenceSchema \n  }, // R!  Responsible Diagnostic Service\n\n  'valueQuantity' : {\n    optional: true,\n    type: QuantitySchema\n  },\n  'valueCodeableConcept' : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  'valueString' : {\n    optional: true,\n    type: String\n  },\n  'valueRange' : {\n    optional: true,\n    type: RangeSchema\n  },\n  'valueRatio' : {\n    optional: true,\n    type: RatioSchema\n  },\n  'valueSampledData' : {\n    optional: true,\n    type: SampledDataSchema\n  },\n  'valueAttachment' : {\n    optional: true,\n    type: AttachmentSchema\n  },\n  'valueTime' : {\n    optional: true,\n    type: Date\n  },\n  'valueDateTime' : {\n    optional: true,\n    type: Date\n  },\n  'valuePeriod' : {\n    optional: true,\n    type: PeriodSchema\n  },\n  'dataAbsentReason' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // C? Why the result is missing\n  'interpretation' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // High, low, normal, etc.\n  'comments' : {\n    optional: true,\n    type: String\n  }, // Comments about result\n  'bodySite' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Observed body part\n  'method' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // How it was done\n  'specimen' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Specimen used for this observation\n  'device' : {\n    optional: true,\n    type: ReferenceSchema\n  }, // (Measurement) Device\n\n\n  \"referenceRange\" : {\n    optional: true,\n    type:  Array\n    },\n  \"referenceRange.$\" : {\n    optional: true,\n    type:  Object \n    },\n  'referenceRange.$.low' : {\n    optional: true,\n    type: QuantitySchema\n  }, // C? Low Range, if relevant\n  'referenceRange.$.high' : {\n    optional: true,\n    type: QuantitySchema\n  }, // C? High Range, if relevant\n  'referenceRange.$.type' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Indicates the meaning/use of this range of this range\n  'referenceRange.$.appliesTo' : {\n    optional: true,\n    type: Array\n  }, // Indicates the meaning/use of this range of this range\n  'referenceRange.$.appliesTo.$' : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Indicates the meaning/use of this range of this range\n  'referenceRange.$.age' : {\n    optional: true,\n    type: RangeSchema\n  }, // Applicable age range, if relevant\n  'referenceRange.$.text' : {\n    optional: true,\n    type: String\n  }, // Text based reference range in an observation\n\n  \"related\" : {\n    optional: true,\n    type:  Array\n    },\n  \"related.$\" : {\n    optional: true,\n    type:  Object \n    },\n  'related.$.type' : {\n    optional: true,\n    type: Code\n  }, // has-member | derived-from | sequel-to | replaces | qualified-by | interfered-by\n  'related.$.target' : {\n    type: ReferenceSchema\n  }, // R!  Resource that is related to this one\n\n\n  \"component\" : {\n    optional: true,\n    type:  Array\n    },\n  \"component.$\" : {\n    optional: true,\n    type:  Object \n    },  \n  'component.$.code' : {\n    type: CodeableConceptSchema\n  }, // C? R!  Type of component observation (code / type)\n  'component.$.valueQuantity' : {\n    optional: true,\n    type: QuantitySchema\n  },\n  'component.$.valueCodeableConcept' : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  'component.$.valueString' : {\n    optional: true,\n    type: String\n  },\n  'component.$.valueRange' : {\n    optional: true,\n    type: RangeSchema\n  },\n  'component.$.valueRatio' : {\n    optional: true,\n    type: RatioSchema\n  },\n  'component.$.valueSampledData' : {\n    optional: true,\n    type: SampledDataSchema\n  },\n  'component.$.valueAttachment' : {\n    optional: true,\n    type: AttachmentSchema\n  },\n  'component.$.valueTime' : {\n    optional: true,\n    type: Date\n  },\n  'component.$.valueDateTime' : {\n    optional: true,\n    type: Date\n  },\n  'component.$.valuePeriod' : {\n    optional: true,\n    type: PeriodSchema\n  },\n  'component.$.dataAbsentReason' : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  'component.$.interpretation' : {\n    optional: true,\n    type: CodeableConceptSchema\n  },\n  'component.$.referenceRange' : {\n    optional: true,\n    type: Array\n  },\n  'component.$.referenceRange.$' : {\n    optional: true,\n    type: Object\n  }\n});\n\n\n\nObservationSchema = ObservationDstu2;\n\n\nBaseSchema.extend(ObservationSchema);\nDomainResourceSchema.extend(ObservationSchema);\nObservations.attachSchema(ObservationSchema);\n\nexport default { Observation, Observations, ObservationSchema, ObservationDstu2, ObservationStu3 };","\nMeteor.methods({\n  createObservation:function(observationObject){\n    check(observationObject, Object);\n\n    if (process.env.NODE_ENV === 'test') {\n      console.log('Creating Observation...');\n      Observations.insert(observationObject, function(error, result){\n        if (error) {\n          console.log(error);\n        }\n        if (result) {\n          console.log('Observation created: ' + result);\n        }\n      });\n    } else {\n      console.log('This command can only be run in a test environment.');\n      console.log('Try setting NODE_ENV=test');\n    }\n  },\n  initializeObservation:function(observationValue, deviceId){\n    check(observationValue, Number);\n    check(deviceId, String);\n\n    if (Observations.find().count() === 0) {\n      console.log('No records found in Observations collection.  Lets create some...');\n\n      var defaultObservation = {\n        resourceType: 'Observation',\n        status: 'final',\n        category: {\n          text: 'Weight'\n        },\n        effectiveDateTime: new Date(),\n        subject: {\n          display: 'Jane Doe',\n          reference: ''\n        },\n        performer: {\n          display: '',\n          reference: ''\n        },\n        device: {\n          display: 'Withings Weight Scale',\n          reference: deviceId\n        },\n        valueQuantity: {\n          value: observationValue,\n          unit: 'kg',\n          system: 'http://unitsofmeasure.org'\n        }\n      };\n\n      if (this.userId) {\n        let user = Meteor.users.findOne({_id: this.userId});\n        if (user && user.profile && user.profile.name && user.profile.name.text) {\n\n          //   display: Patients.findByUserId(this.userId).fullName(),\n          //   reference: 'Patients/' + Patients.findByUserId(this.userId).patientId()\n\n          defaultObservation.subject.display = user.profile.name.text;\n          defaultObservation.subject.reference = 'Meteor.users/' + this.userId;\n\n          defaultObservation.performer.display = user.profile.name.text;\n          defaultObservation.performer.reference = 'Meteor.users/' + this.userId;\n        }\n      }\n\n      Meteor.call('createObservation', defaultObservation);\n    } else {\n      console.log('Observations already exist.  Skipping.');\n    }\n  },\n  removeObservationById: function(observationId){\n    check(observationId, String);\n\n    console.log('-----------------------------------------');\n    console.log('Removing observation... ');\n\n    return Observations.remove({_id: observationId})\n  },\n  dropObservations: function(){\n    // if (process.env.NODE_ENV === 'test') {\n    console.log('-----------------------------------------');\n    console.log('Dropping ' + Observations.find().count() + ' observations...');\n\n    Observations.find().forEach(function(observation){\n      console.log('observation', observation.id)\n      Observations.remove({id: observation.id}, function(err){\n        if(err) console.log(err)\n      });\n    });\n\n    // } else {\n    //   console.log('This command can only be run in a test environment.');\n    //   console.log('Try setting NODE_ENV=test');\n    // }\n  }\n\n});\n  ","\n\nimport ObservationsPage from './client/ObservationsPage';\nimport ObservationsTable from './client/ObservationsTable';\nimport ObservationDetail from './client/ObservationDetail';\nimport VitalMeasurements from './client/VitalMeasurements';\nimport HealthLog from './client/HealthLog';\n\nvar DynamicRoutes = [{\n  'name': 'ObservationsPageRoute',\n  'path': '/observations',\n  'component': ObservationsPage,\n  'requireAuth': true\n}, {\n  'name': 'HealthLog',\n  'path': '/vitals-tracking',\n  'component': HealthLog,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'Observations',\n  'to': '/observations',\n  'href': '/observations'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  ObservationsPage,\n  ObservationsTable,\n  ObservationDetail,\n  VitalMeasurements,\n\n  HealthLog\n};\n\n\n\n","import { Meteor } from 'meteor/meteor';\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nimport { VitalMeasurements } from './VitalMeasurements';\nimport { GlassCard, VerticalCanvas, DynamicSpacer } from 'meteor/clinical:glass-ui';\n\nimport PropTypes from 'prop-types';\n\nexport class Healthlog extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {},\n      state: {\n        isLoggedIn: false\n      }\n    };\n\n    if (Meteor.user()) {\n      data.state.isLoggedIn = true;\n    }\n\n    return data;\n  }\n\n  renderAuthenticatedUserControls(isLoggedIn) {\n\n    // user should be able to see the addPost component if they're logged in and looking at their\n    // own profile; otherwise,\n    if (isLoggedIn) {\n      if (!this.props.routeParams.userId) {\n        return (\n          <div>\n            <VitalMeasurements />\n          </div>\n        );\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"weblogPage\">\n        <VerticalCanvas>\n          { this.renderAuthenticatedUserControls(this.data.state.isLoggedIn) }\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\n\nHealthlog.propTypes = {\n  children: PropTypes.any\n};\nReactMixin(Healthlog.prototype, ReactMeteorData);\nexport default Healthlog;","import { CardActions, CardText } from 'material-ui/Card';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport DatePicker from 'material-ui/DatePicker';\nimport TextField from 'material-ui/TextField';\n\nimport { GlassCard, VerticalCanvas, Glass, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { Row, Col } from 'react-bootstrap';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport PropTypes from 'prop-types';\n\nimport { Meteor } from 'meteor/meteor';\n\nimport { get, set } from 'lodash';\n// import { setFlagsFromString } from 'v8';\n\n\n\nexport class ObservationDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      observationId: false,\n      observation: {\n        resourceType: 'Observation',\n        status: 'preliminary',\n        category: {\n          text: ''\n        },\n        effectiveDateTime: '',\n        subject: {\n          display: '',\n          reference: ''\n        },\n        performer: [],\n        device: {\n          display: '',\n          reference: ''\n        },\n        valueQuantity: {\n          value: '',\n          unit: '',\n          system: 'http://unitsofmeasure.org'\n        },\n        valueString: ''\n      },\n      form: {\n        category: '',\n        code: '',\n        value: '',\n        quantity: '',\n        unit: '',\n        deviceDisplay: '',\n        subjectDisplay: '',\n        subjectReference: '',\n        effectiveDateTime: '',\n        loincCode: '',\n        loincCodeText: '',\n        loincCodeDisplay: '',\n        status: ''\n      }\n    }\n  }\n  dehydrateFhirResource(observation) {\n    let formData = Object.assign({}, this.state.form);\n\n    formData.category = get(observation, 'type.text')\n    formData.code = get(observation, 'code.text')\n    formData.value = get(observation, 'valueString')\n    formData.comparator = get(observation, 'valueQuantity.comparator')\n    formData.quantity = get(observation, 'valueQuantity.value')\n    formData.unit = get(observation, 'valueQuantity.unit')\n    formData.deviceDisplay = get(observation, 'device.display')\n    formData.subjectDisplay = get(observation, 'subject.display')\n    formData.subjectReference = get(observation, 'subject.reference')\n    formData.effectiveDateTime = get(observation, 'effectiveDateTime')\n    formData.status = get(observation, 'status')\n\n    formData.loincCode = get(observation, 'code.codeable[0].code')\n    formData.loincCodeText = get(observation, 'code.text')\n    formData.loincCodeDisplay = get(observation, 'code.codeable[0].display')\n\n    return formData;\n  }\n  shouldComponentUpdate(nextProps){\n    process.env.NODE_ENV === \"test\" && console.log('ObservationDetail.shouldComponentUpdate()', nextProps, this.state)\n    let shouldUpdate = true;\n\n    // received an observation from the table; okay lets update again\n    if(nextProps.observationId !== this.state.observationId){\n\n      if(nextProps.observation){\n        this.setState({observation: nextProps.observation})     \n        this.setState({form: this.dehydrateFhirResource(nextProps.observation)})       \n      }\n\n      this.setState({observationId: nextProps.observationId})      \n      shouldUpdate = true;\n    }\n\n    // both false; don't take any more updates\n    if(nextProps.observation === this.state.observation){\n      shouldUpdate = false;\n    }\n    \n    return shouldUpdate;\n  }\n  getMeteorData() {\n    let data = {\n      observationId: this.props.observationId,\n      observation: false,\n      form: this.state.form,\n      displayDatePicker: false\n    };\n\n    if(this.props.displayDatePicker){\n      data.displayDatePicker = this.props.displayDatePicker\n    }\n    \n    if(this.props.observation){\n      data.observation = this.props.observation;\n      data.form = this.dehydrateFhirResource(this.props.observation);\n    }\n\n    //console.log(\"ObservationDetail[data]\", data);\n    return data;\n  }\n\n  renderDatePicker(displayDatePicker, effectiveDateTime){\n    console.log('renderDatePicker', displayDatePicker, effectiveDateTime)\n    if(typeof effectiveDateTime === \"string\"){\n      effectiveDateTime = moment(effectiveDateTime);\n    }\n    if (displayDatePicker) {\n      return (\n        <DatePicker \n          name='effectiveDateTime'\n          hintText={ this.setHint(\"Date of Administration\") } \n          container=\"inline\" \n          mode=\"landscape\"\n          value={ effectiveDateTime ? effectiveDateTime : null}    \n          onChange={ this.changeState.bind(this, 'effectiveDateTime')}      \n          fullWidth\n        />\n      );\n    }\n  }\n  setHint(text){\n    if(this.props.showHints !== false){\n      return text;\n    } else {\n      return '';\n    }\n  }\n  render() {\n    console.log('ObservationDetail.render()', this.state)\n    //let formData = this.state.form;\n\n    var patientInputs;\n    if(this.props.showPatientInputs !== false){\n      patientInputs = <Row>\n        <Col md={6}>\n          <TextField\n            id='subjectDisplayInput'                \n            name='subjectDisplay'\n            floatingLabelText='Subject Name'\n            // TimelineSidescrollPage dialog popup\n            // Getting the following when passing an observation in via props\n            // A component is changing a controlled input of type text to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. \n            value={ get(this, 'data.form.subjectDisplay') }\n            onChange={ this.changeState.bind(this, 'subjectDisplay')}\n            hintText={ this.setHint('Jane Doe') }\n            floatingLabelFixed={true}\n            fullWidth\n            /><br/>\n        </Col>\n        <Col md={3}>\n          <TextField\n            id='subjectIdInput'                \n            name='subjectReference'\n            floatingLabelText='Subject ID'\n            value={ get(this, 'data.form.subjectReference') }\n            onChange={ this.changeState.bind(this, 'subjectReference')}\n            hintText={ this.setHint('Patient/12345') }\n            floatingLabelFixed={true}\n            fullWidth\n            /><br/>\n        </Col>\n        <Col md={3}>\n          <TextField\n            id='categoryTextInput'                \n            name='category'\n            floatingLabelText='Category'\n            value={ get(this, 'data.form.category') }\n            onChange={ this.changeState.bind(this, 'category')}\n            hintText={ this.setHint('Vital Signs') }\n            floatingLabelFixed={true}\n            fullWidth\n            /><br/>\n        </Col>\n      </Row>\n    }\n\n    return (\n      <div id={this.props.id} className=\"observationDetail\">\n        <CardText>\n          { patientInputs }\n          <Row>\n          <Col md={6}>\n              <TextField\n                id='loincCodeTextInput'                \n                name='loincCodeText'\n                floatingLabelText='LOINC Code Text'\n                value={ get(this, 'data.form.loincCodeText') }\n                onChange={ this.changeState.bind(this, 'loincCodeText')}\n                hintText={ this.setHint('HbA1c') }\n                floatingLabelFixed={true}\n                value={ get(this, 'data.form.loincCodeText') }\n                onChange={ this.changeState.bind(this, 'loincCodeText')}\n                hintText={ this.setHint('HbA1c') }\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='loincCodeInput'                \n                name='loincCode'\n                floatingLabelText='LOINC Code'\n                value={ get(this, 'data.form.loincCode') }\n                onChange={ this.changeState.bind(this, 'loincCode')}\n                hintText={ this.setHint('4548-4') }\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={4}>\n              <TextField\n                id='loincDisplayInput'                \n                name='loincCodeText'\n                floatingLabelText='LOINC Display'\n                value={ get(this, 'data.form.loincCodeText') }\n                onChange={ this.changeState.bind(this, 'loincCodeText')}\n                hintText={ this.setHint('4548-4') }\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={2}>\n              <TextField\n                id='comparatorInput'                \n                name='valueQuantity.comparator'\n                floatingLabelText='Comparator'\n                hintText={ this.setHint('< | <= | >= | >') }\n                value={ get(this, 'data.form.comparator') }\n                onChange={ this.changeState.bind(this, 'comparator')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='valueQuantityInput'                \n                name='valueQuantity.value'\n                floatingLabelText='Quantity'\n                hintText={ this.setHint('70.0') }\n                value={ get(this, 'data.form.quantity') }\n                onChange={ this.changeState.bind(this, 'quantity')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='valueQuantityUnitInput'                \n                name='valueQuantity.unit'\n                floatingLabelText='Unit'\n                hintText={ this.setHint('kg') }\n                value={ get(this, 'data.form.unit') }\n                onChange={ this.changeState.bind(this, 'unit')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='valueStringInput'                \n                name='value'\n                floatingLabelText='Value'\n                hintText={ this.setHint('AB+; pos; neg') }\n                value={ get(this, 'data.form.value') }\n                onChange={ this.changeState.bind(this, 'value')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='statusInput'                \n                name='status'\n                floatingLabelText='Status'\n                value={ get(this, 'data.form.status') }\n                onChange={ this.changeState.bind(this, 'status')}\n                hintText={ this.setHint('preliminary | final') }\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={3}>\n              <TextField\n                id='deviceDisplayInput'                \n                name='deviceDisplay'\n                floatingLabelText='Device Name'\n                value={ get(this, 'data.form.deviceDisplay') }\n                onChange={ this.changeState.bind(this, 'deviceDisplay')}\n                hintText={ this.setHint('iHealth Blood Pressure Cuff') }\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='deviceReferenceInput'                \n                name='deviceReference'\n                floatingLabelText='Device Name'\n                // value={ get(this, 'data.form.deviceReference') }\n                // onChange={ this.changeState.bind(this, 'deviceReference')}\n                hintText={ this.setHint('Device/444') }\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <br />\n              { this.renderDatePicker(this.data.displayDatePicker, get(this, 'data.form.effectiveDateTime') ) }\n            </Col>\n\n          </Row>\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.observationId) }\n        </CardActions>\n      </div>\n    );\n  }\n  determineButtons(observationId) {\n    if (observationId) {\n      return (\n        <div>\n          <RaisedButton id=\"updateObservationButton\" label=\"Save\" className=\"saveObservationButton\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}}  />\n          <RaisedButton id=\"deleteObservationButton\" label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return (\n        <RaisedButton id=\"saveObservationButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n  updateFormData(formData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"ObservationDetail.updateFormData\", formData, field, textValue);\n\n    switch (field) {\n      case \"category\":\n        set(formData, 'category', textValue)\n        break;\n      case \"code\":\n        set(formData, 'code', textValue)\n        break;        \n      case \"value\":\n        set(formData, 'value', textValue)\n        break;        \n      case \"comparator\":\n        set(formData, 'comparator', textValue)\n        break;\n      case \"quantity\":\n        set(formData, 'quantity', textValue)\n        break;\n      case \"unit\":\n        set(formData, 'unit', textValue)\n        break;\n      case \"deviceDisplay\":\n        set(formData, 'deviceDisplay', textValue)\n        break;\n      case \"subjectDisplay\":\n        set(formData, 'subjectDisplay', textValue)\n        break;\n      case \"subjectReference\":\n        set(formData, 'subjectReference', textValue)\n        break;\n      case \"effectiveDateTime\":\n        set(formData, 'effectiveDateTime', textValue)\n        break;\n      case \"status\":\n        set(formData, 'status', textValue)\n        break;\n      case \"loincCode\":\n        set(formData, 'loincCode', textValue)\n        break;\n      case \"loincCodeText\":\n        set(formData, 'loincCodeText', textValue)\n        break;\n      case \"loincCodeDisplay\":\n        set(formData, 'loincCodeDisplay', textValue)\n        break;\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n    return formData;\n  }\n  updateObservation(observationData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"ObservationDetail.updateObservation\", observationData, field, textValue);\n\n    switch (field) {\n      case \"category\":\n        set(observationData, 'category.text', textValue)\n        break;\n      case \"code\":\n        set(observationData, 'code.text', textValue)\n        break;        \n      case \"value\":\n        set(observationData, 'valueString', textValue)\n        break;        \n      case \"comparator\":\n        set(observationData, 'valueQuantity.comparator', textValue)\n        break;        \n      case \"quantity\":\n        set(observationData, 'valueQuantity.value', textValue)\n        break;\n      case \"unit\":\n        set(observationData, 'valueQuantity.unit', textValue)\n        break;\n      case \"deviceDisplay\":\n        set(observationData, 'device.display', textValue)\n        break;\n      case \"subjectDisplay\":\n        set(observationData, 'subject.display', textValue)\n        break;\n      case \"subjectReference\":\n        set(observationData, 'subject.reference', textValue)\n        break;\n      case \"effectiveDateTime\":\n        set(observationData, 'effectiveDateTime', textValue)\n        break;    \n      case \"status\":\n        set(observationData, 'status', textValue)\n        break;    \n      case \"loincCode\":\n        set(observationData, 'code.coding[0].code', textValue)\n        break;\n      case \"loincCodeText\":\n        set(observationData, 'code.text', textValue)\n        break;\n      case \"loincCodeDisplay\":\n        set(observationData, 'code.coding[0].display', textValue)\n        break;\n    }\n    return observationData;\n  }\n\n  changeState(field, event, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"   \");\n    if(process.env.NODE_ENV === \"test\") console.log(\"ObservationDetail.changeState\", field, textValue);\n    if(process.env.NODE_ENV === \"test\") console.log(\"this.state\", this.state);\n\n    let formData = Object.assign({}, this.state.form);\n    let observationData = Object.assign({}, this.state.observation);\n\n    formData = this.updateFormData(formData, field, textValue);\n    observationData = this.updateObservation(observationData, field, textValue);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"observationData\", observationData);\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n\n    this.setState({observation: observationData})\n    this.setState({form: formData})\n  }\n\n\n  \n  // this could be a mixin\n  handleSaveButton() {\n    if(process.env.NODE_ENV === \"test\") console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&&')\n    console.log('Saving a new Observation...', this.state)\n\n    let self = this;\n    let fhirObservationData = Object.assign({}, this.state.observation);\n\n    if(process.env.NODE_ENV === \"test\") console.log('fhirObservationData', fhirObservationData);\n\n\n    let observationValidator = ObservationSchema.newContext();\n    observationValidator.validate(fhirObservationData)\n\n    console.log('IsValid: ', observationValidator.isValid())\n    console.log('ValidationErrors: ', observationValidator.validationErrors());\n\n    if (this.data.observationId) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating observation...\");\n      delete fhirObservationData._id;\n\n      Observations._collection.update({_id: this.data.observationId}, {$set: fhirObservationData },function(error, result){\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"Observations.insert[error]\", error);\n          console.log('error', error)\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          if(self.props.onUpdate){\n            self.props.onUpdate(self.data.observationId);\n          }\n          Bert.alert('Observation added!', 'success');\n        }\n      });\n    } else {\n      fhirObservationData.effectiveDateTime = new Date();\n      if (process.env.NODE_ENV === \"test\") console.log(\"create a new observation\", fhirObservationData);\n\n      Observations._collection.insert(fhirObservationData, function(error, result){\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"Observations.insert[error]\", error);\n          console.log('error', error)\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          if(self.props.onInsert){\n            self.props.onInsert(self.data.observationId);\n          }\n          Bert.alert('Observation added!', 'success');\n        }\n      });\n    }\n  }\n\n  // this could be a mixin\n  handleCancelButton() {\n    if(this.props.onCancel){\n      this.props.onCancel();\n    }\n  }\n\n  handleDeleteButton() {\n    console.log('Delete observation...', this.data.observationId)\n    let self = this;\n    Observations._collection.remove({_id: this.data.observationId}, function(error, result){\n      if (error) {\n        console.log('error', error)\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        if(this.props.onDelete){\n          this.props.onDelete(self.data.observationId);\n        }\n        Bert.alert('Observation deleted!', 'success');\n      }\n    })\n  }\n}\n\nObservationDetail.propTypes = {\n  id: PropTypes.string,\n  fhirVersion: PropTypes.string,\n  observationId: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  observation: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  showPatientInputs: PropTypes.bool,\n  showHints: PropTypes.bool,\n  onInsert: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func\n};\nReactMixin(ObservationDetail.prototype, ReactMeteorData);\nexport default ObservationDetail;","\nimport { CardText, CardTitle } from 'material-ui/Card';\nimport { Tab, Tabs } from 'material-ui/Tabs';\n\nimport { GlassCard, VerticalCanvas, FullPageCanvas, Glass, DynamicSpacer } from 'meteor/clinical:glass-ui';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nimport ObservationDetail from './ObservationDetail';\nimport ObservationsTable from './ObservationsTable';\n\nSession.setDefault('observationPageTabIndex', 1);\nSession.setDefault('observationSearchFilter', '');\nSession.setDefault('selectedObservationId', false);\nSession.setDefault('fhirVersion', 'v1.0.2');\n\nexport class ObservationsPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('observationPageTabIndex'),\n      observationSearchFilter: Session.get('observationSearchFilter'),\n      currentObservationId: Session.get('selectedObservationId'),\n      fhirVersion: Session.get('fhirVersion'),\n      selectedObservation: false\n    };\n\n    if (Session.get('selectedObservationId')){\n      data.selectedObservation = Observations.findOne({_id: Session.get('selectedObservationId')});\n    } else {\n      data.selectedObservation = false;\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ObservationsPage[data]\", data);\n    return data;\n  }\n\n  // this could be a mixin\n  handleTabChange(index){\n    Session.set('observationPageTabIndex', index);\n  }\n  handleActive(index){\n  }\n  // this could be a mixin\n  onNewTab(){\n    console.log(\"onNewTab; we should clear things...\");\n\n    Session.set('selectedObservationId', false);\n    // Session.set('observationDetailState', {\n    //   resourceType: 'Observation',\n    //   status: 'preliminary',\n    //   category: {\n    //     text: ''\n    //   },\n    //   effectiveDateTime: '',\n    //   subject: {\n    //     display: '',\n    //     reference: ''\n    //   },\n    //   performer: {\n    //     display: '',\n    //     reference: ''\n    //   },\n    //   device: {\n    //     display: '',\n    //     reference: ''\n    //   },\n    //   valueQuantity: {\n    //     value: '',\n    //     unit: '',\n    //     system: 'http://unitsofmeasure.org'\n    //   }\n    // });\n  }\n  onInsert(observationId){\n    Session.set('selectedObservationId', false);\n    Session.set('observationPageTabIndex', 1);\n    HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: observationId});\n  }\n  onUpdate(observationId){\n    Session.set('selectedObservationId', false);\n    Session.set('observationPageTabIndex', 1);\n    HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: observationId});\n  }\n  onRemove(observationId){\n    Session.set('observationPageTabIndex', 1);\n    Session.set('selectedObservationId', false);\n    HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: observationId});\n  }\n  onCancel(){\n    Session.set('observationPageTabIndex', 1);\n  }\n  render() {\n    return (\n      <div id=\"observationsPage\">\n        <VerticalCanvas>\n          <GlassCard height='auto'>\n            <CardTitle\n              title=\"Observations\"\n            />\n            <Tabs id=\"observationsPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n              <Tab className=\"newObservationTab\" label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0} >\n                <ObservationDetail \n                  id='newObservation' \n                  displayDatePicker={true} \n                  displayBarcodes={false}\n                  showHints={true}\n                  onInsert={ this.onInsert }\n                  observation={ this.data.selectedObservation }\n                  observationId={ this.data.currentObservationId } \n                  />\n              </Tab>\n              <Tab className=\"observationListTab\" label='Observations' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                <ObservationsTable \n                  displayBarcodes={false} \n                  multiline={false}\n                  showSubjects={false}\n                  showDevices={false}\n                  />\n              </Tab>\n              <Tab className=\"observationDetailsTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                <ObservationDetail \n                  id='observationDetails' \n                  displayDatePicker={true} \n                  displayBarcodes={false}\n                  observation={ this.data.selectedObservation }\n                  observationId={ this.data.currentObservationId } \n                  showPatientInputs={true}\n                  showHints={false}\n                  onInsert={ this.onInsert }\n                  onUpdate={ this.onUpdate }\n                  onRemove={ this.onRemove }\n                  onCancel={ this.onCancel }\n                  />\n              </Tab>\n            </Tabs>\n\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\n\n\nReactMixin(ObservationsPage.prototype, ReactMeteorData);\n\nexport default ObservationsPage;","import React from 'react';\nimport ReactMixin from 'react-mixin';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport PropTypes from 'prop-types';\n\nimport { Card, CardMedia, CardTitle, CardText, CardActions } from 'material-ui/Card';\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport { Table } from 'react-bootstrap';\n\nimport { GlassCard, VerticalCanvas, Glass, DynamicSpacer } from 'meteor/clinical:glass-ui';\nimport { get } from 'lodash';\n\nimport { FaTags, FaCode, FaPuzzlePiece, FaLock  } from 'react-icons/fa';\n\n\nflattenObservation = function(observation){\n  let result = {\n    _id: '',\n    meta: '',\n    category: '',\n    code: '',\n    valueString: '',\n    value: '',\n    observationValue: '',\n    subject: '',\n    subjectId: '',\n    status: '',\n    device: '',\n    createdBy: '',\n    effectiveDateTime: '',\n    issued: '',\n    unit: ''\n  };\n\n  result._id =  get(observation, 'id') ? get(observation, 'id') : get(observation, '_id');\n  result.category = get(observation, 'category.text', '');\n  result.code = get(observation, 'code.text', '');\n  result.valueString = get(observation, 'valueString', '');\n  result.comparator = get(observation, 'valueQuantity.comparator', '');\n  result.observationValue = get(observation, 'valueQuantity.value', '');\n  result.unit = get(observation, 'valueQuantity.unit', '');\n  result.subject = get(observation, 'subject.display', '');\n  result.subjectId = get(observation, 'subject.reference', '');\n  result.device = get(observation, 'device.display', '');\n  result.status = get(observation, 'status', '');\n  \n  if(get(observation, 'effectiveDateTime')){\n    result.effectiveDateTime =  moment(get(observation, 'effectiveDateTime')).format(\"YYYY-MM-DD hh a\");\n  }\n  if(get(observation, 'issued')){\n    result.effectiveDateTime =  moment(get(observation, 'issued')).format(\"YYYY-MM-DD hh a\");    \n  }\n\n\n\n  result.meta = get(observation, 'category.text', '');\n\n  if(result.valueString.length > 0){\n    result.value = result.valueString;\n  } else {\n    result.value = result.comparator + ' ' + result.observationValue + ' ' + result.unit;\n  }\n\n\n\n\n  return result;\n}\n\n\n\n// db.inventory.find( { item: { $not: /^p.*/ } } )  \n\n\n\nexport class ObservationsTable extends React.Component {\n\n  getMeteorData() {\n\n    // this should all be handled by props\n    // or a mixin!\n    let data = {\n      style: {\n        text: Glass.darkroom()\n      },\n      selected: [],\n      observations: []\n    };\n\n\n    if(this.props.data){\n      console.log('this.props.data', this.props.data);\n\n      if(this.props.data.length > 0){              \n        this.props.data.forEach(function(observation){\n          data.observations.push(flattenObservation(observation));\n        });  \n      }\n    } else {\n      let query = {};\n      if(this.props.query){\n        query = this.props.query\n      }\n\n      data.observations = Observations.find(query).map(function(observation){\n        return flattenObservation(observation);\n      });\n    }\n\n\n    // this could be another mixin\n    if (Session.get('glassBlurEnabled')) {\n      data.style.filter = \"blur(3px)\";\n      data.style.WebkitFilter = \"blur(3px)\";\n    }\n\n    // this could be another mixin\n    if (Session.get('backgroundBlurEnabled')) {\n      data.style.backdropFilter = \"blur(5px)\";\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ObservationsTable[data]\", data);\n    return data;\n  }\n  handleChange(row, key, value) {\n    const source = this.state.source;\n    source[row][key] = value;\n    this.setState({source});\n  }\n  displayOnMobile(width){\n    let style = {};\n    if(['iPhone'].includes(window.navigator.platform)){\n      style.display = \"none\";\n    }\n    if(width){\n      style.width = width;\n    }\n    return style;\n  }\n  handleSelect(selected) {\n    this.setState({selected});\n  }\n  getDate(){\n    return \"YYYY/MM/DD\";\n  }\n  noChange(){\n    return \"\";\n  }\n  rowClick(id){\n    Session.set(\"selectedObservationId\", id);\n    Session.set('observationPageTabIndex', 2);\n    Session.set('observationDetailState', false);\n  }\n  renderBarcode(id){\n    if (this.props.displayBarcodes) {\n      return (\n        <td><span className=\"barcode\">{id}</span></td>\n      );\n    }\n  }\n  renderBarcodeHeader(){\n    if (this.props.displayBarcodes) {\n      return (\n        <th>_id</th>\n      );\n    }\n  }\n  renderSubject(id){\n    if (this.props.showSubjects) {\n      return (\n        <td className='name'>{ id }</td>\n      );\n    }\n  }\n  renderSubjectHeader(){\n    if (this.props.showSubjects) {\n      return (\n        <th className='name'>subject</th>\n      );\n    }\n  }\n  renderDevice(device){\n    if (this.props.showDevices) {\n      return (\n        <td className='device.display'>{device }</td>\n      );\n    }\n  }\n  renderDeviceHeader(){\n    if (this.props.showDevices) {\n      return (\n        <th className='device.display'>device</th>\n      );\n    }\n  }\n\n  renderValue(valueString){\n    if (this.props.showvalueString) {\n      return (\n        <td className='value'>{ valueString }</td>\n      );\n    }\n  }\n  renderValueHeader(){\n    if (this.props.showValueString) {\n      return (\n        <th className='value'>Value</th>\n      );\n    }\n  }\n\n  renderCodeHeader(){\n    if (this.props.multiline === false) {\n      return (\n        <th className='code'>Code</th>\n      );\n    }\n  }\n\n  renderCategoryHeader(){\n    if (this.props.multiline === false) {\n      return (\n        <th className='category'>Category</th>\n      );\n    }\n  }\n\n\n  renderValueString(valueString){\n    if (this.props.showValueString) {\n      return (\n        <td className='value'>{ valueString }</td>\n      );\n    }\n  }\n  renderValueStringHeader(){\n    if (this.props.showValueString) {\n      return (\n        <th className='value'>Value</th>\n      );\n    }\n  }\n  renderComparator(comparator){\n    if (this.props.showComparator) {\n      return (\n        <td className='comparator'>{ comparator }</td>\n      );\n    }\n  }\n  renderComparatorHeader(){\n    if (this.props.showComparator) {\n      return (\n        <th className='comparator'>Comparator</th>\n        );\n    }\n  }\n  \n  render () {\n    let tableRows = [];\n    for (var i = 0; i < this.data.observations.length; i++) {\n      if(this.props.multiline){\n        tableRows.push(\n          <tr className=\"observationRow\" key={i} style={this.data.style.text} onClick={ this.rowClick.bind(this, this.data.observations[i]._id)} >\n            <td className='meta' style={ this.displayOnMobile('100px')} >\n              <FaLock style={{marginLeft: '2px', marginRight: '2px'}} />\n              <FaTags style={{marginLeft: '2px', marginRight: '2px'}} />\n              <FaCode style={{marginLeft: '2px', marginRight: '2px'}} />\n              <FaPuzzlePiece style={{marginLeft: '2px', marginRight: '2px'}} />\n            </td>\n            {/* <td className='category'>{this.data.observations[i].category }</td> */}\n            <td className='code'>\n              <b>{this.data.observations[i].code }</b> <br />\n              {this.data.observations[i].value }\n              </td>\n            {/* {this.renderComparator(this.data.observations[i].comparator)}\n            {this.renderValueString(this.data.observations[i].observationValue)} */}\n            {this.renderValue(this.data.observations[i].observationValue)}\n            {/* <td className='unit'>{this.data.observations[i].unit }</td> */}\n            {this.renderSubject(this.data.observations[i].subject)}\n            <td className='status' style={ this.displayOnMobile()} >{this.data.observations[i].status }</td>\n            {this.renderDevice(this.data.observations[i].device)}\n            <td className='date' style={{minWidth: '140px'}}>{this.data.observations[i].effectiveDateTime }</td>\n            {this.renderBarcode(this.data.observations[i]._id)}\n          </tr>\n        );    \n\n      } else {\n        tableRows.push(\n          <tr className=\"observationRow\" key={i} style={this.data.style.text} onClick={ this.rowClick.bind(this, this.data.observations[i]._id)} >\n  \n            {/* <td className='meta' style={ this.displayOnMobile('100px')} >\n              <FaLock style={{marginLeft: '2px', marginRight: '2px'}} />\n              <FaTags style={{marginLeft: '2px', marginRight: '2px'}} />\n              <FaCode style={{marginLeft: '2px', marginRight: '2px'}} />\n              <FaPuzzlePiece style={{marginLeft: '2px', marginRight: '2px'}} />\n            </td> */}\n            <td className='category'>{this.data.observations[i].category }</td>\n            <td className='code'>{this.data.observations[i].code }</td>\n            {/* {this.renderComparator(this.data.observations[i].comparator)}\n            {this.renderValueString(this.data.observations[i].observationValue)} */}\n            {this.renderValue(this.data.observations[i].observationValue)}\n            {/* <td className='unit'>{this.data.observations[i].unit }</td> */}\n            {this.renderSubject(this.data.observations[i].subject)}\n            <td className='status' style={ this.displayOnMobile()} >{this.data.observations[i].status }</td>\n            {this.renderDevice(this.data.observations[i].device)}\n            <td className='date' style={{minWidth: '140px'}}>{this.data.observations[i].effectiveDateTime }</td>\n            {this.renderBarcode(this.data.observations[i]._id)}\n          </tr>\n        );    \n      }\n    }\n\n\n    return(\n      <CardText>\n        <Table id=\"observationsTable\" hover >\n          <thead>\n            <tr>\n              {/* <th className='meta' style={ this.displayOnMobile('100px')}>Meta</th> */}\n              {/* <th className='category'>Category</th>\n              <th className='code'>Code</th> */}\n              {this.renderCategoryHeader() }\n              {this.renderCodeHeader() }\n              {/* {this.renderComparatorHeader() }\n              {this.renderValueStringHeader() } */}\n              {this.renderValueHeader() }\n              {/* <th className='unit'>Unit</th> */}\n              {this.renderSubjectHeader() }\n              <th className='status' style={ this.displayOnMobile()} >Status</th>\n              {this.renderDeviceHeader() }\n              <th className='date' style={{minWidth: '140px'}}>Date</th>\n              {this.renderBarcodeHeader() }\n            </tr>\n          </thead>\n          <tbody>\n            { tableRows }\n          </tbody>\n        </Table>\n      </CardText>\n    );\n  }\n}\n\nObservationsTable.propTypes = {\n  barcodes: PropTypes.bool,\n  data: PropTypes.array,\n  query: PropTypes.object,\n  paginationLimit: PropTypes.number,\n  showSubjects: PropTypes.bool,\n  showDevices: PropTypes.bool,\n  showValueString: PropTypes.bool,\n  showComparator: PropTypes.bool,\n  multiline: PropTypes.bool\n};\n\nReactMixin(ObservationsTable.prototype, ReactMeteorData);\nexport default ObservationsTable; ","import React from 'react';\nimport ReactMixin from 'react-mixin';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\n\nimport { CardTitle, CardText, TextField, RaisedButton } from 'material-ui';\n\nimport { GlassCard, Glass } from 'meteor/clinical:glass-ui';\nimport { Meteor } from 'meteor/meteor';\n\nimport { Grid, Row, Col, ListGroupItem, FormControl, Button } from 'react-bootstrap';\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\n\nimport { IoIosHeartEmpty } from 'react-icons/io';\nimport { IoMdPulse} from 'react-icons/io';\nimport { FiThermometer } from 'react-icons/fi';\nimport { FaStethoscope } from 'react-icons/fa';\n\nimport { Tab, Tabs } from 'material-ui/Tabs';\n\nvar FontAwesome = require('react-fontawesome');\n\nSession.setDefault('healthLogTabIndex', 0);\nSession.setDefault('vitalsForm', {\n  pulse: '',\n  temperature: '',\n  respiration: '',\n  bloodPressure: '',\n  notes: ''\n});\nexport class VitalMeasurements extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: '1px solid white',\n          borderTop: '1px solid white',\n          borderLeft: '1px solid white'\n        }\n      },\n      tabIndex: Session.get('healthLogTabIndex'),\n      state: {\n        pulse: '',\n        temperature: '',\n        respiration: '',\n        bloodPressure: '',\n        notes: ''\n      }\n    };\n\n    if (Session.get('vitalsForm')) {\n      data.state = Session.get('vitalsForm');\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    return data;\n  }\n  handleTabChange(index){\n    Session.set('healthLogTabIndex', index);\n  }\n  onActive(){\n\n  }\n  onNewTab(){\n\n  }\n  render(){\n      var spoonCounter;\n\n      if(get(Meteor, 'settings.public.vitals.showSpoonCounter')){\n          spoonCounter = <TextField\n            id='temperatureInput'\n            ref='temperature'\n            name='temperature'\n            floatingLabelText=\"Spoons\"\n            floatingLabelFixed={true}\n            onChange={this.changePost.bind(this, 'temperature')}\n            fullWidth\n            >\n            <div style={{paddingTop: '25px'}}>\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px', color: 'lightgray'}} />\n                <FontAwesome name=\"spoon\" style={{fontSize: '150%', marginRight: '10px', color: 'lightgray'}} />\n            </div>\n        </TextField>\n      }\n    return (\n      <GlassCard id=\"addPostCard\">\n        <CardText>\n        <Tabs id=\"observationsPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={0}>\n              <Tab className=\"vitalsTab\" label='Vitals' style={this.data.style.tab} value={0} >\n                <Row style={{minHeight: '200px'}}>\n                  <Col md={3}>\n                    <IoMdPulse style={{position: 'absolute', top: '40px' }} />\n                    <TextField\n                      id='puleInput'\n                      ref='pulse'\n                      name='pulse'\n                      floatingLabelText=\"Pulse\"\n                      value={this.data.state.pulse}\n                      hintText='60'\n                      onChange={this.changePost.bind(this, 'pulse')}\n                      floatingLabelStyle={{marginLeft: '20px'}}\n                      inputStyle={{marginLeft: '20px'}}\n                      hintStyle={{marginLeft: '20px'}}\n                      fullWidth\n                      /><br/>\n                  </Col>\n                  <Col md={3}>\n                    <FiThermometer style={{position: 'absolute', top: '40px' }} />\n                    <TextField\n                      id='temperatureInput'\n                      name='temperature'\n                      floatingLabelText=\"Temperature\"\n                      hintText='98.6'\n                      value={this.data.state.temperature}\n                      onChange={this.changePost.bind(this, 'temperature')}\n                      floatingLabelStyle={{marginLeft: '20px'}}\n                      inputStyle={{marginLeft: '20px'}}\n                      hintStyle={{marginLeft: '20px'}}\n                      fullWidth\n                      /><br/>\n                  </Col>\n                  <Col md={3}>\n                    <FaStethoscope style={{position: 'absolute', top: '40px' }} />\n                    <TextField\n                      id='respirationRate'\n                      name='respiration'\n                      hintText='15'\n                      floatingLabelText=\"Respiration\"\n                      value={this.data.state.respiration}\n                      onChange={this.changePost.bind(this, 'respiration')}\n                      floatingLabelStyle={{marginLeft: '20px'}}\n                      inputStyle={{marginLeft: '20px'}}\n                      hintStyle={{marginLeft: '20px'}}\n                      fullWidth\n                      /><br/>\n                  </Col>\n                  <Col md={3}>\n                    <IoIosHeartEmpty style={{position: 'absolute', top: '40px' }} />\n                    <TextField\n                      id='bloodPressureInput'\n                      name='bloodPressure'\n                      floatingLabelText=\"Blood Pressure\"\n                      hintText='120 / 80'\n                      value={this.data.state.bloodPressure}\n                      onChange={this.changePost.bind(this, 'bloodPressure')}\n                      floatingLabelStyle={{marginLeft: '20px'}}\n                      inputStyle={{marginLeft: '20px'}}\n                      hintStyle={{marginLeft: '20px'}}\n                      fullWidth\n                      /><br/>\n                  </Col>\n                </Row>\n              </Tab>\n              <Tab className=\"noteTab\" label='Notes' style={this.data.style.tab} value={1}>\n                <Row style={{minHeight: '200px'}} >\n                  <CardText>\n                    <TextField\n                      id='notesInput'\n                      ref='notesContent'\n                      name='notesContent'\n                      floatingLabelText=\"New clinical impression...\"\n                      value={this.data.state.notes}\n                      onChange={this.changePost.bind(this, 'notes')}\n                      multiLine={true}\n                      rows={4}\n                      floatingLabelFixed={true}\n                      fullWidth\n                      /><br/>\n                  </CardText>\n                </Row>\n              </Tab>\n              <Tab className=\"biomarkersTab\" label='Biomarkers' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                <Row style={{minHeight: '200px'}} >\n                </Row>\n              </Tab>\n              <Tab className=\"medicationsTab\" label='Medications' onActive={this.handleActive} style={this.data.style.tab} value={3}>\n                <Row style={{minHeight: '200px'}} >\n                </Row>\n              </Tab>\n            </Tabs>\n\n          <RaisedButton id=\"addObservationButton\" onMouseUp={ this.handleInsertObservations.bind(this) } primary={true} label='New Observation' />\n        </CardText>\n      </GlassCard>\n    );\n  }\n  handleInsertObservations(){\n\n    console.log('handleInsertObservations', this.data.state)\n\n    let defaultObservation = {\n      meta: {\n        lastUpdated: new Date()\n      },\n      status: 'preliminary',\n      category: {\n        text: ''\n      },\n      effectiveDateTime: new Date(),\n      subject: {\n        display: Meteor.user().fullName(),\n        reference: Meteor.userId()\n      },\n      performer: [{\n        display: Meteor.user().fullName(),\n        reference: Meteor.userId()\n      }],\n      device: {\n        display: 'Web App',\n        reference: 'WebApp'\n      },\n      valueQuantity: {\n        value: '',\n        unit: '',\n        system: 'http://unitsofmeasure.org'\n      },\n      valueString: ''\n    };\n\n\n\n    //---------------------------------------------------------------\n    // PULSE\n\n    var pulseObservation = defaultObservation;\n    pulseObservation.category = {\n      text: 'Pulse'\n    };\n    pulseObservation.valueQuantity.unit = 'bmp';\n    pulseObservation.valueQuantity.value = this.data.state.pulse;\n    \n    if(process.env.NODE_ENV === \"test\"){\n      console.log('pulseObservation', pulseObservation)\n    }\n    Observations._collection.insert(pulseObservation, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log(\"Observations.insert[error]\", error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        //HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: result});\n        Bert.alert('Observation added!', 'success');\n      }\n    });\n\n    //---------------------------------------------------------------\n    // RESPIRATION\n\n    var respirationObservation = defaultObservation;\n    respirationObservation.category = {\n      text: 'Respiration'\n    };\n    respirationObservation.valueQuantity.unit = 'bmp';\n    respirationObservation.valueQuantity.value = this.data.state.respiration;\n    \n      if(process.env.NODE_ENV === \"test\"){\n        console.log('respirationObservation', respirationObservation)\n      }\n      Observations._collection.insert(respirationObservation, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log(\"Observations.insert[error]\", error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        //HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: result});\n        Bert.alert('Observation added!', 'success');\n      }\n    });    \n\n\n    //---------------------------------------------------------------\n    // RESPIRATION\n\n    var temperatureObservation = defaultObservation;\n    temperatureObservation.category = {\n      text: 'Temperature'\n    };\n    temperatureObservation.valueQuantity.unit = 'F';\n    temperatureObservation.valueQuantity.value = this.data.state.temperature;\n    \n    if(process.env.NODE_ENV === \"test\"){\n        console.log('temperatureObservation', temperatureObservation)\n    }\n\n    Observations._collection.insert(temperatureObservation, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log(\"Observations.insert[error]\", error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        //HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: result});\n        Bert.alert('Observation added!', 'success');\n      }\n    }); \n\n\n    //---------------------------------------------------------------\n    // BLOOD PRESSURE\n\n    var bloodPressureObservation = defaultObservation;\n\n    bloodPressureObservation.category = {\n      text: 'Blood Pressure'\n    };\n    bloodPressureObservation.valueString = this.data.state.bloodPressure + ' mmHg';    \n    temperatureObservation.valueQuantity = null;\n    \n    if(process.env.NODE_ENV === \"test\"){\n        console.log('bloodPressureObservation', bloodPressureObservation)\n    }\n\n    Observations._collection.insert(bloodPressureObservation, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log(\"Observations.insert[error]\", error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        //HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Observations\", recordId: result});\n        Bert.alert('Observation added!', 'success');\n      }\n    });\n\n    browserHistory.push('/observations');\n  }\n\n\n\n\n  changePost(field, event, value){\n    var vitalsForm = Session.get('vitalsForm');\n    vitalsForm[field] = value;\n    Session.set('vitalsForm', vitalsForm);\n  }\n}\n\n\n\nReactMixin(VitalMeasurements.prototype, ReactMeteorData);\nexport default VitalMeasurements;"]}