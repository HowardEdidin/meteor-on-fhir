{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-claim/lib/Claims.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-claim/lib/methods.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-claim/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-claim/client/ClaimDetail.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-claim/client/ClaimsPage.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-claim/client/ClaimsTable.jsx"],"names":["module","export","Claim","Claims","ClaimSchema","BaseModel","link","v","Mongo","SimpleSchema","BaseSchema","DomainResourceSchema","HumanNameSchema","IdentifierSchema","ContactPointSchema","AddressSchema","MoneySchema","Package","console","log","extend","prototype","_collection","Collection","connection","_transform","document","type","String","defaultValue","optional","Array","CodeableConceptSchema","ReferenceSchema","PeriodSchema","Date","CodeableConcept","Object","Number","Boolean","QuantitySchema","AttachmentSchema","attachSchema","toFhir","EJSON","stringify","name","findUserId","userId","process","env","TRACE","find","findOneUserId","findOne","findMrn","fetchBundle","query","parameters","callback","patientArray","map","patient","id","_id","_document","result","Bundle","generate","toMongo","originalClaim","mongoRecord","identifier","forEach","period","start","startArray","split","end","endArray","prepForUpdate","resourceType","telecom","address","contact","prepForFhirTransfer","birthDate","moment","format","displayName","text","extension","url","valueString","removeProtectedInfo","options","anonymizedName","family","given","push","anonymize","Anon","secretGiven","anonName","i","length","phone","ssn","Random","faker","Meteor","methods","number","newClaim","index","reference","display","findName","call","check","insert","remove","AdminSidebarElements","DynamicRoutes","ClaimsPage","ClaimsTable","ClaimDetail","CardActions","CardText","DatePicker","Toggle","RaisedButton","TextField","get","has","set","Row","Col","React","ReactMeteorData","ReactMixin","PropTypes","Session","styles","block","maxWidth","toggle","marginTop","thumbOff","backgroundColor","trackOff","thumbSwitched","trackSwitched","labelStyle","color","props","state","claimId","claim","created","diagnosis","insurance","insurer","provider","unitprice","form","dehydrateFhirResource","formData","assign","toString","shouldComponentUpdate","nextProps","NODE_ENV","shouldUpdate","setState","getMeteorData","data","displayBirthdate","render","changeState","bind","determineButtons","renderDatePicker","displayDatePicker","javascriptDate","momentDate","toDate","handleSaveButton","marginRight","handleDeleteButton","updateFormData","field","textValue","updateClaim","claimData","event","self","fhirClaimData","claimValidator","newContext","validate","isValid","update","$set","error","Bert","alert","reason","HipaaLogger","logEvent","eventType","userName","user","fullName","collectionName","recordId","handleCancelButton","animalremove","Component","propTypes","string","fhirVersion","oneOfType","bool","object","exportDefault","CardTitle","Tab","Tabs","Glass","GlassCard","VerticalCanvas","FullPageCanvas","defaultClaim","username","email","gender","setDefault","style","opacity","tab","borderBottom","borderRight","tabIndex","claimSearchFilter","selectedClaimId","selectedClaim","blur","appbar","darkroom","handleTabChange","onNewTab","version","handleActive","Avatar","FlatButton","HTTP","Table","TableNoData","flattenClaim","itemcount","hideOnPhone","visibility","cellHideOnPhone","paddingTop","cell","avatar","userSelect","borderRadius","height","width","selected","claims","limit","imgError","avatarId","refs","src","absoluteUrl","rowClick","renderRowAvatarHeader","showAvatars","renderRowAvatar","avatarStyle","photo","renderSpeciesHeader","displaySpecies","renderSpeciesRow","species","renderSendButtonHeader","showSendButton","renderSendButton","onSend","httpEndpoint","post","selectClaimRow","onRowClick","tableRows","footer","noDataMessagePadding","cursor","minWidth"],"mappings":"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","file":"/packages/clinical_hl7-resource-claim.js","sourcesContent":["if(Package['clinical:autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  Your app has the 'clinical-autopublish' package installed.\");\n  console.log(\"Any protected health information (PHI) stored in this app should be audited.\"); \n  console.log(\"Please consider writing secure publish/subscribe functions and uninstalling.\");  \n  console.log(\"\");  \n  console.log(\"meteor remove clinical:autopublish\");  \n  console.log(\"\");  \n}\nif(Package['autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  DO NOT STORE PROTECTED HEALTH INFORMATION IN THIS APP. \");  \n  console.log(\"Your application has the 'autopublish' package installed.  Please uninstall.\");\n  console.log(\"\");  \n  console.log(\"meteor remove autopublish\");  \n  console.log(\"meteor add clinical:autopublish\");  \n  console.log(\"\");  \n}\n\n\nimport { BaseModel } from 'meteor/clinical:base-model';\nimport { Mongo } from 'meteor/mongo';\nimport SimpleSchema from 'simpl-schema';\nimport { BaseSchema, DomainResourceSchema, HumanNameSchema, IdentifierSchema, ContactPointSchema, AddressSchema, MoneySchema } from 'meteor/clinical:hl7-resource-datatypes';\n\n\n\n// create the object using our BaseModel\nClaim = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nClaim.prototype._collection = Claims;\n\n\n// // Create a persistent data store for addresses to be stored.\n// // HL7.Resources.Claims = new Mongo.Collection('HL7.Resources.Claims');\n\nif(typeof Claims === 'undefined'){\n  if(Package['clinical:autopublish']){\n    Claims = new Mongo.Collection('Claims');\n  } else if(Package['clinical:desktop-publish']){\n    Claims = new Mongo.Collection('Claims');\n  } else {\n    Claims = new Mongo.Collection('Claims', {connection: null});\n  }\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nClaims._transform = function (document) {\n  return new Claim(document);\n};\n\n\nClaimSchema = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Claim\"\n    },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    }, \n  \"status\" : {\n    optional: true,\n    type:  String\n    }, \n  \"type\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"subType\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"use\" : {\n    optional: true,\n    type:  String\n    }, \n  \"patient\" : {\n    optional: true,\n    type: ReferenceSchema\n    }, \n  \"billablePeriod\" : {\n    optional: true,\n    type: PeriodSchema\n    }, \n  \"created\" : {\n    optional: true,\n    type:  Date\n    }, \n  \"enterer\" : {\n    optional: true,\n    type: ReferenceSchema\n    }, \n  \"insurer\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"provider\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"priority\" : {\n    optional: true,\n    type:  CodeableConcept\n    }, \n  \"fundsReserve\" : {\n    optional: true,\n    type:  CodeableConcept\n    }, \n  \"related\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"related.$\" : {\n    optional: true,\n    type:  Object \n    }, \n  \"related.$.claim\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"related.$.relationship\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"related.$.reference\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"prescription\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"originalPrescription\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"payee\" : {\n    optional: true,\n    type:  Object \n    }, \n  \"payee.type\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"payee.party\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"referral\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"facility\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"careTeam\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"careTeam.$\" : {\n    optional: true,\n    type:  Object\n    }, \n  \"careTeam.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"careTeam.$.provider\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"careTeam.$.responsible\" : {\n    optional: true,\n    type:  Boolean\n    }, \n  \"careTeam.$.role\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"careTeam.$.qualification\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n  \n  \"supportingInfo\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"supportingInfo.$\" : {\n    optional: true,\n    type:  Object\n    },         \n  \"supportingInfo.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"supportingInfo.$.category\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"supportingInfo.$.code\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"supportingInfo.$.timingDate\" : {\n    optional: true,\n    type:  Date\n    },\n  \"supportingInfo.$.timingPeriod\" : {\n    optional: true,\n    type:  PeriodSchema\n    }, \n  \"supportingInfo.$.valueBoolean\" : {\n    optional: true,\n    type:  Boolean\n    },\n  \"supportingInfo.$.valueString\" : {\n    optional: true,\n    type:  String\n    },\n  \"supportingInfo.$.valueQuantity\" : {\n    optional: true,\n    type:  QuantitySchema \n    },\n  \"supportingInfo.$.valueAttachment\" : {\n    optional: true,\n    type:  AttachmentSchema \n    },\n  \"supportingInfo.$.valueReference\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"supportingInfo.$.reason\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n\n  \"diagnosis\" : {\n    optional: true,\n    type:  Array\n    },\n  \"diagnosis.$\" : {\n    optional: true,\n    type:  Object\n    },      \n  \"diagnosis.$.sequence\" : {\n    optional: true,\n    type:  Number\n    },\n  \"diagnosis.$.diagnosisCodeableConcept\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n  \"diagnosis.$.diagnosisReference\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"diagnosis.$.type\" : {\n    optional: true,\n    type: Array\n    }, \n  \"diagnosis.$.type.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"diagnosis.$.onAdmission\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"diagnosis.$.packageCode\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n\n\n  \"procedure\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"procedure.$\" : {\n    optional: true,\n    type:  Object\n    }, \n  \"procedure.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"procedure.$.type\" : {\n    optional: true,\n    type: Array\n    }, \n  \"procedure.$.type.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"procedure.$.date\" : {\n    optional: true,\n    type:  Date, \n    },  \n  \"procedure.$.procedureCodeableConcept\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n  \"procedure.$.procedureReference\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"procedure.$.udi\" : {\n    optional: true,\n    type: Array\n    },\n  \"procedure.$.udi.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n\n\n\n  \"insurance\" : {\n    optional: true,\n    type:  Array\n    }, \n\n  \"insurance.$\" : {\n    optional: true,\n    type:  Object\n    }, \n  \"insurance.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"insurance.$.focal\" : {\n    optional: true,\n    type:  Boolean\n    }, \n  \"insurance.$.identifier\" : {\n    optional: true,\n    type:  IdentifierSchema \n    }, \n  \"insurance.$.coverage\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"insurance.$.businessArrangement\" : {\n    optional: true,\n    type:  String\n    }, \n  \"insurance.$.preAuthRef\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"insurance.$.preAuthRef.$\" : {\n    optional: true,\n    type:  String\n    }, \n  \"insurance.$.claimResponse\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n    \n  \"accident\" : {\n    optional: true,\n    type:  Object\n    }, \n  \"accident.date\" : {\n    optional: true,\n    type:  Date\n    }, \n  \"accident.type\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"accident.locationAddress\" : {\n    optional: true,\n    type: AddressSchema \n    },\n  \"accident.locationReference\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n\n\n  \"item\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$\" : {\n    optional: true,\n    type:  Object\n    }, \n  \"item.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.careTeamSequence\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.careTeamSequence.$\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.diagnosisSequence\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.diagnosisSequence.$\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.procedureSequence\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.procedureSequence.$\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.informationSequence\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.informationSequence.$\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.revenue\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.category\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.productOrService\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.modifier\" : {\n    optional: true,\n    type: Array\n    }, \n  \"item.$.modifier.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.programCode\" : {\n    optional: true,\n    type: Array\n    }, \n  \"item.$.programCode.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.servicedDate\" : {\n    optional: true,\n    type:  Date\n    },\n  \"item.$.servicedPeriod\" : {\n    optional: true,\n    type:  PeriodSchema \n    },\n  \"item.$.locationCodeableConcept\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n  \"item.$.locationAddress\" : {\n    optional: true,\n    type:  AddressSchema \n    },\n  \"item.$.locationReference\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"item.$.quantity\" : {\n    optional: true,\n    type:  QuantitySchema\n    }, \n  \"item.$.unitPrice\" : {\n    optional: true,\n    type:  MoneySchema \n    }, \n  \"item.$.factor\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.net\" : {\n    optional: true,\n    type:  MoneySchema\n    }, \n  \"item.$.udi\" : {\n    optional: true,\n    type: Array\n    }, \n  \"item.$.udi.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"item.$.bodySite\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.subSite\" : {\n    optional: true,\n    type: Array\n    }, \n  \"item.$.subSite.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.encounter\" : {\n    optional: true,\n    type: Array\n    }, \n  \"item.$.encounter.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n\n  \"item.$.detail\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$\" : {\n    optional: true,\n    type:  Object\n    },       \n  \"item.$.detail.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.detail.$.revenue\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.category\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.productOrService\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.modifier\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.modifier.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.detail.$.programCode\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.programCode.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.detail.$.quantity\" : {\n    optional: true,\n    type:  QuantitySchema\n    }, \n  \"item.$.detail.$.unitPrice\" : {\n    optional: true,\n    type:  MoneySchema\n    }, \n  \"item.$.detail.$.factor\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.detail.$.net\" : {\n    optional: true,\n    type:  MoneySchema\n    }, \n  \"item.$.detail.$.udi\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.udi.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n\n    \"item.$.detail.$.subDetail\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.subDetail.$\" : {\n    optional: true,\n    type:  Object\n    },       \n  \"item.$.detail.$.subDetail.$.sequence\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.detail.$.subDetail.$.revenue\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.subDetail.$.category\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.subDetail.$.productOrService\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.subDetail.$.modifier\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.subDetail.$.modifier.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    }, \n  \"item.$.detail.$.subDetail.$.programCode\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.subDetail.$.programCode.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema\n    }, \n  \"item.$.detail.$.subDetail.$.quantity\" : {\n    optional: true,\n    type:  QuantitySchema \n    }, \n  \"item.$.detail.$.subDetail.$.unitPrice\" : {\n    optional: true,\n    type:  MoneySchema\n    }, \n  \"item.$.detail.$.subDetail.$.factor\" : {\n    optional: true,\n    type:  Number\n    }, \n  \"item.$.detail.$.subDetail.$.net\" : {\n    optional: true,\n    type:  MoneySchema\n    }, \n  \"item.$.detail.$.subDetail.$.udi\" : {\n    optional: true,\n    type:  Array\n    }, \n  \"item.$.detail.$.subDetail.$.udi.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    }, \n  \"total\" : {\n    optional: true,\n    type:  MoneySchema \n    }\n});\n\n\n\n\n\n\n\n\n// BaseSchema.extend(ClaimSchema);\n// DomainResourceSchema.extend(ClaimSchema);\n\nClaims.attachSchema(ClaimSchema);\n\n\nClaim.prototype.toFhir = function(){\n  console.log('Claim.toFhir()');\n\n\n\n  return EJSON.stringify(this.name);\n}\n\n/**\n * @summary Search the Claims collection for a specific Meteor.userId().\n * @memberOf Claims\n * @name findUserId\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n *  let patients = Claims.findUserId(Meteor.userId());\n *  let patient = patients[0];\n * ```\n */\n\nClaims.findUserId = function (userId) {\n  process.env.TRACE && console.log(\"Claims.findUserId()\");\n  return Claims.find({'identifier.value': userId});\n};\n\n/**\n * @summary Search the Claims collection for a specific Meteor.userId().\n * @memberOf Claims\n * @name findOneUserId\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n *  let patient = Claims.findOneUserId(Meteor.userId());\n * ```\n */\n\nClaims.findOneUserId = function (userId) {\n  process.env.TRACE && console.log(\"Claims.findOneUserId()\");  \n  return Claims.findOne({'identifier.value': userId});\n};\n/**\n * @summary Search the Claims collection for a specific Meteor.userId().\n * @memberOf Claims\n * @name findMrn\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n *  let patients = Claims.findMrn('12345').fetch();\n * ```\n */\n\nClaims.findMrn = function (userId) {\n  process.env.TRACE && console.log(\"Claims.findMrn()\");  \n  return Claims.find({'identifier.value': userId});\n};\n\n/**\n * @summary Search the Claims collection for a specific Meteor.userId().\n * @memberOf Claims\n * @name findMrn\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n *  let patients = Claims.findMrn('12345').fetch();\n * ```\n */\n\nClaims.fetchBundle = function (query, parameters, callback) {\n  process.env.TRACE && console.log(\"Claims.fetchBundle()\");  \n  var patientArray = Claims.find(query, parameters, callback).map(function(patient){\n    patient.id = patient._id;\n    delete patient._document;\n    return patient;\n  });\n\n  // console.log(\"patientArray\", patientArray);\n\n  var result = Bundle.generate(patientArray);\n\n  // console.log(\"result\", result.entry[0]);\n\n  return result;\n};\n\n\n/**\n * @summary This function takes a FHIR resource and prepares it for storage in Mongo.\n * @memberOf Claims\n * @name toMongo\n * @version 1.6.0\n * @returns { Claim }\n * @example\n * ```js\n *  let patients = Claims.toMongo('12345').fetch();\n * ```\n */\n\nClaims.toMongo = function (originalClaim) {\n  var mongoRecord;\n  process.env.TRACE && console.log(\"Claims.toMongo()\");  \n\n  if (originalClaim.identifier) {\n    originalClaim.identifier.forEach(function(identifier){\n      if (identifier.period) {\n        if (identifier.period.start) {\n          var startArray = identifier.period.start.split('-');\n          identifier.period.start = new Date(startArray[0], startArray[1] - 1, startArray[2]);\n        }\n        if (identifier.period.end) {\n          var endArray = identifier.period.end.split('-');\n          identifier.period.end = new Date(startArray[0], startArray[1] - 1, startArray[2]);\n        }\n      }\n    });\n  }\n\n  return originalClaim;\n};\n\n\n\n\n\n/**\n * @summary Similar to toMongo(), this function prepares a FHIR record for storage in the Mongo database.  The difference being, that this assumes there is already an existing record.\n * @memberOf Claims\n * @name prepForUpdate\n * @version 1.6.0\n * @returns { Object }\n * @example\n * ```js\n *  let patients = Claims.findMrn('12345').fetch();\n * ```\n */\n\nClaims.prepForUpdate = function (patient) {\n  process.env.TRACE && console.log(\"Claims.prepForUpdate()\");  \n\n  if (patient.name && patient.name[0]) {\n    //console.log(\"patient.name\", patient.name);\n\n    patient.name.forEach(function(name){\n      name.resourceType = \"HumanName\";\n    });\n  }\n\n  if (patient.telecom && patient.telecom[0]) {\n    //console.log(\"patient.telecom\", patient.telecom);\n    patient.telecom.forEach(function(telecom){\n      telecom.resourceType = \"ContactPoint\";\n    });\n  }\n\n  if (patient.address && patient.address[0]) {\n    //console.log(\"patient.address\", patient.address);\n    patient.address.forEach(function(address){\n      address.resourceType = \"Address\";\n    });\n  }\n\n  if (patient.contact && patient.contact[0]) {\n    //console.log(\"patient.contact\", patient.contact);\n\n    patient.contact.forEach(function(contact){\n      if (contact.name) {\n        contact.name.resourceType = \"HumanName\";\n      }\n\n      if (contact.telecom && contact.telecom[0]) {\n        contact.telecom.forEach(function(telecom){\n          telecom.resourceType = \"ContactPoint\";\n        });\n      }\n\n    });\n  }\n\n  return patient;\n};\n\n\n/**\n * @summary Scrubbing the patient; make sure it conforms to v1.6.0\n * @memberOf Claims\n * @name scrub\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n *  let patients = Claims.findMrn('12345').fetch();\n * ```\n */\n\nClaims.prepForFhirTransfer = function (patient) {\n  process.env.TRACE && console.log(\"Claims.prepForFhirTransfer()\");  \n\n\n  // FHIR has complicated and unusual rules about dates in order\n  // to support situations where a family member might report on a patient's\n  // date of birth, but not know the year of birth; and the other way around\n  if (patient.birthDate) {\n    patient.birthDate = moment(patient.birthDate).format(\"YYYY-MM-DD\");\n  }\n\n\n  if (patient.name && patient.name[0]) {\n    //console.log(\"patient.name\", patient.name);\n\n    patient.name.forEach(function(name){\n      delete name.resourceType;\n    });\n  }\n\n  if (patient.telecom && patient.telecom[0]) {\n    //console.log(\"patient.telecom\", patient.telecom);\n    patient.telecom.forEach(function(telecom){\n      delete telecom.resourceType;\n    });\n  }\n\n  if (patient.address && patient.address[0]) {\n    //console.log(\"patient.address\", patient.address);\n    patient.address.forEach(function(address){\n      delete address.resourceType;\n    });\n  }\n\n  if (patient.contact && patient.contact[0]) {\n    //console.log(\"patient.contact\", patient.contact);\n\n    patient.contact.forEach(function(contact){\n\n      console.log(\"contact\", contact);\n\n\n      if (contact.name && contact.name.resourceType) {\n        //console.log(\"patient.contact.name\", contact.name);\n        delete contact.name.resourceType;\n      }\n\n      if (contact.telecom && contact.telecom[0]) {\n        contact.telecom.forEach(function(telecom){\n          delete telecom.resourceType;\n        });\n      }\n\n    });\n  }\n\n  //console.log(\"Claims.prepForBundle()\", patient);\n\n  return patient;\n};\n\n/**\n * @summary The displayed name of the patient.\n * @memberOf Claim\n * @name displayName\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n * ```\n */\n\nClaim.prototype.displayName = function () {\n  process.env.TRACE && console.log(\"Claims.displayName()\");  \n\n  if (this.name && this.name[0]) {\n    return this.name[0].text;\n  }\n};\n\n\n/**\n * @summary The displayed Meteor.userId() of the patient.\n * @memberOf Claim\n * @name userId\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n * ```\n */\n\nClaim.prototype.userId = function () {\n  process.env.TRACE && console.log(\"Claims.userId()\");  \n\n  var result = null;\n  if (this.extension) {\n    this.extension.forEach(function(extension){\n      if (extension.url === \"Meteor.userId()\") {\n        result = extension.valueString;\n      }\n    });\n  }\n  return result;\n};\n\n\n\n/**\n * @summary The displayed Meteor.userId() of the patient.\n * @memberOf Claim\n * @name userId\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n * ```\n */\n\n\n/**\n * @summary Anonymize the patient record\n * @memberOf Claim\n * @name removeProtectedInfo\n * @version 1.2.3\n * @returns {Object}\n * @example\n * ```js\n * ```\n */\n\nClaim.prototype.removeProtectedInfo = function (options) {\n  process.env.TRACE && console.log(\"Claims.anonymize()\", this);  \n\n  console.log(\"Claims.anonymize()\");  \n\n  // 1. Names\n  if(this.name && this.name[0]){\n    var anonymizedName = this.name[0];\n\n    if(this.name[0].family){\n      anonymizedName.family = '';\n    }\n    if(this.name[0].given && this.name[0].given[0]){\n      anonymizedName.given = [];          \n    }\n    if(this.name[0].text){\n      anonymizedName.text = '';\n    }\n\n    this.name = [];\n    this.name.push(anonymizedName);\n  }\n\n  // 3.  dates\n\n\n  // 4. Phone numbers\n  // 5.  Fax Numbers\n  // 6.  Identifiers\n  // 7.  Medical Record Nubers\n  // 17.  Photos\n\n  return this;\n}\n\n\n/**\n * @summary Anonymize the patient record\n * @memberOf Claim\n * @name anonymize\n * @version 1.2.3\n * @returns {Object}\n * @example\n * ```js\n * ```\n */\n\nClaim.prototype.anonymize = function () {\n  process.env.TRACE && console.log(\"Claims.hash()\", this);  \n\n  console.log(\"Claims.hash()\");  \n\n\n  if(this.name && this.name[0]){\n    var anonymizedName = this.name[0];\n\n    if(this.name[0].family){\n      anonymizedName.family = Anon.name(this.name[0].family);        \n    }\n    if(this.name[0].given && this.name[0].given[0]){\n      var secretGiven = Anon.name(this.name[0].given[0]);\n      anonymizedName.given = [];      \n      anonymizedName.given.push(secretGiven);\n    }\n    if(this.name[0].text){\n      anonymizedName.text = Anon.name(this.name[0].text);\n    }\n\n    this.name = [];\n    this.name.push(anonymizedName);\n  }\n\n  return this;\n}\n\n\nAnon = {\n  name: function(name){\n    var anonName = '';\n    for(var i = 0; i < name.length; i++){\n      if(name[i] === \" \"){\n        anonName = anonName + \" \";\n      } else {\n        anonName = anonName + \"*\";\n      }\n    }\n    return anonName;\n  },\n  phone: function(){\n    return \"NNN-NNN-NNNN\";\n  },\n  ssn: function(){\n    return \"###-##-####\"\n  }\n}\n\n\nexport { Claim, Claims, ClaimSchema };\n","import { Random } from 'meteor/random';\nimport { Claim, Claims, ClaimSchema } from './Claims.js';\nimport faker from 'faker';\n\nMeteor.methods({\n    'Claim/initialize': function(number){\n        console.log('Initializing a default claim...')\n\n        if(!number){\n          number = 1;\n        }\n        let newClaim = {\n            \"resourceType\": \"Claim\",\n            \"id\": \"860150\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">A human-readable rendering of the Claim</div>\"\n            },\n            \"identifier\": [\n              {\n                \"system\": \"http://happypdocs.com/claim\",\n                \"value\": \"8612345\"\n              }\n            ],\n            \"status\": \"active\",\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/claim-type\",\n                  \"code\": \"professional\"\n                }\n              ]\n            },\n            \"use\": \"claim\",\n            \"patient\": {\n              \"reference\": \"Patient/1\"\n            },\n            \"created\": \"2014-08-16\",\n            \"insurer\": {\n              \"reference\": \"Organization/2\"\n            },\n            \"provider\": {\n              \"reference\": \"Organization/1\"\n            },\n            \"priority\": {\n              \"coding\": [\n                {\n                  \"code\": \"normal\"\n                }\n              ]\n            },\n            \"payee\": {\n              \"type\": {\n                \"coding\": [\n                  {\n                    \"code\": \"provider\"\n                  }\n                ]\n              }\n            },\n            \"careTeam\": [\n              {\n                \"sequence\": 1,\n                \"provider\": {\n                  \"reference\": \"Practitioner/example\"\n                }\n              }\n            ],\n            \"diagnosis\": [\n              {\n                \"sequence\": 1,\n                \"diagnosisCodeableConcept\": {\n                  \"coding\": [\n                    {\n                      \"code\": \"654456\"\n                    }\n                  ]\n                }\n              }\n            ],\n            \"insurance\": [\n              {\n                \"sequence\": 1,\n                \"focal\": true,\n                \"coverage\": {\n                  \"reference\": \"Coverage/9876B1\"\n                }\n              }\n            ],\n            \"item\": [\n              {\n                \"sequence\": 1,\n                \"careTeamSequence\": [\n                  1\n                ],\n                \"productOrService\": {\n                  \"coding\": [\n                    {\n                      \"system\": \"http://hl7.org/fhir/ex-serviceproduct\",\n                      \"code\": \"exam\"\n                    }\n                  ]\n                },\n                \"servicedDate\": \"2014-08-16\",\n                \"unitPrice\": {\n                  \"value\": 75.00,\n                  \"currency\": \"USD\"\n                },\n                \"net\": {\n                  \"value\": 75.00,\n                  \"currency\": \"USD\"\n                }\n              }\n            ]\n          };\n\n          for (let index = 0; index < number; index++) {\n            newClaim.patient.reference = 'Patient/' + Random.id();\n            newClaim.patient.display = faker.name.findName();\n            \n            Meteor.call('Claim/create', newClaim);            \n          }\n\n    },\n    'Claim/create': function(newClaim){\n      console.log('Dropping claims...');\n      check(newClaim, Object);\n\n      Claims.insert(newClaim);\n    },\n    'Claim/drop': function(){\n      console.log('Dropping claims...')\n      Claims.remove({});\n    }\n})","\n\nimport ClaimsPage from './client/ClaimsPage';\nimport ClaimsTable from './client/ClaimsTable';\nimport ClaimDetail from './client/ClaimDetail';\n\nimport { Claim, Claims, ClaimSchema } from './lib/Claims';\n\nvar DynamicRoutes = [{\n  'name': 'ClaimPage',\n  'path': '/claims',\n  'component': ClaimsPage,\n  'requireAuth': true\n}];\n\nvar AdminSidebarElements = [{\n  'primaryText': 'Claims',\n  'to': '/claims',\n  'href': '/claims'\n}];\n\nexport { \n  AdminSidebarElements, \n  DynamicRoutes, \n\n  ClaimsPage,\n  ClaimsTable,\n  ClaimDetail,\n\n  Claim,\n  Claims,\n  ClaimSchema\n};\n\n\n","import { CardActions, CardText, DatePicker, Toggle, RaisedButton, TextField } from 'material-ui';\nimport { get, has, set } from 'lodash';\nimport { Row, Col } from 'react-bootstrap';\nimport moment from 'moment';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport PropTypes from 'prop-types';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\n\nconst styles = {\n  block: {\n    maxWidth: 250,\n  },\n  toggle: {\n    marginTop: 16,\n  },\n  thumbOff: {\n    backgroundColor: '#ffcccc',\n  },\n  trackOff: {\n    backgroundColor: '#ff9d9d',\n  },\n  thumbSwitched: {\n    backgroundColor: 'red',\n  },\n  trackSwitched: {\n    backgroundColor: '#ff9d9d',\n  },\n  labelStyle: {\n    color: 'red',\n  },\n};\n\nexport class ClaimDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      claimId: false,\n      claim: {\n        created: '',\n        diagnosis: '',\n        identifier: '',\n        insurance: '',\n        insurer: '',\n        patient: '',\n        provider: '',\n        unitprice: ''\n      },\n      form: {\n        created: '',\n        diagnosis: '',\n        identifier: '',\n        insurance: '',\n        insurer: '',\n        patient: '',\n        provider: '',\n        unitprice: ''\n      }\n    }\n  }\n  dehydrateFhirResource(claim) {\n    let formData = Object.assign({}, this.state.form);\n\n    formData.created = moment(get(claim, 'created')).format('YYYY-MM-DD');\n    formData.diagnosis = get(claim, 'diagnosis[0].diagnosisCodeableConcept.coding[0].code', '');\n    formData.identifier = get(claim, 'identifier[0].value', '');\n    formData.insurance = get(claim, 'insurance[0].coverage.reference', '');\n    formData.insurer = get(claim, 'insurer.reference', '');\n    formData.patient = get(claim, 'patient.reference', '');\n    formData.provider = get(claim, 'provider.reference', '');\n    formData.unitprice = get(claim, 'item[0].unitPrice.value', '').toString();\n\n    return formData;\n  }\n  shouldComponentUpdate(nextProps){\n    process.env.NODE_ENV === \"test\" && console.log('ClaimDetail.shouldComponentUpdate()', nextProps, this.state)\n    let shouldUpdate = true;\n\n    // both false; don't take any more updates\n    if(nextProps.claim === this.state.claim){\n      shouldUpdate = false;\n    }\n\n    // received an claim from the table; okay lets update again\n    if(nextProps.claimId !== this.state.claimId){\n      this.setState({claimId: nextProps.claimId})\n      \n      if(nextProps.claim){\n        this.setState({claim: nextProps.claim})     \n        this.setState({form: this.dehydrateFhirResource(nextProps.claim)})       \n      }\n      shouldUpdate = true;\n    }\n \n    return shouldUpdate;\n  }\n  getMeteorData() {\n    let data = {\n      claimId: this.props.claimId,\n      claim: false,\n      form: this.state.form\n    };\n\n    if(this.props.claim){\n      data.claim = this.props.claim;\n    }\n    if(this.props.displayBirthdate){\n      data.displayBirthdate = this.props.displayBirthdate;\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClaimDetail[data]\", data);\n    return data;\n  }\n\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('ClaimDetail.render()', this.state)\n    let formData = this.state.form;\n\n    return (\n      <div id={this.props.id} className=\"claimDetail\">\n        <CardText>\n          <Row>\n            <Col md={3}>\n              <TextField\n                id='createdInput'\n                ref='created'\n                name='created'\n                type='date'\n                floatingLabelText='Created'\n                value={ get(formData, 'created', '')}\n                onChange={ this.changeState.bind(this, 'created')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='mrnInput'\n                ref='identifier'\n                name='identifier'\n                floatingLabelText='Identifier'\n                value={ get(formData, 'identifier', '')}\n                onChange={ this.changeState.bind(this, 'identifier')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={3}>\n              <TextField\n                id='insuranceInput'\n                ref='insurance'\n                name='insurance'\n                floatingLabelText='Insurance'\n                value={ get(formData, 'insurance', '')}\n                onChange={ this.changeState.bind(this, 'insurance')}\n                hintText=''\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='insurerInput'\n                ref='insurer'\n                name='insurer'\n                floatingLabelText='Insurer'\n                hintText='Jane'\n                value={ get(formData, 'insurer', '')}\n                onChange={ this.changeState.bind(this, 'insurer')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='patientInput'\n                ref='patient'\n                name='patient'\n                floatingLabelText='Patient'\n                hintText='Doe'\n                value={ get(formData, 'patient', '')}\n                onChange={ this.changeState.bind(this, 'patient')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='ProviderInput'\n                ref='Provider'\n                name='Provider'\n                floatingLabelText='Provider'\n                hintText=''\n                value={ get(formData, 'Provider', '')}\n                onChange={ this.changeState.bind(this, 'Provider')}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={3}>\n              <TextField\n                id='unitPriceInput'\n                ref='unitPrice'\n                name='unitPrice'\n                floatingLabelText='Unit Price'\n                hintText='$'\n                value={ get(formData, 'unitPrice', '')}\n                onChange={ this.changeState.bind(this, 'unitPrice')}\n                floatingLabelFixed={false}\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n\n\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.claimId) }\n        </CardActions>\n      </div>\n    );\n  }\n  renderDatePicker(displayDatePicker, birthDate){\n    if (displayDatePicker) {\n      console.log('renderDatePicker', displayDatePicker, birthDate, typeof birthDate)\n\n      let javascriptDate;\n      let momentDate;\n\n      if(typeof birthDate === \"string\"){\n        momentDate = moment(birthDate).toDate();\n      } else {\n        momentDate = birthDate;\n      }\n    \n      console.log('javascriptDate', javascriptDate)\n      console.log('momentDate', momentDate)\n\n      return (\n        <DatePicker \n          name='birthDate'\n          hintText=\"Birthdate\" \n          container=\"inline\" \n          mode=\"landscape\"\n          value={ momentDate ? momentDate : null}    \n          onChange={ this.changeState.bind(this, 'birthDate')}      \n          floatingLabelFixed={true}\n          fullWidth\n        />\n      );\n    }\n  }\n  determineButtons(claimId){\n    if (claimId) {\n      return (\n        <div>\n          <RaisedButton id='updateClaimButton' className='updateClaimButton' label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}} />\n          <RaisedButton id='deleteClaimButton' label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id='saveClaimButton'  className='saveClaimButton' label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n  updateFormData(formData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClaimDetail.updateFormData\", formData, field, textValue);\n\n    switch (field) {\n      case \"prefix\":\n        set(formData, 'prefix', textValue)\n        break;\n      case \"family\":\n        set(formData, 'family', textValue)\n        break;\n      case \"given\":\n        set(formData, 'given', textValue)\n        break;        \n      case \"suffix\":\n        set(formData, 'suffix', textValue)\n        break;\n      case \"identifier\":\n        set(formData, 'identifier', textValue)\n        break;\n      case \"gender\":\n        set(formData, 'gender', textValue)\n        break;\n      case \"maritalStatus\":\n        set(formData, 'maritalStatus', textValue)\n        break;\n      case \"deceased\":\n        set(formData, 'deceased', textValue)\n        break;\n      case \"multipleBirth\":\n        set(formData, 'multipleBirth', textValue)\n        break;\n      case \"species\":\n        set(formData, 'species', textValue)\n        break;\n      case \"language\":\n        set(formData, 'language', textValue)\n        break;\n      case \"photo\":\n        set(formData, 'photo', textValue)\n        break;\n      case \"birthDate\":\n        set(formData, 'birthDate', textValue)\n        break;\n      default:\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n    return formData;\n  }\n  updateClaim(claimData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClaimDetail.updateClaim\", claimData, field, textValue);\n\n    switch (field) {\n      case \"prefix\":\n        set(claimData, 'name[0].prefix[0]', textValue)\n        break;\n      case \"family\":\n        set(claimData, 'name[0].family[0]', textValue)\n        break;\n      case \"given\":\n        set(claimData, 'name[0].given[0]', textValue)\n        break;        \n      case \"suffix\":\n        set(claimData, 'name[0].suffix[0]', textValue)\n        break;\n      case \"identifier\":\n        set(claimData, 'identifier[0].value', textValue)\n        break;\n      case \"deceased\":\n        set(claimData, 'deceasedBoolean', textValue)\n        break;\n      case \"multipleBirth\":\n        set(claimData, 'multipleBirthBoolean', textValue)\n        break;\n      case \"gender\":\n        set(claimData, 'gender', textValue)\n        break;\n      case \"maritalStatus\":\n        set(claimData, 'maritalStatus.text', textValue)\n        break;\n      case \"species\":\n        set(claimData, 'animal.species.text', textValue)\n        break;\n      case \"language\":\n        set(claimData, 'communication[0].language.text', textValue)\n        break;  \n      case \"photo\":\n        set(claimData, 'photo[0].url', textValue)\n        break;\n      case \"birthDate\":\n        set(claimData, 'birthDate', textValue)\n        break;\n    }\n    return claimData;\n  }\n  changeState(field, event, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"   \");\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClaimDetail.changeState\", field, textValue);\n    if(process.env.NODE_ENV === \"test\") console.log(\"this.state\", this.state);\n\n    let formData = Object.assign({}, this.state.form);\n    let claimData = Object.assign({}, this.state.claim);\n\n    formData = this.updateFormData(formData, field, textValue);\n    claimData = this.updateClaim(claimData, field, textValue);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"claimData\", claimData);\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n\n    this.setState({claim: claimData})\n    this.setState({form: formData})\n  }\n\n\n  // this could be a mixin\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&&')\n    console.log('Saving a new Claim...', this.state)\n\n    let self = this;\n    let fhirClaimData = Object.assign({}, this.state.claim);\n\n    if(process.env.NODE_ENV === \"test\") console.log('fhirClaimData', fhirClaimData);\n\n\n    let claimValidator = ClaimSchema.newContext();\n    console.log('claimValidator', claimValidator)\n    claimValidator.validate(fhirClaimData)\n\n    console.log('IsValid: ', claimValidator.isValid())\n    // console.log('ValidationErrors: ', claimValidator.validationErrors());\n\n    if (this.state.claimId) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating claim...\");\n\n      delete fhirClaimData._id;\n\n      // not sure why we're having to respecify this; fix for a bug elsewhere\n      fhirClaimData.resourceType = 'Claim';\n\n      Claims._collection.update({_id: this.state.claimId}, {$set: fhirClaimData }, function(error, result){\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"Claims.insert[error]\", error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Claims\", recordId: self.state.claimId});\n          Session.set('selectedClaimId', false);\n          Session.set('claimPageTabIndex', 1);\n          Bert.alert('Claim added!', 'success');\n        }\n      });\n    } else {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Creating a new claim...\", fhirClaimData);\n\n      Claims._collection.insert(fhirClaimData, function(error, result) {\n        if (error) {\n          if(process.env.NODE_ENV === \"test\")  console.log('Claims.insert[error]', error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Claims\", recordId: self.state.claimId});\n          Session.set('claimPageTabIndex', 1);\n          Session.set('selectedClaimId', false);\n          Bert.alert('Claim added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('claimPageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    let self = this;\n    Claims._collection.animalremove({_id: this.state.claimId}, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log('Claims.insert[error]', error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Claims\", recordId: self.state.claimId});\n        Session.set('claimPageTabIndex', 1);\n        Session.set('selectedClaimId', false);\n        Bert.alert('Claim removed!', 'success');\n      }\n    });\n  }\n}\n\nClaimDetail.propTypes = {\n  id: PropTypes.string,\n  fhirVersion: PropTypes.string,\n  claimId: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  claim: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};\nReactMixin(ClaimDetail.prototype, ReactMeteorData);\nexport default ClaimDetail;","import { CardText, CardTitle } from 'material-ui/Card';\nimport { Tab, Tabs } from 'material-ui/Tabs';\nimport { Glass, GlassCard, VerticalCanvas, FullPageCanvas } from 'meteor/clinical:glass-ui';\n\nimport ClaimDetail from './ClaimDetail';\nimport ClaimsTable from './ClaimsTable';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport PropTypes from 'prop-types';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nlet defaultClaim = {\n  index: 2,\n  id: '',\n  username: '',\n  email: '',\n  given: '',\n  family: '',\n  gender: ''\n};\nSession.setDefault('claimFormData', defaultClaim);\nSession.setDefault('claimSearchFilter', '');\nSession.setDefault('selectedClaimId', false);\nSession.setDefault('fhirVersion', 'v1.0.2');\n\nexport class ClaimsPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('claimPageTabIndex'),\n      claimSearchFilter: Session.get('claimSearchFilter'),\n      fhirVersion: Session.get('fhirVersion'),\n      selectedClaimId: Session.get(\"selectedClaimId\"),\n      selectedClaim: false\n    };\n\n    \n    if (Session.get('selectedClaimId')){\n      data.selectedClaim = Claims.findOne({_id: Session.get('selectedClaimId')});\n    } else {\n      data.selectedClaim = false;\n    }\n\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClaimsPage[data]\", data);\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('claimPageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedClaimId', false);\n    Session.set('claimUpsert', false);\n  }\n\n  render() {\n    console.log('React.version: ' + React.version);\n    return (\n      <div id=\"claimsPage\">\n        <FullPageCanvas>\n          <GlassCard height=\"auto\">\n            <CardTitle\n              title=\"Claims\"\n            />\n            <CardText>\n              <Tabs id='claimsPageTabs' default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n                 <Tab className=\"newClaimTab\" label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0}>\n                   <ClaimDetail \n                      fhirVersion={ this.data.fhirVersion }\n                      id='newClaim' />\n                 </Tab>\n                 <Tab className=\"claimListTab\" label='Claims' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                   <ClaimsTable \n                      showBarcodes={true} \n                      showAvatars={true} \n                      noDataMessagePadding={100}\n                      />\n                 </Tab>\n                 <Tab className=\"claimDetailTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                   <ClaimDetail \n                      id='claimDetails' \n                      fhirVersion={ this.data.fhirVersion }\n                      claim={ this.data.selectedClaim }\n                      claimId={ this.data.selectedClaimId }\n                    />\n                 </Tab>\n             </Tabs>\n\n\n            </CardText>\n          </GlassCard>\n        </FullPageCanvas>\n      </div>\n    );\n  }\n}\n\n\n\nReactMixin(ClaimsPage.prototype, ReactMeteorData);\n\nexport default ClaimsPage;","import Avatar from 'material-ui/Avatar';\nimport FlatButton from 'material-ui/FlatButton';\nimport { HTTP } from 'meteor/http';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\nimport { Session } from 'meteor/session';\nimport { has, get } from 'lodash';\nimport { TableNoData } from 'meteor/clinical:glass-ui'\nimport PropTypes from 'prop-types';\n\n\n\n\n\nflattenClaim = function(claim){\n  let result = {\n    _id: claim._id,\n    created: '',\n    diagnosis: '',\n    identifier: '',\n    insurance: '',\n    insurer: '',\n    patient: '',\n    provider: '',\n    unitprice: '',\n    itemcount: 0\n  };\n\n  result.created = moment(get(claim, 'created')).format('YYYY-MM-DD');\n  result.diagnosis = get(claim, 'diagnosis[0].diagnosisCodeableConcept.coding[0].code', '');\n  result.identifier = get(claim, 'identifier[0].value', '');\n  result.insurance = get(claim, 'insurance[0].coverage.reference', '');\n  result.insurer = get(claim, 'insurer.reference', '');\n  result.patient = get(claim, 'patient.reference', '');\n  result.provider = get(claim, 'provider.reference', '');\n  result.unitprice = get(claim, 'item[0].unitPrice.value', '');\n  result.itemcount = get(claim, 'item', []).length;\n\n  return result;\n}\n\nexport class ClaimsTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {\n    let data = {\n      style: {\n        hideOnPhone: {\n          visibility: 'visible',\n          display: 'table'\n        },\n        cellHideOnPhone: {\n          visibility: 'visible',\n          display: 'table',\n          paddingTop: '16px',\n          maxWidth: '120px'\n        },\n        cell: {\n          paddingTop: '16px'\n        },\n        avatar: {\n          // color: rgb(255, 255, 255);\n          backgroundColor: 'rgb(188, 188, 188)',\n          userSelect: 'none',\n          borderRadius: '2px',\n          height: '40px',\n          width: '40px'\n        }\n      },\n      selected: [],\n      claims: []\n    };\n\n    let query = {};\n    let options = {};\n\n    // number of items in the table should be set globally\n    if (get(Meteor, 'settings.public.defaults.paginationLimit')) {\n      options.limit = get(Meteor, 'settings.public.defaults.paginationLimit');\n    }\n    // but can be over-ridden by props being more explicit\n    if(this.props.limit){\n      options.limit = this.props.limit;      \n    }\n\n    if(this.props.data){\n      // console.log('this.props.data', this.props.data);\n\n      if(this.props.data.length > 0){              \n        this.props.data.forEach(function(claim){\n          data.claims.push(flattenClaim(claim));\n        });  \n      }\n    } else {\n      data.claims = Claims.find().map(function(claim){\n        return flattenClaim(claim);\n      });\n    }\n\n\n    if (Session.get('appWidth') < 768) {\n      data.style.hideOnPhone.visibility = 'hidden';\n      data.style.hideOnPhone.display = 'none';\n      data.style.cellHideOnPhone.visibility = 'hidden';\n      data.style.cellHideOnPhone.display = 'none';\n    } else {\n      data.style.hideOnPhone.visibility = 'visible';\n      data.style.hideOnPhone.display = 'table-cell';\n      data.style.cellHideOnPhone.visibility = 'visible';\n      data.style.cellHideOnPhone.display = 'table-cell';\n    }\n\n    // console.log(\"ClaimsTable[data]\", data);\n    return data;\n  }\n  imgError(avatarId) {\n    this.refs[avatarId].src = Meteor.absoluteUrl() + 'noAvatar.png';\n  }\n  rowClick(id){\n    Session.set('claimsUpsert', false);\n    Session.set('selectedClaimId', id);\n    Session.set('claimPageTabIndex', 2);\n  }\n  renderRowAvatarHeader(){\n    if (get(Meteor, 'settings.public.defaults.avatars') && (this.props.showAvatars === true)) {\n      return (\n        <th className='avatar'>photo</th>\n      );\n    }\n  }\n  renderRowAvatar(claim, avatarStyle){\n    //console.log('renderRowAvatar', claim, avatarStyle)\n    \n    if (get(Meteor, 'settings.public.defaults.avatars') && (this.props.showAvatars === true)) {\n      return (\n        <td className='avatar'>\n          <img src={claim.photo} ref={claim._id} onError={ this.imgError.bind(this, claim._id) } style={avatarStyle}/>\n        </td>\n      );\n    }\n  }\n  renderSpeciesHeader(displaySpecies){\n    if(displaySpecies){\n      return (\n        <th className='species'>Species</th>\n      );\n    }\n  }\n  renderSpeciesRow(displaySpecies, claim){\n    if(displaySpecies){\n      return (\n        <td className='species' style={this.data.style.cellHideOnPhone}>\n          {claim.species}\n        </td>\n      );\n    }\n\n  }\n  renderSendButtonHeader(){\n    if (this.props.showSendButton === true) {\n      return (\n        <th className='sendButton' style={this.data.style.hideOnPhone}></th>\n      );\n    }\n  }\n  renderSendButton(claim, avatarStyle){\n    if (this.props.showSendButton === true) {\n      return (\n        <td className='sendButton' style={this.data.style.hideOnPhone}>\n          <FlatButton label=\"send\" onClick={this.onSend.bind('this', this.data.claims[i]._id)}/>\n        </td>\n      );\n    }\n  }\n  onSend(id){\n    let claim = Claims.findOne({_id: id});\n\n    console.log(\"ClaimsTable.onSend()\", claim);\n\n    var httpEndpoint = \"http://localhost:8080\";\n    if (get(Meteor, 'settings.public.interfaces.default.channel.endpoint')) {\n      httpEndpoint = get(Meteor, 'settings.public.interfaces.default.channel.endpoint');\n    }\n    HTTP.post(httpEndpoint + '/Claim', {\n      data: claim\n    }, function(error, result){\n      if (error) {\n        console.log(\"error\", error);\n      }\n      if (result) {\n        console.log(\"result\", result);\n      }\n    });\n  }\n  selectClaimRow(claimId){\n    if(typeof(this.props.onRowClick) === \"function\"){\n      this.props.onRowClick(claimId);\n    }\n  }\n  render () {\n    let tableRows = [];\n    let footer;\n\n    if(this.data.claims.length === 0){\n      footer = <TableNoData noDataPadding={ this.props.noDataMessagePadding } />\n    } else {\n      for (var i = 0; i < this.data.claims.length; i++) {\n        tableRows.push(\n          <tr key={i} className=\"claimRow\" style={{cursor: \"pointer\"}} onClick={this.selectClaimRow.bind(this, this.data.claims[i].id )} >\n    \n            <td className='created' onClick={ this.rowClick.bind('this', this.data.claims[i]._id)} style={{minWidth: '100px', paddingTop: '16px'}}>{this.data.claims[i].created }</td>\n            <td className='diagnosis' onClick={ this.rowClick.bind('this', this.data.claims[i]._id)} style={this.data.style.cell}>{this.data.claims[i].diagnosis }</td>\n            <td className='identifier' style={this.data.style.cellHideOnPhone}>{this.data.claims[i].identifier}</td>\n            <td className='insurance' onClick={ this.rowClick.bind('this', this.data.claims[i]._id)} style={this.data.style.cell}>{this.data.claims[i].insurance }</td>\n            <td className='insurer' onClick={ this.rowClick.bind('this', this.data.claims[i]._id)} style={this.data.style.cell}>{this.data.claims[i].insurer}</td>\n            <td className='patient' style={this.data.style.cellHideOnPhone}>{this.data.claims[i].patient}</td>\n            <td className='provider' style={this.data.style.cellHideOnPhone}>{this.data.claims[i].provider}</td>\n            <td className='unitprice' style={this.data.style.cellHideOnPhone}>{\"$\" + this.data.claims[i].unitprice}</td>\n            <td className='itemcount' style={this.data.style.cellHideOnPhone}>{this.data.claims[i].itemcount}</td>\n\n              { this.renderSendButton(this.data.claims[i], this.data.style.avatar) }\n          </tr>\n        );\n      }\n    }\n    \n\n\n    return(\n      <div>\n        <Table id='claimsTable' hover >\n          <thead>\n            <tr>\n              <th className='created' style={{minWidth: '100px'}}>Created</th>\n              <th className='diagnosis' >Diagnosis</th>\n              <th className='identifier'>Identifier</th>\n              <th className='insurance'>Insurance</th>\n              <th className='insurer'>Insurer</th>\n              <th className='patient' >Patient</th>\n              <th className='provider' >Provider</th>\n              <th className='unitprice' >Item.UnitPrice</th>\n              <th className='items' >Items</th>\n              \n              { this.renderSendButtonHeader() }\n            </tr>\n          </thead>\n          <tbody>\n            { tableRows }\n          </tbody>\n        </Table>\n        { footer }\n      </div>\n    );\n  }\n}\n\nClaimsTable.propTypes = {\n  id: PropTypes.string,\n  fhirVersion: PropTypes.string,\n  showSendButton: PropTypes.bool,\n  displaySpecies: PropTypes.bool,\n  noDataMessagePadding: PropTypes.number\n};\n\nReactMixin(ClaimsTable.prototype, ReactMeteorData);\nexport default ClaimsTable;"]}