{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-clinical-impression/lib/hl7-resource-clinical-impression.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-clinical-impression/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-clinical-impression/client/ClinicalImpressionDetail.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-clinical-impression/client/ClinicalImpressionsPage.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-clinical-impression/client/ClinicalImpressionsTable.js"],"names":["SimpleSchema","module","link","v","ClinicalImpression","BaseModel","extend","prototype","_collection","ClinicalImpressions","Mongo","Collection","_transform","document","ClinicalImpressionSchema","type","String","defaultValue","optional","Array","IdentifierSchema","CodeableConceptSchema","ReferenceSchema","Date","PeriodSchema","Object","Annotation","BaseSchema","DomainResourceSchema","attachSchema","exportDefault","export","SidebarElements","DynamicRoutes","ClinicalImpressionsPage","ClinicalImpressionsTable","ClinicalImpressionDetail","CardActions","CardText","Bert","DatePicker","RaisedButton","React","ReactMeteorData","ReactMixin","TextField","browserHistory","get","PropTypes","defaultClinicalImpression","Session","setDefault","getMeteorData","data","clinicalImpressionId","clinicalImpression","showDatePicker","props","console","log","selectedClinicalImpression","findOne","_id","renderDatePicker","datePickerValue","changeState","bind","render","id","code","text","status","determineButtons","addToContinuityOfCareDoc","clinicalImpressionUpsert","newClinicalImpression","identifier","performedDateTime","Meteor","users","update","userId","$addToSet","error","result","push","handleSaveButton","marginRight","handleDeleteButton","field","event","value","clinicalImpressionUpdate","process","env","NODE_ENV","use","set","resourceType","$set","alert","reason","HipaaLogger","logEvent","eventType","userName","user","fullName","collectionName","recordId","insert","handleCancelButton","remove","Component","propTypes","hasUser","object","CardTitle","Tab","Tabs","GlassCard","VerticalCanvas","Glass","style","opacity","tab","borderBottom","borderRight","tabIndex","clinicalImpressionSearchFilter","currentClinicalImpression","blur","appbar","darkroom","handleTabChange","index","onNewTab","handleActive","Card","CardMedia","Table","Toggle","selected","clinicalImpressions","displayToggle","displayDates","displayToggles","find","count","fetch","renderTogglesHeader","renderToggles","patientId","renderDateHeader","renderDate","newDate","moment","format","rowClick","tableRows","i","length","newRow","cursor"],"mappings":"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","file":"/packages/clinical_hl7-resource-clinical-impression.js","sourcesContent":["import SimpleSchema from 'simpl-schema';\n\n\n// create the object using our BaseModel\nClinicalImpression = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nClinicalImpression.prototype._collection = ClinicalImpressions;\n\n// Create a persistent data store for addresses to be stored.\n// HL7.Resources.Patients = new Mongo.Collection('HL7.Resources.Patients');\nClinicalImpressions = new Mongo.Collection('ClinicalImpressions');\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nClinicalImpressions._transform = function (document) {\n  return new ClinicalImpression(document);\n};\n\n\n// if (Meteor.isClient){\n//   Meteor.subscribe(\"ClinicalImpressions\");\n// }\n\n// if (Meteor.isServer){\n//   Meteor.publish(\"ClinicalImpressions\", function (argument){\n//     if (this.userId) {\n//       return ClinicalImpressions.find();\n//     } else {\n//       return [];\n//     }\n//   });\n// }\n\n\n\n// Write your package code here!\nClinicalImpressionSchema = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"ClinicalImpression\"\n    },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n\n  \"status\" : {\n    optional: true,\n    type: String\n    },\n  \"code\" : {\n    optional: true,\n    type: CodeableConceptSchema\n    },\n  \"description\" : {\n    optional: true,\n    type: String\n    },\n\n  \"context\" : {\n    optional: true,\n    type: ReferenceSchema\n  },\n  \"subject\" : {\n    optional: true,\n    type: ReferenceSchema\n  },        \n\n  \"effectiveDateTime\" : {\n    optional: true,\n    type: Date\n    },\n  \"effectivePeriod\" : {\n    optional: true,\n    type: PeriodSchema\n    },\n    \n  \"date\" : {\n    optional: true,\n    type: Date\n    },\n  \"assessor\" : {\n    optional: true,\n    type: ReferenceSchema\n    },\n  \"previous\" : {\n    optional: true,\n    type: ReferenceSchema\n    },\n  \"problem\" : {\n    optional: true,\n    type: Array\n    },\n  \"problem.$\" : {\n    optional: true,\n    type: ReferenceSchema \n    },\n      \n  \"investigations\" : {\n    optional: true,\n    type:  Array\n    },\n  \"investigations.$\" : {\n    optional: true,\n    type:  Object \n    },\n\n  \"investigations.$.code\" : {\n    optional: true,\n    type: CodeableConceptSchema\n    },\n  \"investigations.$.item\" : {\n    optional: true,\n    type: Array\n    },\n  \"investigations.$.item.$\" : {\n    optional: true,\n    type: ReferenceSchema \n    },\n  \n  \"protocol\" : {\n    optional: true,\n    type: Array\n    },\n  \"protocol.$\" : {\n    optional: true,\n    type: String \n    },\n  \"summary\" : {\n    optional: true,\n    type: String\n    },\n\n\n  \"finding\" : {\n    optional: true,\n    type:  Array\n    },\n  \"finding.$\" : {\n    optional: true,\n    type:  Object \n    },    \n\n  \"finding.$.itemCodeableConcept\" : {\n    optional: true,\n    type: Array\n    },\n  \"finding.$.itemCodeableConcept.$\" : {\n    optional: true,\n    type: CodeableConceptSchema\n    },\n  \n  \"finding.$.itemReference\" : {\n    optional: true,\n    type: Array\n    },\n  \"finding.$.itemReference.$\" : {\n    optional: true,\n    type: ReferenceSchema \n    },\n  \n\n  \"finding.$.basis\" : {\n    optional: true,\n    type: String\n    },\n\n  \"prognosisCodeableConcept\" : {\n    optional: true,\n    type: Array\n    },\n  \"prognosisCodeableConcept.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n    },\n  \n  \"prognosisReference\" : {\n    optional: true,\n    type: Array\n    },\n  \"prognosisReference.$\" : {\n    optional: true,\n    type: ReferenceSchema \n    },\n  \n  \"action\" : {\n    optional: true,\n    type: Array\n    },\n  \"action.$\" : {\n    optional: true,\n    type: ReferenceSchema \n    },\n\n  \"note\" : {\n    optional: true,\n    type: Array\n    },\n  \"note.$\" : {\n    optional: true,\n    type: Annotation\n    }\n});\n\nBaseSchema.extend(ClinicalImpressionSchema);\nDomainResourceSchema.extend(ClinicalImpressionSchema);\nClinicalImpressions.attachSchema(ClinicalImpressionSchema);\n\nexport default { ClinicalImpression, ClinicalImpressions, ClinicalImpressionSchema };","\n\nimport ClinicalImpressionsPage from './client/ClinicalImpressionsPage';\nimport ClinicalImpressionsTable from './client/ClinicalImpressionsTable';\n\nvar DynamicRoutes = [{\n  'name': 'ClinicalImpressionsPage',\n  'path': '/clinical-impressions',\n  'component': ClinicalImpressionsPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'ClinicalImpressions',\n  'to': '/clinical-impressions',\n  'href': '/clinical-impressions'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  ClinicalImpressionsPage,\n  ClinicalImpressionsTable\n};\n\n\n","import { CardActions, CardText } from 'material-ui/Card';\n\nimport { Bert } from 'meteor/clinical:alert';\nimport DatePicker from 'material-ui/DatePicker';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport TextField from 'material-ui/TextField';\nimport { browserHistory } from 'react-router';\nimport { get } from 'lodash';\nimport PropTypes from 'prop-types';\n\nlet defaultClinicalImpression = {\n  'resourceType': 'ClinicalImpression',\n  'status': 'unknown',\n  'identifier': [{\n    'use': 'official',\n    'value': ''\n  }],\n  'code': {\n    'text': ''\n  }\n};\n\n\n\nSession.setDefault('clinicalImpressionUpsert', false);\nSession.setDefault('selectedClinicalImpression', false);\n\n\nexport default class ClinicalImpressionDetail extends React.Component {\n  getMeteorData() {\n    let data = {\n      clinicalImpressionId: false,\n      clinicalImpression: defaultClinicalImpression,\n      showDatePicker: false\n    };\n\n    if(this.props.showDatePicker){\n      data.showDatePicker = this.props.showDatePicker\n    }\n\n    if (Session.get('clinicalImpressionUpsert')) {\n      data.clinicalImpression = Session.get('clinicalImpressionUpsert');\n    } else {\n      // if (Session.get('selectedClinicalImpression')) {\n      //   data.clinicalImpressionId = Session.get('selectedClinicalImpression');\n        console.log(\"selectedClinicalImpression\", Session.get('selectedClinicalImpression'));\n\n        let selectedClinicalImpression = ClinicalImpressions.findOne({_id: Session.get('selectedClinicalImpression')});\n        console.log(\"selectedClinicalImpression\", selectedClinicalImpression);\n\n        if (selectedClinicalImpression) {\n          data.clinicalImpression = selectedClinicalImpression;\n        }\n      // } else {\n      //   data.clinicalImpression = defaultClinicalImpression;\n      // }\n    }\n\n    if (Session.get('selectedClinicalImpression')) {\n      data.clinicalImpressionId = Session.get('selectedClinicalImpression');\n    }      \n\n    return data;\n  }\n\n  renderDatePicker(showDatePicker, datePickerValue){\n    if (showDatePicker) {\n      return (\n        <DatePicker \n          name='performedDateTime'\n          hintText=\"Performed Date/Time\" \n          container=\"inline\" \n          mode=\"landscape\"\n          value={ datePickerValue ? datePickerValue : ''}    \n          onChange={ this.changeState.bind(this, 'performedDateTime')}      \n          />\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className=\"clinicalImpressionDetail\">\n        <CardText>\n        <TextField\n            id='identifierInput'\n            ref='identifier'\n            name='identifier'\n            floatingLabelText='Identifier'\n            value={ get(this, 'data.clinicalImpression.identifier[0].value') ? get(this, 'data.clinicalImpression.identifier[0].value') : ''}\n            onChange={ this.changeState.bind(this, 'identifier')}\n            fullWidth\n            /><br/>\n          <TextField\n            id='codeInput'\n            ref='code'\n            name='code'\n            floatingLabelText='Code'\n            value={this.data.clinicalImpression.code ? this.data.clinicalImpression.code.text : ''}\n            onChange={ this.changeState.bind(this, 'code')}\n            fullWidth\n            /><br/>\n          <TextField\n            id='statusInput'\n            ref='status'\n            name='status'\n            floatingLabelText='Status'\n            value={this.data.clinicalImpression.status ? this.data.clinicalImpression.status : ''}\n            onChange={ this.changeState.bind(this, 'status')}\n            fullWidth\n            /><br/>\n\n\n            <br/>\n          { this.renderDatePicker(this.data.showDatePicker, get(this, 'data.clinicalImpression.performedDateTime') ) }\n          <br/>\n\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.clinicalImpressionId) }\n        </CardActions>\n      </div>\n    );\n  }\n\n\n  addToContinuityOfCareDoc(){\n    console.log('addToContinuityOfCareDoc', Session.get('clinicalImpressionUpsert'));\n\n    var clinicalImpressionUpsert = Session.get('clinicalImpressionUpsert');\n\n    var newClinicalImpression = {\n      'resourceType': 'ClinicalImpression',\n      'status': clinicalImpressionUpsert.status,\n      'identifier': clinicalImpressionUpsert.identifier,\n      'code': {\n        'text': clinicalImpressionUpsert.code.text\n      },\n      'performedDateTime': clinicalImpressionUpsert.performedDateTime  \n    }\n\n    console.log('Lets write this to the profile... ', newClinicalImpression);\n\n    Meteor.users.update({_id: Meteor.userId()}, {$addToSet: {\n      'profile.continuityOfCare.clinicalImpressions': newClinicalImpression\n    }}, function(error, result){\n      if(error){\n        console.log('error', error);\n      }\n      if(result){\n        browserHistory.push('/continuity-of-care');\n      }\n    });\n  }\n  determineButtons(clinicalImpressionId){\n    if (clinicalImpressionId) {\n      return (\n        <div>\n          <RaisedButton id=\"saveClinicalImpressionButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}}  />\n          <RaisedButton id=\"deleteClinicalImpressionButton\" label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n\n          <RaisedButton id=\"addClinicalImpressionToContinuityCareDoc\" label=\"Add to CCD\" primary={true} onClick={this.addToContinuityOfCareDoc.bind(this)} style={{float: 'right'}} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id=\"saveClinicalImpressionButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n\n\n  // this could be a mixin\n  changeState(field, event, value){\n    let clinicalImpressionUpdate;\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClinicalImpressionDetail.changeState\", field, event, value);\n\n    // by default, assume there's no other data and we're creating a new clinicalImpression\n    if (Session.get('clinicalImpressionUpsert')) {\n      clinicalImpressionUpdate = Session.get('clinicalImpressionUpsert');\n    } else {\n      clinicalImpressionUpdate = defaultClinicalImpression;\n    }\n\n\n\n    // if there's an existing clinicalImpression, use them\n    if (Session.get('selectedClinicalImpression')) {\n      clinicalImpressionUpdate = this.data.clinicalImpression;\n    }\n\n    switch (field) {\n      case \"identifier\":\n        clinicalImpressionUpdate.identifier = [{\n          use: 'official',\n          value: value\n        }];\n        break;\n      case \"code\":\n        clinicalImpressionUpdate.code.text = value;\n        break;\n      case \"status\":\n        clinicalImpressionUpdate.status = value;\n        break;\n      case \"performedDateTime\":\n        clinicalImpressionUpdate.performedDateTime = value;\n        break;\n\n      default:\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"clinicalImpressionUpdate\", clinicalImpressionUpdate);\n    Session.set('clinicalImpressionUpsert', clinicalImpressionUpdate);\n  }\n\n  handleSaveButton(){\n    let clinicalImpressionUpdate = Session.get('clinicalImpressionUpsert', clinicalImpressionUpdate);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"clinicalImpressionUpdate\", clinicalImpressionUpdate);\n\n\n    if (Session.get('selectedClinicalImpression')) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating clinicalImpression...\");\n      delete clinicalImpressionUpdate._id;\n\n      // not sure why we're having to respecify this; fix for a bug elsewhere\n      clinicalImpressionUpdate.resourceType = 'ClinicalImpression';\n\n      ClinicalImpressions.update(\n        {_id: Session.get('selectedClinicalImpression')}, {$set: clinicalImpressionUpdate }, function(error, result) {\n          if (error) {\n            console.log(\"error\", error);\n\n            Bert.alert(error.reason, 'danger');\n          }\n          if (result) {\n            HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"ClinicalImpressions\", recordId: Session.get('selectedClinicalImpression')});\n            Session.set('clinicalImpressionPageTabIndex', 1);\n            Session.set('selectedClinicalImpression', false);\n            Session.set('clinicalImpressionUpsert', false);\n            Bert.alert('ClinicalImpression updated!', 'success');\n          }\n        });\n    } else {\n\n      if(process.env.NODE_ENV === \"test\") console.log(\"create a new clinicalImpression\", clinicalImpressionUpdate);\n\n      ClinicalImpressions.insert(clinicalImpressionUpdate, function(error, result) {\n        if (error) {\n          console.log(\"error\", error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"ClinicalImpressions\", recordId: result});\n          Session.set('clinicalImpressionPageTabIndex', 1);\n          Session.set('selectedClinicalImpression', false);\n          Session.set('clinicalImpressionUpsert', false);\n          Bert.alert('ClinicalImpression added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('clinicalImpressionPageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    ClinicalImpression.remove({_id: Session.get('selectedClinicalImpression')}, function(error, result){\n      if (error) {\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"ClinicalImpressions\", recordId: Session.get('selectedClinicalImpression')});\n        Session.set('clinicalImpressionPageTabIndex', 1);\n        Session.set('selectedClinicalImpression', false);\n        Session.set('clinicalImpressionUpsert', false);\n        Bert.alert('ClinicalImpression removed!', 'success');\n      }\n    });\n  }\n}\n\n\nClinicalImpressionDetail.propTypes = {\n  hasUser: PropTypes.object\n};\nReactMixin(ClinicalImpressionDetail.prototype, ReactMeteorData);","import { CardText, CardTitle } from 'material-ui/Card';\nimport {Tab, Tabs} from 'material-ui/Tabs';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport ClinicalImpressionDetail from './ClinicalImpressionDetail';\nimport ClinicalImpressionsTable from './ClinicalImpressionsTable';\n\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nexport class ClinicalImpressionsPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('clinicalImpressionPageTabIndex'),\n      clinicalImpressionSearchFilter: Session.get('clinicalImpressionSearchFilter'),\n      currentClinicalImpression: Session.get('selectedClinicalImpression')\n    };\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('clinicalImpressionPageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedClinicalImpression', false);\n    Session.set('clinicalImpressionUpsert', false);\n  }\n\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('In ClinicalImpressionsPage render');\n    return (\n      <div id='clinicalImpressionsPage'>\n        <VerticalCanvas>\n          <GlassCard height='auto'>\n            <CardTitle title='ClinicalImpressions' />\n            <CardText>\n              <Tabs id=\"clinicalImpressionsPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n               <Tab className='newClinicalImpressionTab' label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0}>\n                 <ClinicalImpressionDetail id='newClinicalImpression' />\n               </Tab>\n               <Tab className=\"clinicalImpressionListTab\" label='ClinicalImpressions' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                <ClinicalImpressionsTable />\n               </Tab>\n               <Tab className=\"clinicalImpressionDetailsTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                 <ClinicalImpressionDetail \n                  id='clinicalImpressionDetails'\n                  showDatePicker={true} \n                 />\n               </Tab>\n             </Tabs>\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\nReactMixin(ClinicalImpressionsPage.prototype, ReactMeteorData);\n\nexport default ClinicalImpressionsPage;","import { Card, CardActions, CardMedia, CardText, CardTitle } from 'material-ui/Card';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\nimport Toggle from 'material-ui/Toggle';\n\nexport default class ClinicalImpressionsTable extends React.Component {\n\n  getMeteorData() {\n\n    // this should all be handled by props\n    // or a mixin!\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity')\n      },\n      selected: [],\n      clinicalImpressions: [],\n      displayToggle: false,\n      displayDates: false\n    }\n\n    if(this.props.displayToggles){\n      data.displayToggle = this.props.displayToggles;\n    }\n    if(this.props.displayDates){\n      data.displayDates = this.props.displayDates;\n    }\n    if(this.props.data){\n      data.clinicalImpressions = this.props.data;\n    } else {\n      if(ClinicalImpressions.find().count() > 0){\n        data.clinicalImpressions = ClinicalImpressions.find().fetch();\n      }  \n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"ClinicalImpressionsTable[data]\", data);\n    return data;\n  };\n\n  renderTogglesHeader(displayToggle){\n    if (displayToggle) {\n      return (\n        <th className=\"toggle\">toggle</th>\n      );\n    }\n  }\n  renderToggles(displayToggle, patientId ){\n    if (displayToggle) {\n      return (\n        <td className=\"toggle\">\n            <Toggle\n              defaultToggled={true}\n              //style={styles.toggle}\n            />\n          </td>\n      );\n    }\n  }\n  renderDateHeader(displayDates){\n    if (displayDates) {\n      return (\n        <th className='date'>date</th>\n      );\n    }\n  }\n  renderDate(displayDates, newDate ){\n    if (displayDates) {\n      return (\n        <td className='date'>{ moment(newDate).format('YYYY-MM-DD') }</td>\n      );\n    }\n  }\n  rowClick(id){\n    Session.set('clinicalImpressionsUpsert', false);\n    Session.set('selectedClinicalImpression', id);\n    Session.set('clinicalImpressionPageTabIndex', 2);\n  };\n  render () {\n    let tableRows = [];\n    for (var i = 0; i < this.data.clinicalImpressions.length; i++) {\n      var newRow = {\n        identifier: '',\n        status: '',\n        code: ''        \n      };\n      if (this.data.clinicalImpressions[i]){\n        if(this.data.clinicalImpressions[i].identifier){\n          newRow.identifier = this.data.clinicalImpressions[i].identifier[0].value;\n        }\n        if(this.data.clinicalImpressions[i].code && this.data.clinicalImpressions[i].code.text){\n          newRow.code = this.data.clinicalImpressions[i].code.text;\n        }     \n        if(this.data.clinicalImpressions[i].status){\n          newRow.status = this.data.clinicalImpressions[i].status;\n        }\n      }\n\n      tableRows.push(\n        <tr key={i} className=\"clinicalImpressionRow\" style={{cursor: \"pointer\"}} onClick={ this.rowClick.bind('this', this.data.clinicalImpressions[i]._id)} >\n          { this.renderToggles(this.data.displayToggle, this.data.clinicalImpressions[i]) }\n          <td className='identifier'>{ newRow.identifier }</td>\n          <td className='code'>{ newRow.code }</td>\n          <td className='status'>{ newRow.status }</td>\n          { this.renderDate(this.data.displayDates, this.data.clinicalImpressions[i].performedDateTime) }\n        </tr>\n      )\n    }\n\n    return(\n      <Table id='clinicalImpressionsTable' hover >\n        <thead>\n          <tr>\n            { this.renderTogglesHeader(this.data.displayToggle) }\n            <th className='identifier'>identifier</th>\n            <th className='code'>code</th>\n            <th className='status'>status</th>\n            { this.renderDateHeader(this.data.displayDates) }\n          </tr>\n        </thead>\n        <tbody>\n          { tableRows }\n        </tbody>\n      </Table>\n    );\n  }\n}\n\n\nReactMixin(ClinicalImpressionsTable.prototype, ReactMeteorData);"]}