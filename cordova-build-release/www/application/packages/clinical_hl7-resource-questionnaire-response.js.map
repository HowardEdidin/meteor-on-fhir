{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-questionnaire-response/lib/QuestionnaireResponses.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-questionnaire-response/lib/methods.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-questionnaire-response/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-questionnaire-response/client/QuestionnaireResponseDetail.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-questionnaire-response/client/QuestionnaireResponseTable.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-questionnaire-response/client/QuestionnaireResponsesPage.jsx"],"names":["BaseModel","module","link","v","Mongo","SimpleSchema","BaseSchema","DomainResourceSchema","QuantitySchema","CodingSchema","AttachmentSchema","IdentifierSchema","ReferenceSchema","Package","console","log","QuestionnaireResponse","extend","prototype","_collection","QuestionnaireResponses","Collection","_transform","document","QuestionnaireResponseSchema","type","String","defaultValue","optional","Array","Date","Object","Boolean","Number","attachSchema","insertUnique","record","findOne","_id","collectionConfig","Meteor","isClient","validate","filter","questionnaireResponseId","insert","exportDefault","get","methods","newResponse","validation","error","result","check","remove","export","AdminSidebarElements","SidebarElements","DynamicRoutes","QuestionnaireResponsesPage","QuestionnaireResponseTable","QuestionnaireResponseDetail","CardActions","CardText","RaisedButton","TextField","find","Bert","React","ReactMeteorData","ReactMixin","Session","copyFileSync","setDefault","getMeteorData","data","questionnaireResponse","originalQuestionnaire","originalQuestionnaireId","props","currentQuestionnaireResponse","split","Questionnaires","id","process","env","NODE_ENV","render","inputs","items","forEach","item","linkId","push","determineButtons","handleSaveButton","bind","marginRight","handleDeleteButton","changeState","field","event","value","questionnaireResponseUpdate","birthDate","resourceType","update","$set","alert","reason","HipaaLogger","logEvent","eventType","userId","userName","user","fullName","collectionName","recordId","set","handleCancelButton","Component","Avatar","FlatButton","HTTP","Table","has","TableNoData","PropTypes","flattenQuestionnaireResponse","title","identifier","questionnaire","status","subject","encounter","author","date","moment","authored","add","format","style","hideOnPhone","visibility","display","cellHideOnPhone","paddingTop","maxWidth","cell","avatar","backgroundColor","userSelect","borderRadius","height","width","selected","patients","query","options","limit","length","patient","map","imgError","avatarId","refs","src","absoluteUrl","rowClick","renderRowAvatarHeader","showAvatars","renderRowAvatar","avatarStyle","photo","renderSendButtonHeader","showSendButton","renderSendButton","onSend","i","httpEndpoint","post","selectQuestionnaireResponseRow","responseId","onRowClick","tableRows","footer","noDataPadding","cursor","minWidth","CardTitle","Tab","Tabs","Glass","GlassCard","VerticalCanvas","defaultQuestionnaireResponse","index","username","email","given","family","gender","opacity","tab","borderBottom","borderRight","tabIndex","questionnaireResponseSearchFilter","blur","appbar","darkroom","handleTabChange","onNewTab","handleActive"],"mappings":"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","file":"/packages/clinical_hl7-resource-questionnaire-response.js","sourcesContent":["import { BaseModel } from 'meteor/clinical:base-model';\nimport { Mongo } from 'meteor/mongo';\nimport SimpleSchema from 'simpl-schema';\nimport { BaseSchema, DomainResourceSchema, QuantitySchema, CodingSchema, AttachmentSchema, IdentifierSchema, ReferenceSchema } from 'meteor/clinical:hl7-resource-datatypes';\n\n\nif(Package['clinical:autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  Your app has the 'clinical-autopublish' package installed.\");\n  console.log(\"Any protected health information (PHI) stored in this app should be audited.\"); \n  console.log(\"Please consider writing secure publish/subscribe functions and uninstalling.\");  \n  console.log(\"\");  \n  console.log(\"meteor remove clinical:autopublish\");  \n  console.log(\"\");  \n}\nif(Package['autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  DO NOT STORE PROTECTED HEALTH INFORMATION IN THIS APP. \");  \n  console.log(\"Your application has the 'autopublish' package installed.  Please uninstall.\");\n  console.log(\"\");  \n  console.log(\"meteor remove autopublish\");  \n  console.log(\"meteor add clinical:autopublish\");  \n  console.log(\"\");  \n}\n\n\n\n\n\n\n// create the object using our BaseModel\nQuestionnaireResponse = BaseModel.extend();\n\n//Assign a collection so the object knows how to perform CRUD operations\nQuestionnaireResponse.prototype._collection = QuestionnaireResponses;\n\n// Create a persistent data store for addresses to be stored.\n// HL7.Resources.Patients = new Mongo.Collection('HL7.Resources.Patients');\n\nif(typeof QuestionnaireResponses === 'undefined'){\n  // if(Package['autopublish']){\n  //   QuestionnaireResponses = new Mongo.Collection('QuestionnaireResponses');\n  // } else if(Package['clinical:autopublish']){    \n  //   QuestionnaireResponses = new Mongo.Collection('QuestionnaireResponses');\n  // } else if(Package['clinical:desktop-publish']){    \n  //   QuestionnaireResponses = new Mongo.Collection('QuestionnaireResponses');\n  // } else {\n  //   QuestionnaireResponses = new Mongo.Collection('QuestionnaireResponses', {connection: null});\n  // }\n  QuestionnaireResponses = new Mongo.Collection('QuestionnaireResponses');\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nQuestionnaireResponses._transform = function (document) {\n  return new QuestionnaireResponse(document);\n};\n\n\n\nQuestionnaireResponseSchema = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"QuestionnaireResponse\"\n    },\n  \"id\" : {\n    optional: true,\n    type: String\n    },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"basedOn\" : {\n    optional: true,\n    type:  Array\n    },\n  \"basedOn.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"partOf\" : {\n    optional: true,\n    type:  Array\n    },\n  \"partOf.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"questionnaire\" : {\n    optional: true,\n    type: ReferenceSchema //Questionnaire\n    },\n  \"status\" : {\n    optional: true,\n    type: String\n    },\n  \"subject\" : {\n    optional: true,\n    type: ReferenceSchema // Any\n    },\n  \"encounter\" : {\n    optional: true,\n    type: ReferenceSchema //(Encounter)\n    },\n  \"author\" : {\n    optional: true,\n    type: ReferenceSchema // (Device|Practitioner|Patient|RelatedPerson)\n    },\n  \"authored\" : {\n    optional: true,\n    type: Date\n    },\n  \"source\" : {\n    optional: true,\n    type: ReferenceSchema //(Patient|Practitioner|RelatedPerson)\n    },\n  \"item\" : {\n    optional: true,\n    type: Array\n    },\n  \"item.$\" : {\n    optional: true,\n    type: Object\n    },\n  \"item.$.linkId\" : {\n    optional: true,\n    type: String\n    },\n  \"item.$.definition\" : {\n    optional: true,\n    type: String\n    },\n  \"item.$.text\" : {\n    optional: true,\n    type: String\n    },\n  \"item.$.answer\" : {\n    optional: true,\n    type: Array\n    },\n  \"item.$.answer.$\" : {\n    optional: true,\n    type: Object\n    },\n  \"item.$.answer.$.valueBoolean\" : {\n    optional: true,\n    type: Boolean\n    },\n  \"item.$.answer.$.valueDecimal\" : {\n    optional: true,\n    type: Number\n    },\n  \"item.$.answer.$.valueInteger\" : {\n    optional: true,\n    type: Number\n    },\n  \"item.$.answer.$.valueDate\" : {\n    optional: true,\n    type: Date\n    },\n  \"item.$.answer.$.valueDateTime\" : {\n    optional: true,\n    type: Date\n    },\n  \"item.$.answer.$.valueTime\" : {\n    optional: true,\n    type: Date\n    },\n  \"item.$.answer.$.valueString\" : {\n    optional: true,\n    type: String\n    },\n  \"item.$.answer.$.valueUri\" : {\n    optional: true,\n    type: String\n    },\n  \"item.$.answer.$.valueAttachment\" : {\n    optional: true,\n    type: AttachmentSchema\n    },\n  \"item.$.answer.$.valueCoding\" : {\n    optional: true,\n    type: CodingSchema\n    },\n  \"item.$.answer.$.valueQuantity\" : {\n    optional: true,\n    type: QuantitySchema\n    },\n  \"item.$.answer.$.valueReference\" : {\n    optional: true,\n    type: ReferenceSchema\n    }                                                                                                                                \n});\n\nBaseSchema.extend(QuestionnaireResponseSchema);\nDomainResourceSchema.extend(QuestionnaireResponseSchema);\n\nQuestionnaireResponses.attachSchema(QuestionnaireResponseSchema);\n\nQuestionnaireResponses.insertUnique = function (record) {\n  console.log(\"QuestionnaireResponses.insertUnique()\");\n\n  if(!QuestionnaireResponses.findOne(record._id)){    \n    let collectionConfig = {};\n    if(Meteor.isClient){\n      collectionConfig = { validate: false, filter: false }\n    }\n    let questionnaireResponseId = QuestionnaireResponses.insert(record, collectionConfig);    \n    console.log('QuestionnaireResponses created: ' + questionnaireResponseId);\n    return questionnaireResponseId;\n  }\n};\n\n\n\nexport default { QuestionnaireResponse, QuestionnaireResponses, QuestionnaireResponseSchema };","import { get } from 'lodash';\n\nMeteor.methods({\n    'QuestionnaireResponse/initialize': function(){\n        console.log('QuestionnaireResponse/initialize')\n        let newResponse = {\n            \"resourceType\": \"QuestionnaireResponse\",\n            \"id\": \"3141\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n      <pre>\\n            Comorbidity? YES\\n              Cardial Comorbidity? YES\\n                Angina? YES\\n                MI? NO\\n              Vascular Comorbidity?\\n                (no answers)\\n              ...\\n            Histopathology\\n              Abdominal\\n                pT category: 1a\\n              ...\\n          </pre>\\n    </div>\"\n            },\n            \"contained\": [\n              {\n                \"resourceType\": \"Patient\",\n                \"id\": \"patsub\",\n                \"identifier\": [\n                  {\n                    \"system\": \"http://cancer.questionnaire.org/systems/id/patientnr\",\n                    \"value\": \"A34442332\"\n                  },\n                  {\n                    \"type\": {\n                      \"text\": \"Dutch BSN\"\n                    },\n                    \"system\": \"urn:oid:2.16.840.1.113883.2.4.6.3\",\n                    \"value\": \"188912345\"\n                  }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1972-11-30\"\n              },\n              {\n                \"resourceType\": \"ServiceRequest\",\n                \"id\": \"order\",\n                \"status\": \"unknown\",\n                \"intent\": \"order\",\n                \"subject\": {\n                  \"reference\": \"#patsub\"\n                },\n                \"requester\": {\n                  \"reference\": \"Practitioner/example\"\n                }\n              },\n              {\n                \"resourceType\": \"Practitioner\",\n                \"id\": \"questauth\",\n                \"identifier\": [\n                  {\n                    \"type\": {\n                      \"text\": \"AUMC, Den Helder\"\n                    },\n                    \"system\": \"http://cancer.questionnaire.org/systems/id/org\",\n                    \"value\": \"AUMC\"\n                  }\n                ]\n              }\n            ],\n            \"identifier\": {\n              \"system\": \"http://example.org/fhir/NamingSystem/questionnaire-ids\",\n              \"value\": \"Q12349876\"\n            },\n            \"basedOn\": [\n              {\n                \"reference\": \"#order\"\n              }\n            ],\n            \"partOf\": [\n              {\n                \"reference\": \"Procedure/f201\"\n              }\n            ],\n            \"status\": \"completed\",\n            \"subject\": {\n              \"reference\": \"#patsub\"\n            },\n            \"encounter\": {\n              \"reference\": \"Encounter/example\"\n            },\n            \"questionnaire\": {\n              \"reference\": \"Questionnaire/3141\"\n            },\n            \"authored\": \"2013-02-19T14:15:00-05:00\",\n            \"author\": {\n              \"reference\": \"#questauth\"\n            },\n            \"item\": [\n              {\n                \"linkId\": \"1\",\n                \"item\": [\n                  {\n                    \"linkId\": \"1.1\",\n                    \"answer\": [\n                      {\n                        \"valueCoding\": {\n                          \"system\": \"http://cancer.questionnaire.org/system/code/yesno\",\n                          \"code\": \"1\",\n                          \"display\": \"Yes\"\n                        },\n                        \"item\": [\n                          {\n                            \"linkId\": \"1.1.1\",\n                            \"item\": [\n                              {\n                                \"linkId\": \"1.1.1.1\",\n                                \"answer\": [\n                                  {\n                                    \"valueCoding\": {\n                                      \"system\": \"http://cancer.questionnaire.org/system/code/yesno\",\n                                      \"code\": \"1\"\n                                    }\n                                  }\n                                ]\n                              },\n                              {\n                                \"linkId\": \"1.1.1.2\",\n                                \"answer\": [\n                                  {\n                                    \"valueCoding\": {\n                                      \"system\": \"http://cancer.questionnaire.org/system/code/yesno\",\n                                      \"code\": \"1\"\n                                    }\n                                  }\n                                ]\n                              },\n                              {\n                                \"linkId\": \"1.1.1.3\",\n                                \"answer\": [\n                                  {\n                                    \"valueCoding\": {\n                                      \"system\": \"http://cancer.questionnaire.org/system/code/yesno\",\n                                      \"code\": \"0\"\n                                    }\n                                  }\n                                ]\n                              }\n                            ]\n                          }\n                        ]\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          };\n          \n        //Meteor.call('QuestionnaireResponse/create', newResponse)        \n        QuestionnaireResponses.insert(newResponse, {validation: false, filter: false}, function(error, result){\n          if(error) console.log(error)\n        });  \n  }, \n    'QuestionnaireResponse/create': function(newResponse){\n        console.log('QuestionnaireResponse/create', newResponse);\n        check(newResponse, Object);\n        QuestionnaireResponses.insert(newResponse, {validation: false, filter: false}, function(error, result){\n          if(error) console.log(error)\n        });\n    }, \n    'QuestionnaireResponse/drop': function(){\n        console.log('QuestionnaireResponse/drop')\n        QuestionnaireResponses.remove({});\n    }\n})","\n\nimport QuestionnaireResponsesPage from './client/QuestionnaireResponsesPage';\nimport QuestionnaireResponseTable from './client/QuestionnaireResponseTable';\nimport QuestionnaireResponseDetail from './client/QuestionnaireResponseDetail';\n\nvar DynamicRoutes = [{\n  'name': 'QuestionnaireResponsePage',\n  'path': '/questionnaire-responses',\n  'component': QuestionnaireResponsesPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'QuestionnaireResponses',\n  'to': '/questionnaire-responses',\n  'href': '/questionnaire-responses'\n}];\nvar AdminSidebarElements = [{\n  'primaryText': 'QuestionnaireResponses',\n  'to': '/questionnaire-responses',\n  'href': '/questionnaire-responses'\n}];\n\nexport { \n  AdminSidebarElements,\n  SidebarElements, \n  DynamicRoutes, \n\n  QuestionnaireResponsesPage,\n  QuestionnaireResponseTable,\n  QuestionnaireResponseDetail\n};\n\n\n","import { CardActions, CardText, RaisedButton, TextField } from 'material-ui';\nimport { get, find } from 'lodash';\n\nimport { Bert } from 'meteor/clinical:alert';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { Session } from 'meteor/session';\nimport { copyFileSync } from 'fs';\n\n\n\n\nSession.setDefault('questionnaireResponseUpsert', false);\nSession.setDefault('selectedQuestionnaireResponse', false);\n\nexport class QuestionnaireResponseDetail extends React.Component {\n  getMeteorData() {\n    let data = {\n      questionnaireResponseId: false,\n      questionnaireResponse: null,\n      originalQuestionnaire: null,\n      originalQuestionnaireId: false\n    };\n\n    if(this.props.currentQuestionnaireResponse){\n      data.questionnaireResponse = this.props.currentQuestionnaireResponse;\n\n      if(get(this, 'props.currentQuestionnaireResponse.questionnaire.reference')){\n        data.originalQuestionnaireId = get(this, 'props.currentQuestionnaireResponse.questionnaire.reference');\n        data.originalQuestionnaireId = data.originalQuestionnaireId.split('/')[1];\n        data.originalQuestionnaire = Questionnaires.findOne({id: data.originalQuestionnaireId});\n      }\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"QuestionnaireResponseDetail[data]\", data);\n    return data;\n  }\n\n  render() {\n\n    console.log('QuestionnaireResponseDetail.this.data', this.data);\n\n    let inputs = [];    \n    let items = get(this, 'data.questionnaireResponse.item', []);\n\n    console.log('QuestionnaireResponseDetail.items', items);\n\n    items.forEach(function(item){\n      console.log('item', item)\n      console.log('item.linkId', item.linkId)\n\n      inputs.push(<TextField\n        id={ get(item, 'linkId') + '_question'}\n        key={ get(item, 'linkId') + '_key'}\n        name={ get(item, 'linkId') + '_name'}\n        value={ get(item, 'answer[0].valueCoding.code', '')}\n        floatingLabelText={ get(item, 'text') + '_key'}\n        //onChange={ this.changeState.bind(this, 'name')}\n        fullWidth\n      />)        \n  })\n    \n    return (\n      <div id={this.props.id} key={this.props.id} className=\"questionnaireResponseDetail\">\n        <CardText>\n          { inputs }\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.questionnaireResponseId) }\n        </CardActions>\n      </div>\n    );\n  }\n  determineButtons(questionnaireResponseId){\n    if (questionnaireResponseId) {\n      return (\n        <div>\n          <RaisedButton id='saveQuestionnaireResponseButton' className='saveQuestionnaireResponseButton' label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}} />\n          <RaisedButton label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id='saveQuestionnaireResponseButton'  className='saveQuestionnaireResponseButton' label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n  changeState(field, event, value){\n    console.log(\"questionnaireResponseDetail.changeState\", field, event, value);\n  }\n\n\n  // this could be a mixin\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('handleSaveButton()');\n    let questionnaireResponseUpdate = Session.get('questionnaireResponseUpsert', questionnaireResponseUpdate);\n\n\n    if (questionnaireResponseUpdate.birthDate) {\n      questionnaireResponseUpdate.birthDate = new Date(questionnaireResponseUpdate.birthDate);\n    }\n    if(process.env.NODE_ENV === \"test\") console.log(\"questionnaireResponseUpdate\", questionnaireResponseUpdate);\n\n    if (Session.get('selectedQuestionnaireResponse')) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating questionnaireResponse...\");\n\n      delete questionnaireResponseUpdate._id;\n\n      // not sure why we're having to respecify this; fix for a bug elsewhere\n      questionnaireResponseUpdate.resourceType = 'QuestionnaireResponse';\n\n      QuestionnaireResponses.update({_id: Session.get('selectedQuestionnaireResponse')}, {$set: questionnaireResponseUpdate }, function(error, result){\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"QuestionnaireResponses.insert[error]\", error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"QuestionnaireResponses\", recordId: Session.get('selectedQuestionnaireResponse')});\n          // Session.set('questionnaireResponseUpdate', defaultQuestionnaireResponse);\n          Session.set('questionnaireResponseUpsert', false);\n          Session.set('selectedQuestionnaireResponse', false);\n          Session.set('questionnaireResponsePageTabIndex', 1);\n          Bert.alert('QuestionnaireResponse added!', 'success');\n        }\n      });\n    } else {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Creating a new questionnaireResponse...\", questionnaireResponseUpdate);\n\n      QuestionnaireResponses.insert(questionnaireResponseUpdate, function(error, result) {\n        if (error) {\n          if(process.env.NODE_ENV === \"test\")  console.log('QuestionnaireResponses.insert[error]', error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"QuestionnaireResponses\", recordId: result});\n          Session.set('questionnaireResponsePageTabIndex', 1);\n          Session.set('selectedQuestionnaireResponse', false);\n          Session.set('questionnaireResponseUpsert', false);\n          Bert.alert('QuestionnaireResponse added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('questionnaireResponsePageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    QuestionnaireResponses.remove({_id: Session.get('selectedQuestionnaireResponse')}, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log('QuestionnaireResponses.insert[error]', error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"QuestionnaireResponses\", recordId: Session.get('selectedQuestionnaireResponse')});\n        // Session.set('questionnaireResponseUpdate', defaultQuestionnaireResponse);\n        Session.set('questionnaireResponseUpsert', false);\n        Session.set('questionnaireResponsePageTabIndex', 1);\n        Session.set('selectedQuestionnaireResponse', false);\n        Bert.alert('QuestionnaireResponse removed!', 'success');\n      }\n    });\n  }\n}\n\n\nReactMixin(QuestionnaireResponseDetail.prototype, ReactMeteorData);\nexport default QuestionnaireResponseDetail;","import Avatar from 'material-ui/Avatar';\nimport FlatButton from 'material-ui/FlatButton';\nimport { HTTP } from 'meteor/http';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\nimport { Session } from 'meteor/session';\nimport { has, get } from 'lodash';\nimport { TableNoData } from 'meteor/clinical:glass-ui'\nimport PropTypes from 'prop-types';\n\nflattenQuestionnaireResponse = function(questionnaireResponse){\n  let result = {\n    _id: questionnaireResponse._id,\n    title: '',\n    identifier: '',\n    questionnaire: '',\n    status: '',\n    subject: '',\n    encounter: '',\n    author: '',\n    date: ''\n  };\n\n\n  // there's an off-by-1 error between momment() and Date() that we want\n  // to account for when converting back to a string\n  result.date = moment(questionnaireResponse.authored).add(1, 'days').format(\"YYYY-MM-DD\")\n  result.questionnaire = get(questionnaireResponse, 'questionnaire.reference', '');\n  result.encounter = get(questionnaireResponse, 'encounter.reference', '');\n  result.subject = get(questionnaireResponse, 'subject.reference', '');\n  result.author = get(questionnaireResponse, 'author.reference', '');\n  result.identifier = get(questionnaireResponse, 'identifier[0].value', '');\n  result.status = get(questionnaireResponse, 'status', '');\n\n  return result;\n}\n\nexport class QuestionnaireResponseTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getMeteorData() {\n    let data = {\n      style: {\n        hideOnPhone: {\n          visibility: 'visible',\n          display: 'table'\n        },\n        cellHideOnPhone: {\n          visibility: 'visible',\n          display: 'table',\n          paddingTop: '16px',\n          maxWidth: '120px'\n        },\n        cell: {\n          paddingTop: '16px'\n        },\n        avatar: {\n          // color: rgb(255, 255, 255);\n          backgroundColor: 'rgb(188, 188, 188)',\n          userSelect: 'none',\n          borderRadius: '2px',\n          height: '40px',\n          width: '40px'\n        }\n      },\n      selected: [],\n      patients: []\n    };\n\n    let query = {};\n    let options = {};\n\n    // number of items in the table should be set globally\n    if (get(Meteor, 'settings.public.defaults.paginationLimit')) {\n      options.limit = get(Meteor, 'settings.public.defaults.paginationLimit');\n    }\n    // but can be over-ridden by props being more explicit\n    if(this.props.limit){\n      options.limit = this.props.limit;      \n    }\n\n    if(this.props.data){\n      // console.log('this.props.data', this.props.data);\n\n      if(this.props.data.length > 0){              \n        this.props.data.forEach(function(patient){\n          data.patients.push(flattenQuestionnaireResponse(patient));\n        });  \n      }\n    } else {\n      data.patients = QuestionnaireResponses.find().map(function(patient){\n        return flattenQuestionnaireResponse(patient);\n      });\n    }\n\n\n    // console.log(\"QuestionnaireResponseTable[data]\", data);\n    return data;\n  }\n  imgError(avatarId) {\n    this.refs[avatarId].src = Meteor.absoluteUrl() + 'noAvatar.png';\n  }\n  rowClick(id){\n    Session.set('patientsUpsert', false);\n    Session.set('selectedQuestionnaireResponse', id);\n    Session.set('patientPageTabIndex', 2);\n  }\n  renderRowAvatarHeader(){\n    if (get(Meteor, 'settings.public.defaults.avatars') && (this.props.showAvatars === true)) {\n      return (\n        <th className='avatar'>photo</th>\n      );\n    }\n  }\n  renderRowAvatar(patient, avatarStyle){\n    // console.log('renderRowAvatar', patient, avatarStyle)\n    if (get(Meteor, 'settings.public.defaults.avatars') && (this.props.showAvatars === true)) {\n      return (\n        <td className='avatar'>\n          <img src={patient.photo} ref={patient._id} onError={ this.imgError.bind(this, patient._id) } style={avatarStyle}/>\n        </td>\n      );\n    }\n  }\n  renderSendButtonHeader(){\n    if (this.props.showSendButton === true) {\n      return (\n        <th className='sendButton' style={this.data.style.hideOnPhone}></th>\n      );\n    }\n  }\n  renderSendButton(patient, avatarStyle){\n    if (this.props.showSendButton === true) {\n      return (\n        <td className='sendButton' style={this.data.style.hideOnPhone}>\n          <FlatButton label=\"send\" onClick={this.onSend.bind('this', this.data.patients[i]._id)}/>\n        </td>\n      );\n    }\n  }\n  onSend(id){\n    let patient = QuestionnaireResponses.findOne({_id: id});\n\n    console.log(\"QuestionnaireResponseTable.onSend()\", patient);\n\n    var httpEndpoint = \"http://localhost:8080\";\n    if (get(Meteor, 'settings.public.interfaces.default.channel.endpoint')) {\n      httpEndpoint = get(Meteor, 'settings.public.interfaces.default.channel.endpoint');\n    }\n    HTTP.post(httpEndpoint + '/QuestionnaireResponse', {\n      data: patient\n    }, function(error, result){\n      if (error) {\n        console.log(\"error\", error);\n      }\n      if (result) {\n        console.log(\"result\", result);\n      }\n    });\n  }\n  selectQuestionnaireResponseRow(responseId){\n    if(typeof(this.props.onRowClick) === \"function\"){\n      this.props.onRowClick(responseId);\n    }\n  }\n  render () {\n    let tableRows = [];\n    let footer;\n\n    if(this.data.patients.length === 0){\n      footer = <TableNoData noDataPadding={ this.props.noDataPadding } />\n    } else {\n      for (var i = 0; i < this.data.patients.length; i++) {\n        tableRows.push(\n          <tr key={i} className=\"patientRow\" style={{cursor: \"pointer\"}} onClick={this.selectQuestionnaireResponseRow.bind(this, this.data.patients[i]._id )} >\n  \n            <td className='identifier' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={this.data.style.cell}>{this.data.patients[i].identifier }</td>\n            {/* <td className='title' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={this.data.style.cell}>{this.data.patients[i].title }</td> */}\n            <td className='questionnaire' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={this.data.style.cell}>{this.data.patients[i].questionnaire }</td>\n            {/* <td className='encounter' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={this.data.style.cell}>{this.data.patients[i].encounter }</td> */}\n            <td className='subject' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={this.data.style.cell}>{this.data.patients[i].subject }</td>\n            <td className='status' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={this.data.style.cell}>{this.data.patients[i].status }</td>\n            <td className='date' onClick={ this.rowClick.bind('this', this.data.patients[i]._id)} style={{minWidth: '100px', paddingTop: '16px'}}>{this.data.patients[i].date }</td>\n          </tr>\n        );\n      }\n    }\n    \n\n\n    return(\n      <div>\n        <Table id='patientsTable' hover >\n          <thead>\n            <tr>\n              <th className='identifier'>Identifier</th>\n              {/* <th className='title'>Title</th> */}\n              {/* <th className='author'>Author</th> */}\n              <th className='questionnaire'>Questionnaire</th>\n              {/* <th className='encounter'>Encounter</th> */}\n              <th className='subject'>Subject</th>\n              <th className='status'>Status</th>\n              <th className='date' style={{minWidth: '100px'}}>Date</th>\n            </tr>\n          </thead>\n          <tbody>\n            { tableRows }\n          </tbody>\n        </Table>\n        { footer }\n      </div>\n    );\n  }\n}\n\n\nReactMixin(QuestionnaireResponseTable.prototype, ReactMeteorData);\nexport default QuestionnaireResponseTable;","import { CardText, CardTitle } from 'material-ui';\nimport { Tab, Tabs } from 'material-ui/Tabs';\nimport { Glass, GlassCard, VerticalCanvas } from 'meteor/clinical:glass-ui';\n\nimport QuestionnaireResponseDetail from './QuestionnaireResponseDetail';\nimport QuestionnaireResponseTable from './QuestionnaireResponseTable';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\n\nimport { Session } from 'meteor/session';\n\nlet defaultQuestionnaireResponse = {\n  index: 2,\n  id: '',\n  username: '',\n  email: '',\n  given: '',\n  family: '',\n  gender: ''\n};\nSession.setDefault('questionnaireResponseFormData', defaultQuestionnaireResponse);\nSession.setDefault('questionnaireResponseSearchFilter', '');\n\nexport class QuestionnaireResponsesPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('questionnaireResponsePageTabIndex'),\n      questionnaireResponse: defaultQuestionnaireResponse,\n      questionnaireResponseId: Session.get('selectedQuestionnaireResponse'),\n      questionnaireResponseSearchFilter: '',\n      currentQuestionnaireResponse: null\n    };\n\n    if (Session.get('questionnaireResponseFormData')) {\n      data.questionnaireResponse = Session.get('questionnaireResponseFormData');\n    }\n    if (Session.get('questionnaireResponseSearchFilter')) {\n      data.questionnaireResponseSearchFilter = Session.get('questionnaireResponseSearchFilter');\n    }\n    if (Session.get(\"selectedQuestionnaireResponse\")) {\n      data.currentQuestionnaireResponse = QuestionnaireResponses.findOne(Session.get(\"selectedQuestionnaireResponse\"));\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    //if(process.env.NODE_ENV === \"test\") \n    console.log(\"QuestionnaireResponsesPage[data]\", data);\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('questionnaireResponsePageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedQuestionnaireResponse', false);\n    Session.set('questionnaireResponseUpsert', false);\n  }\n\n  render() {\n    // console.log('React.version: ' + React.version);\n    return (\n      <div id=\"questionnaireResponsesPage\">\n        <VerticalCanvas>\n          <GlassCard height=\"auto\">\n            <CardTitle\n              title=\"Questionnaire Responses\"\n            />\n            <CardText>\n              <Tabs id='questionnaireResponsesPageTabs' default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n                 <Tab className=\"newQuestionnaireResponseTab\" label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0}>\n                   <QuestionnaireResponseDetail id='newQuestionnaireResponse' />\n                 </Tab>\n                 <Tab className=\"questionnaireResponseListTab\" label='QuestionnaireResponses' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                   <QuestionnaireResponseTable \n                    showBarcodes={true} \n                    showAvatars={true} \n                    onRowClick={function(responseId){\n                      console.log('responseId', responseId)\n                      Session.set('selectedQuestionnaireResponse', responseId)\n                      Session.set('questionnaireResponsePageTabIndex', 2)\n                    }}\n                    />\n                 </Tab>\n                 <Tab className=\"questionnaireResponseDetailTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                   <QuestionnaireResponseDetail \n                    id='questionnaireResponseDetails' \n                    currentQuestionnaireResponse={this.data.currentQuestionnaireResponse} />\n                 </Tab>\n             </Tabs>\n\n\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\n\nReactMixin(QuestionnaireResponsesPage.prototype, ReactMeteorData);\nexport default QuestionnaireResponsesPage;"]}