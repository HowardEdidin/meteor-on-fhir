{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-practitioner/lib/Practitioners.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-practitioner/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-practitioner/client/react/PractitionerDetail.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-practitioner/client/react/PractitionersPage.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-practitioner/client/react/PractitionersTable.js"],"names":["BaseModel","module","link","v","Mongo","SimpleSchema","BaseSchema","DomainResourceSchema","Package","console","log","Practitioner","extend","prototype","_collection","Practitioners","Collection","connection","_transform","document","PractitionerStu3","type","String","defaultValue","optional","Array","IdentifierSchema","Boolean","HumanNameSchema","ContactPointSchema","AddressSchema","Date","AttachmentSchema","Object","CodeableConceptSchema","PeriodSchema","ReferenceSchema","PractitionerDstu2","PractitionerSchema","attachSchema","displayName","name","text","userId","result","extension","forEach","url","valueString","fetchBundle","query","parameters","callback","practitionerArray","find","map","practitioner","id","_id","_document","Bundle","generate","toMongo","originalPractitioner","mongoRecord","process","env","TRACE","identifier","period","start","startArray","split","end","endArray","birthDate","birthdateArray","prepForUpdate","resourceType","telecom","address","contact","prepForFhirTransfer","moment","format","exportDefault","export","SidebarElements","DynamicRoutes","PractitionersPage","PractitionersTable","PractitionerDetail","Card","CardActions","CardText","CardTitle","CardHeader","Col","Grid","Row","RaisedButton","TextField","Paper","Meteor","Session","React","ReactMeteorData","ReactMixin","PropTypes","get","set","setDefault","props","state","practitionerId","system","value","use","rank","qualification","issuer","display","reference","city","postalCode","form","phone","email","qualificationIssuer","qualificationIdentifier","qualificationCode","qualificationStart","qualificationEnd","dehydrateFhirResource","formData","assign","telecomArray","telecomRecord","shouldComponentUpdate","nextProps","NODE_ENV","shouldUpdate","setState","getMeteorData","data","render","changeState","bind","displayQualifications","determineButtons","borderLeft","marginLeft","marginRight","marginTop","marginBottom","blockchainData","handleSaveButton","handleDeleteButton","updateFormData","field","textValue","updatePractitioner","practitionerData","event","self","fhirPractitionerData","practitionerValidator","newContext","validate","isValid","update","$set","error","Bert","alert","reason","HipaaLogger","logEvent","eventType","userName","user","fullName","collectionName","recordId","insert","handleCancelButton","remove","Component","propTypes","string","fhirVersion","oneOfType","bool","object","Tab","Tabs","GlassCard","VerticalCanvas","Glass","style","opacity","tab","borderBottom","borderRight","tabIndex","practitionerSearchFilter","selectedPractitionerId","selectedPractitioner","findOne","blur","appbar","darkroom","handleTabChange","index","onNewTab","DEBUG","blockchainTab","handleActive","Avatar","Table","flattenPractitioner","qualificationId","row","selected","practitioners","options","limit","length","push","rowClick","tableRows","i"],"mappings":"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","file":"/packages/clinical_hl7-resource-practitioner.js","sourcesContent":["if(Package['clinical:autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  Your app has the 'clinical-autopublish' package installed.\");\n  console.log(\"Any protected health information (PHI) stored in this app should be audited.\"); \n  console.log(\"Please consider writing secure publish/subscribe functions and uninstalling.\");  \n  console.log(\"\");  \n  console.log(\"meteor remove clinical:autopublish\");  \n  console.log(\"\");  \n}\nif(Package['autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  DO NOT STORE PROTECTED HEALTH INFORMATION IN THIS APP. \");  \n  console.log(\"Your application has the 'autopublish' package installed.  Please uninstall.\");\n  console.log(\"\");  \n  console.log(\"meteor remove autopublish\");  \n  console.log(\"meteor add clinical:autopublish\");  \n  console.log(\"\");  \n}\n\nimport { BaseModel } from 'meteor/clinical:base-model';\nimport { Mongo } from 'meteor/mongo';\nimport SimpleSchema from 'simpl-schema';\nimport { BaseSchema, DomainResourceSchema } from 'meteor/clinical:hl7-resource-datatypes';\n\n\n\n// create the object using our BaseModel\nPractitioner = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nPractitioner.prototype._collection = Practitioners;\n\n// Create a persistent data store for addresses to be stored.\n// HL7.Resources.Practitioners = new Mongo.Collection('HL7.Resources.Practitioners');\n\nif(typeof Practitioners === 'undefined'){\n  if(Package['clinical:autopublish']){\n    Practitioners = new Mongo.Collection('Practitioners');\n  } else if(Package['clinical:desktop-publish']){    \n    Practitioners = new Mongo.Collection('Practitioners');\n  } else {\n    Practitioners = new Mongo.Collection('Practitioners', {connection: null});\n  }\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nPractitioners._transform = function (document) {\n  return new Practitioner(document);\n};\n\n\n\n\nPractitionerStu3 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Practitioner\"\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"active\" : {\n    optional: true,\n    type: Boolean\n  },\n  \"name\" : {\n    optional: true,\n    type: Array\n  },\n  \"name.$\" : {\n    optional: true,\n    type:  HumanNameSchema \n  },\n  \"telecom\" : {\n    optional: true,\n    type: Array\n  },\n  \"telecom.$\" : {\n    optional: true,\n    type: ContactPointSchema \n  },\n  \"address\" : {\n    optional: true,\n    type: Array\n  },\n  \"address.$\" : {\n    optional: true,\n    type: AddressSchema \n  },\n  \"gender\" : {\n    optional: true,\n    type: String\n  },\n  \"birthDate\" : {\n    optional: true,\n    type: Date\n  },\n  \"photo\" : {\n    optional: true,\n    type: Array\n  },\n  \"photo.$\" : {\n    optional: true,\n    type: AttachmentSchema \n  },\n  \"qualification\" : {\n    optional: true,\n    type:  Array\n    },\n  \"qualification.$\" : {\n    optional: true,\n    type:  Object \n    },\n  \"qualification.$.identifier\" : {\n    optional: true,\n    type: Array\n  },\n  \"qualification.$.identifier.$\" : {\n    optional: true,\n    type: IdentifierSchema \n  },\n  \"qualification.$.code\" : {\n    type: CodeableConceptSchema\n  },\n  \"qualification.$.period\" : {\n    optional: true,\n    type: PeriodSchema\n  },\n  \"qualification.$.issuer\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  \"communication\" : {\n    optional: true,\n    type: Array\n  },\n  \"communication.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  }\n});\n\n\n\nPractitionerDstu2 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Practitioner\"\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"active\" : {\n    optional: true,\n    type: Boolean\n  },\n  \"name\" : {\n    optional: true,\n    type:  HumanNameSchema \n  },\n  \"telecom\" : {\n    optional: true,\n    type: Array\n  },\n  \"telecom.$\" : {\n    optional: true,\n    type: ContactPointSchema \n  },\n  \"address\" : {\n    optional: true,\n    type: Array\n  },\n  \"address.$\" : {\n    optional: true,\n    type: AddressSchema \n  },\n  \"gender\" : {\n    optional: true,\n    type: String\n  },\n  \"birthDate\" : {\n    optional: true,\n    type: Date\n  },\n  \"photo\" : {\n    optional: true,\n    type: Array\n  },\n  \"photo.$\" : {\n    optional: true,\n    type: AttachmentSchema \n  },\n\n  \"practitionerRole\" : {\n    optional: true,\n    type:  Array\n    },\n  \"practitionerRole.$\" : {\n    optional: true,\n    type:  Object \n    },\n  \"practitionerRole.$.managingOrganization\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"practitionerRole.$.role\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n  \"practitionerRole.$.specialty\" : {\n    optional: true,\n    type:  Array \n    },\n  \"practitionerRole.$.specialty.$\" : {\n    optional: true,\n    type:  CodeableConceptSchema \n    },\n  \"practitionerRole.$.period\" : {\n    optional: true,\n    type:  PeriodSchema \n    },\n  \"practitionerRole.$.location\" : {\n    optional: true,\n    type:  Array \n    },\n  \"practitionerRole.$.location.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },\n  \"practitionerRole.$.healthcareService\" : {\n    optional: true,\n    type:  Array \n    },\n  \"practitionerRole.$.healthcareService.$\" : {\n    optional: true,\n    type:  ReferenceSchema \n    },              \n\n  \"qualification\" : {\n    optional: true,\n    type:  Array\n    },\n  \"qualification.$\" : {\n    optional: true,\n    type:  Object \n    },\n  \"qualification.$.identifier\" : {\n    optional: true,\n    type: Array\n  },\n  \"qualification.$.identifier.$\" : {\n    optional: true,\n    type: IdentifierSchema \n  },\n  \"qualification.$.code\" : {\n    type: CodeableConceptSchema\n  },\n  \"qualification.$.period\" : {\n    optional: true,\n    type: PeriodSchema\n  },\n  \"qualification.$.issuer\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  \"communication\" : {\n    optional: true,\n    type: Array\n  },\n  \"communication.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  }\n});\n\n\nPractitionerSchema = PractitionerDstu2;\n\nBaseSchema.extend(PractitionerSchema);\nDomainResourceSchema.extend(PractitionerSchema);\n\nPractitioners.attachSchema(PractitionerSchema);\n\n\n\n/**\n * @summary The displayed name of the practitioner.\n * @memberOf Practitioner\n * @name displayName\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n * ```\n */\n\nPractitioner.prototype.displayName = function () {\n  if (this.name) {\n    return this.name.text;\n  }\n};\n\n\n\n/**\n * @summary The displayed Meteor.userId() of the practitioner.\n * @memberOf Practitioner\n * @name userId\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n * ```\n */\n\nPractitioner.prototype.userId = function () {\n  var result = null;\n  if (this.extension) {\n    this.extension.forEach(function(extension){\n      if (extension.url === \"Meteor.userId()\") {\n        result = extension.valueString;\n      }\n    });\n  }\n  return result;\n};\n\n\n\n//=================================================================\n\n\nPractitioners.fetchBundle = function (query, parameters, callback) {\n  var practitionerArray = Practitioners.find(query, parameters, callback).map(function(practitioner){\n    practitioner.id = practitioner._id;\n    delete practitioner._document;\n    return practitioner;\n  });\n\n  // console.log(\"practitionerArray\", practitionerArray);\n\n  var result = Bundle.generate(practitionerArray);\n\n  // console.log(\"result\", result.entry[0]);\n\n  return result;\n};\n\n\n/**\n * @summary This function takes a FHIR resource and prepares it for storage in Mongo.\n * @memberOf Practitioners\n * @name toMongo\n * @version 1.6.0\n * @returns { Practitioner }\n * @example\n * ```js\n *  let practitioners = Practitioners.toMongo('12345').fetch();\n * ```\n */\n\nPractitioners.toMongo = function (originalPractitioner) {\n  var mongoRecord;\n  process.env.TRACE && console.log('Practitioners.toMongo', originalPractitioner);\n\n\n  if (originalPractitioner.identifier) {\n    originalPractitioner.identifier.forEach(function(identifier){\n      if (identifier.period) {\n        if (identifier.period.start) {\n          var startArray = identifier.period.start.split('-');\n          identifier.period.start = new Date(startArray[0], startArray[1] - 1, startArray[2]);\n        }\n        if (identifier.period.end) {\n          var endArray = identifier.period.end.split('-');\n          identifier.period.end = new Date(startArray[0], startArray[1] - 1, startArray[2]);\n        }\n      }\n    });\n  }\n\n  if (originalPractitioner.birthDate) {\n    var birthdateArray = originalPractitioner.birthDate.split('-');\n    originalPractitioner.birthDate = new Date(birthdateArray[0], birthdateArray[1] - 1, birthdateArray[2]);\n  }\n\n\n  return originalPractitioner;\n};\n\n\n/**\n * @summary Similar to toMongo(), this function prepares a FHIR record for storage in the Mongo database.  The difference being, that this assumes there is already an existing record.\n * @memberOf Practitioners\n * @name prepForUpdate\n * @version 1.6.0\n * @returns { Object }\n * @example\n * ```js\n *  let practitioners = Practitioners.findMrn('12345').fetch();\n * ```\n */\n\nPractitioners.prepForUpdate = function (practitioner) {\n\n  if (practitioner.name && practitioner.name[0]) {\n    //console.log(\"practitioner.name\", practitioner.name);\n\n    practitioner.name.forEach(function(name){\n      name.resourceType = \"HumanName\";\n    });\n  }\n\n  if (practitioner.telecom && practitioner.telecom[0]) {\n    //console.log(\"practitioner.telecom\", practitioner.telecom);\n    practitioner.telecom.forEach(function(telecom){\n      telecom.resourceType = \"ContactPoint\";\n    });\n  }\n\n  if (practitioner.address && practitioner.address[0]) {\n    //console.log(\"practitioner.address\", practitioner.address);\n    practitioner.address.forEach(function(address){\n      address.resourceType = \"Address\";\n    });\n  }\n\n  if (practitioner.contact && practitioner.contact[0]) {\n    //console.log(\"practitioner.contact\", practitioner.contact);\n\n    practitioner.contact.forEach(function(contact){\n      if (contact.name) {\n        contact.name.resourceType = \"HumanName\";\n      }\n\n      if (contact.telecom && contact.telecom[0]) {\n        contact.telecom.forEach(function(telecom){\n          telecom.resourceType = \"ContactPoint\";\n        });\n      }\n\n    });\n  }\n\n  return practitioner;\n};\n\n\n/**\n * @summary Scrubbing the practitioner; make sure it conforms to v1.6.0\n * @memberOf Practitioners\n * @name scrub\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n *  let practitioners = Practitioners.findMrn('12345').fetch();\n * ```\n */\n\nPractitioners.prepForFhirTransfer = function (practitioner) {\n  //console.log(\"Practitioners.prepForBundle()\");\n\n\n  // FHIR has complicated and unusual rules about dates in order\n  // to support situations where a family member might report on a practitioner's\n  // date of birth, but not know the year of birth; and the other way around\n  if (practitioner.birthDate) {\n    practitioner.birthDate = moment(practitioner.birthDate).format(\"YYYY-MM-DD\");\n  }\n\n\n  if (practitioner.name && practitioner.name[0]) {\n    //console.log(\"practitioner.name\", practitioner.name);\n\n    practitioner.name.forEach(function(name){\n      delete name.resourceType;\n    });\n  }\n\n  if (practitioner.telecom && practitioner.telecom[0]) {\n    //console.log(\"practitioner.telecom\", practitioner.telecom);\n    practitioner.telecom.forEach(function(telecom){\n      delete telecom.resourceType;\n    });\n  }\n\n  if (practitioner.address && practitioner.address[0]) {\n    //console.log(\"practitioner.address\", practitioner.address);\n    practitioner.address.forEach(function(address){\n      delete address.resourceType;\n    });\n  }\n\n  if (practitioner.contact && practitioner.contact[0]) {\n    //console.log(\"practitioner.contact\", practitioner.contact);\n\n    practitioner.contact.forEach(function(contact){\n\n      console.log(\"contact\", contact);\n\n\n      if (contact.name && contact.name.resourceType) {\n        //console.log(\"practitioner.contact.name\", contact.name);\n        delete contact.name.resourceType;\n      }\n\n      if (contact.telecom && contact.telecom[0]) {\n        contact.telecom.forEach(function(telecom){\n          delete telecom.resourceType;\n        });\n      }\n\n    });\n  }\n\n  //console.log(\"Practitioners.prepForBundle()\", practitioner);\n\n  return practitioner;\n};\n\n/**\n * @summary The displayed name of the practitioner.\n * @memberOf Practitioner\n * @name displayName\n * @version 1.2.3\n * @returns {Boolean}\n * @example\n * ```js\n * ```\n */\n\nPractitioner.prototype.displayName = function () {\n  if (this.name && this.name[0]) {\n    return this.name[0].text;\n  }\n};\n\n\n\nexport default { Practitioner, Practitioners, PractitionerSchema, PractitionerStu3, PractitionerDstu2 };","\n\nimport PractitionersPage from './client/react/PractitionersPage';\nimport PractitionersTable from './client/react/PractitionersTable';\nimport { Practitioner, Practitioners, PractitionerSchema } from './lib/Practitioners';\n\nvar DynamicRoutes = [{\n  'name': 'PractitionersPage',\n  'path': '/practitioners',\n  'component': PractitionersPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'Practitioners',\n  'to': '/practitioners',\n  'href': '/practitioners'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  PractitionersPage,\n  PractitionersTable\n};\n\n\n","import { Card, CardActions, CardText, CardTitle, CardHeader } from 'material-ui/Card';\nimport { Col, Grid, Row } from 'react-bootstrap';\n\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport Paper from 'material-ui/Paper';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport PropTypes from 'prop-types';\n\nimport PractitionersTable  from './PractitionersTable';\nimport { get, set } from 'lodash';\nimport moment from 'moment';\n\nSession.setDefault('practitionerBlockchainData', []);\n\nexport class PractitionerDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      practitionerId: false,\n      practitioner: {\n        resourceType : \"Practitioner\",\n          name : {\n            resourceType : \"HumanName\",\n            text : \"\"\n          },\n          telecom : [{\n            resourceType : \"ContactPoint\",\n            system : \"phone\",\n            value : \"\",\n            use : \"\",\n            rank : 1\n          }, {\n            resourceType : \"ContactPoint\",\n            system : \"email\",\n            value : \"\",\n            use : \"\",\n            rank : 1\n          }],\n          qualification : [{\n            identifier : [{\n              use : \"certficate\",\n              value : \"\",\n              period : {\n                start: null,\n                end: null\n              }\n            }],\n            issuer : {\n              display : \"\",\n              reference : \"\"\n            }\n        }],\n        address: [{\n          text: '',\n          city: '',\n          state: '',\n          postalCode: ''\n        }]\n      },\n      form: {\n        name: '',\n        phone: '',\n        email: '',\n        qualificationIssuer: '',\n        qualificationIdentifier: '',\n        qualificationCode: '',\n        qualificationStart: null,\n        qualificationEnd: null,\n        text: '',\n        city: '',\n        state: '',\n        postalCode: ''\n      }\n    }\n  }\n  dehydrateFhirResource(practitioner) {\n    let formData = Object.assign({}, this.state.form);\n\n    formData.name = get(practitioner, 'name.text')\n\n    let telecomArray = get(practitioner, 'telecom');\n    telecomArray.forEach(function(telecomRecord){\n      if(get(telecomRecord, 'system') === 'phone'){\n        formData.phone = get(telecomRecord, 'value');\n      }\n      if(get(telecomRecord, 'system') === 'email'){\n        formData.email = get(telecomRecord, 'value');\n      }\n    })\n\n    formData.qualificationIssuer = get(practitioner, 'qualification[0].issuer.display')\n    formData.qualificationIdentifier = get(practitioner, 'qualification[0].identifier')\n    formData.qualificationStart = moment(get(practitioner, 'qualification[0].period.start')).format('YYYY-MM-DD')\n    formData.qualificationEnd = moment(get(practitioner, 'qualification[0].period.end')).format('YYYY-MM-DD')\n    formData.qualificationCode = get(practitioner, 'qualification[0].code.coding[0].code')\n\n    formData.text = get(practitioner, 'address[0].text')\n    formData.city = get(practitioner, 'address[0].city')\n    formData.state = get(practitioner, 'address[0].state')\n    formData.postalCode = get(practitioner, 'address[0].postalCode')\n\n    return formData;\n  }\n\n  shouldComponentUpdate(nextProps){\n    process.env.NODE_ENV === \"test\" && console.log('PractitionerDetail.shouldComponentUpdate()', nextProps, this.state)\n    let shouldUpdate = true;\n\n    // both false; don't take any more updates\n    if(nextProps.practitioner === this.state.practitioner){\n      shouldUpdate = false;\n    }\n\n    // received an practitioner from the table; okay lets update again\n    if(nextProps.practitionerId !== this.state.practitionerId){\n      this.setState({practitionerId: nextProps.practitionerId})\n      \n      if(nextProps.practitioner){\n        this.setState({practitioner: nextProps.practitioner})     \n        this.setState({form: this.dehydrateFhirResource(nextProps.practitioner)})       \n      }\n      shouldUpdate = true;\n    }\n \n    return shouldUpdate;\n  }\n\n\n  getMeteorData() {\n    let data = {\n      practitionerId: this.props.practitionerId,\n      practitioner: false,\n      form: this.state.form\n    };\n\n    if(this.props.practitioner){\n      data.practitioner = this.props.practitioner;\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"PractitionerDetail[data]\", data);\n    return data;\n  }\n\n\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('PractitionerDetail.render()', this.state)\n    let formData = this.state.form;\n\n    return (\n      <div id={this.props.id} className=\"practitionerDetail\">\n        <CardText>\n          <Row>\n            <Col md={6}>\n              <TextField\n                id='practitionerNameInput'\n                ref='name'\n                name='name'\n                type='text'\n                floatingLabelText='name'\n                floatingLabelFixed={true}\n                hintText='Alison Camron'\n                value={ get(formData, 'name') }\n                onChange={ this.changeState.bind(this, 'name')}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='emailInput'\n                ref='email'\n                name='email'\n                type='email'\n                floatingLabelText='Email'\n                floatingLabelFixed={true}\n                hintText='drcamron@symptomatic.io'\n                value={ get(formData, 'email') }\n                onChange={ this.changeState.bind(this, 'email')}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='phoneInput'\n                ref='phone'\n                name='phone'\n                type='phone'\n                floatingLabelText='Phone'\n                floatingLabelFixed={true}\n                hintText='773-555-1010'\n                value={ get(formData, 'phone') }\n                onChange={ this.changeState.bind(this, 'phone')}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={6}>\n              <TextField\n                id='textInput'\n                ref='text'\n                name='text'\n                floatingLabelText='Address'\n                value={ get(formData, 'text') }\n                onChange={ this.changeState.bind(this, 'text')}\n                floatingLabelFixed={true}\n                hintText='South Side'\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='cityInput'\n                ref='city'\n                name='city'\n                floatingLabelText='City'\n                value={ get(formData, 'city') }\n                onChange={ this.changeState.bind(this, 'city')}\n                hintText='Chicago'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='stateInput'\n                ref='state'\n                name='state'\n                floatingLabelText='State'\n                value={ get(formData, 'state') }\n                onChange={ this.changeState.bind(this, 'state')}\n                floatingLabelFixed={true}\n                hintText='Illinois'\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='postalCodeInput'\n                ref='postalCode'\n                name='postalCode'\n                floatingLabelText='Postal Code'\n                value={ get(formData, 'postalCode') }\n                onChange={ this.changeState.bind(this, 'postalCode')}\n                floatingLabelFixed={true}\n                hintText='60637'\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n\n                    <Row>\n            <Col md={4}>\n              <TextField\n                id='qualificationIssuerInput'\n                ref='qualificationIssuer'\n                name='qualificationIssuer'\n                type='text'\n                floatingLabelText='Qualification Issuer'\n                floatingLabelFixed={true}\n                value={ get(formData, 'qualificationIssuer') }\n                onChange={ this.changeState.bind(this, 'qualificationIssuer')}\n                hintText='American College of Emergency Physicians'\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='qualificationCodeInput'\n                ref='qualificationCode'\n                name='qualificationCode'\n                type='text'\n                floatingLabelText='Qualification Code'\n                floatingLabelFixed={true}\n                value={ get(formData, 'qualificationCode') }\n                onChange={ this.changeState.bind(this, 'qualificationCode')}\n                hintText='ACEP-10792866'\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='qualificationStartInput'\n                ref='qualificationStart'\n                name='qualificationStart'\n                type='date'\n                floatingLabelText='Start'\n                floatingLabelFixed={true}\n                value={ get(formData, 'qualificationStart') }\n                onChange={ this.changeState.bind(this, 'qualificationStart')}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='qualificationEndInput'\n                ref='qualificationEnd'\n                name='qualificationEnd'\n                type='date'\n                floatingLabelText='End'\n                floatingLabelFixed={true}\n                value={ get(formData, 'qualificationEnd') }\n                onChange={ this.changeState.bind(this, 'qualificationEnd')}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          { this.displayQualifications(this.data.practitionerId) }     \n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.practitionerId) }\n        </CardActions>\n      </div>\n    );\n  }\n  displayQualifications(practitionerId){\n\n    if (practitionerId && get(Meteor, 'settings.public.defaults.displayBlockchainComponents')){      \n      return (\n        <Row>\n          <Paper zDepth={2} style={{borderLeft: 'solid gray 3px', marginLeft: '60px', marginRight: '20px',marginTop: '40px', marginBottom: '40px'}}>\n            <CardTitle title='Qualifications & Credentials' />\n            <CardText>\n              <PractitionersTable showBarcodes={false} data={ this.data.blockchainData }/>\n            </CardText>\n          </Paper>\n        </Row>\n      );\n    }\n  }\n  determineButtons(practitionerId){\n    if (practitionerId) {\n      return (\n        <div>\n          <RaisedButton id=\"updatePractitionerButton\" className=\"savePractitionerButton\" primary={true} label=\"Save\" onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}} />\n          <RaisedButton id=\"deletePractitionerButton\" label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id=\"savePractitionerButton\" className=\"savePractitionerButton\" primary={true} label=\"Save\" onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n\n\n  updateFormData(formData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"PatientDetail.updateFormData\", formData, field, textValue);\n\n    switch (field) {\n      case \"name\":\n        set(formData, 'name', textValue)\n        break;\n      case \"phone\":\n        set(formData, 'phone', textValue)\n        break;\n      case \"email\":\n        set(formData, 'email', textValue)\n        break;        \n      case \"qualificationIssuer\":\n        set(formData, 'qualificationIssuer', textValue)\n        break;\n      case \"qualificationIdentifier\":\n        set(formData, 'qualificationIdentifier', textValue)\n        break;\n      case \"qualificationCode\":\n        set(formData, 'qualificationCode', textValue)\n        break;\n      case \"qualificationStart\":\n        set(formData, 'qualificationStart', )\n        break;\n      case \"qualificationEnd\":\n        set(formData, 'qualificationEnd', textValue)\n        break;\n      case \"text\":\n        set(formData, 'text', textValue)\n        break;\n      case \"city\":\n        set(formData, 'city', textValue)\n        break;\n      case \"state\":\n        set(formData, 'state', textValue)\n        break;\n      case \"postalCode\":\n        set(formData, 'postalCode', textValue)\n        break;\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n    return formData;\n  }\n  updatePractitioner(practitionerData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"PatientDetail.updatePractitioner\", practitionerData, field, textValue);\n\n    let telecomArray = get(practitionerData, 'telecom');\n\n    switch (field) {\n      case \"name\":\n        set(practitionerData, 'name.text', textValue)\n        break;\n        case \"phone\":\n        telecomArray.forEach(function(telecom){\n          if(telecom.system === 'phone'){\n            telecom.value = textValue\n          } \n        })\n        set(practitionerData, 'telecom', telecomArray)\n        break;\n      case \"email\":\n        telecomArray.forEach(function(telecom){\n          if(telecom.system === 'email'){\n            telecom.value = textValue\n          } \n        })\n        set(practitionerData, 'telecom', telecomArray)\n        break;      \n      case \"qualificationIssuer\":\n        set(practitionerData, 'qualification[0].issuer.display', textValue)\n        break;\n      case \"qualificationIdentifier\":\n        set(practitionerData, 'qualification[0].identifier', textValue)\n        break;\n      case \"qualificationCode\":\n        set(practitionerData, 'qualification[0].code.coding[0].code', textValue)\n        break;\n      case \"qualificationStart\":\n        set(practitionerData, 'qualification[0].period.start', moment(textValue))\n        break;\n      case \"qualificationEnd\":\n        set(practitionerData, 'qualification[0].period.end', moment(textValue))\n        break;\n      case \"text\":\n        set(practitionerData, 'address[0].text', textValue)\n        break;\n      case \"city\":\n        set(practitionerData, 'address[0].city', textValue)\n        break;\n      case \"state\":\n        set(practitionerData, 'address[0].state', textValue)\n        break;\n      case \"postalCode\":\n        set(practitionerData, 'address[0].postalCode', textValue)\n        break;\n    }\n    return practitionerData;\n  }\n\n  changeState(field, event, textValue){\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"   \");\n    if(process.env.NODE_ENV === \"test\") console.log(\"PractitionerDetail.changeState\", field, textValue);\n    if(process.env.NODE_ENV === \"test\") console.log(\"this.state\", this.state);\n\n    let formData = Object.assign({}, this.state.form);\n    let practitionerData = Object.assign({}, this.state.practitioner);\n\n    formData = this.updateFormData(formData, field, textValue);\n    practitionerData = this.updatePractitioner(practitionerData, field, textValue);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"practitionerData\", practitionerData);\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n\n    this.setState({practitioner: practitionerData})\n    this.setState({form: formData})\n  }\n\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&&')\n    console.log('Saving a new Practitioner...', this.state)\n\n    let self = this;\n    let fhirPractitionerData = Object.assign({}, this.state.practitioner);\n\n    if(process.env.NODE_ENV === \"test\") console.log('fhirPractitionerData', fhirPractitionerData);\n\n\n    let practitionerValidator = PractitionerSchema.newContext();\n    practitionerValidator.validate(fhirPractitionerData)\n\n    console.log('IsValid: ', practitionerValidator.isValid())\n\n\n    if (this.state.practitionerId) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating Practitioner...\");\n\n      delete fhirPractitionerData._id;\n\n      if(process.env.NODE_ENV === \"test\") console.log(\"fhirPractitionerData\", fhirPractitionerData);\n\n      Practitioners._collection.update({_id: this.state.practitionerId}, {$set: fhirPractitionerData }, function(error, result){\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"Practitioners.update[error]\", error);\n          Bert.alert(error.reason, 'danger');\n        } else {\n          Bert.alert('Practitioner added!', 'success');\n          Session.set('practitionerPageTabIndex', 1);\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Practitioners\", recordId: self.state.practitionerId});\n        }\n      });\n    } else {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Creating a new practitioner...\", fhirPractitionerData);\n\n      Practitioners._collection.insert(fhirPractitionerData, function(error, result) {\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"Practitioners.insert[error]\", error);\n          Bert.alert(error.reason, 'danger');\n        } else {\n          Bert.alert('Practitioner added!', 'success');\n          Session.set('practitionerPageTabIndex', 1);\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Practitioners\", recordId: self.state.practitionerId});\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('practitionerPageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    let self = this;\n    Practitioners._collection.remove({_id: this.state.practitionerId}, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log(\"Practitioners.insert[error]\", error);\n        Bert.alert(error.reason, 'danger');\n      } else {\n        Bert.alert('Practitioner removed!', 'success');\n        Session.set('practitionerPageTabIndex', 1);\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Practitioners\", recordId: self.state.practitionerId});\n      }\n    });\n  }\n}\n\nPractitionerDetail.propTypes = {\n  id: PropTypes.string,\n  fhirVersion: PropTypes.string,\n  practitionerId: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  practitioner: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};\n\nReactMixin(PractitionerDetail.prototype, ReactMeteorData);\nexport default PractitionerDetail;","import { CardText, CardTitle } from 'material-ui/Card';\nimport { Tab, Tabs } from 'material-ui/Tabs';\nimport { Paper } from 'material-ui/Paper';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport PractitionerDetail  from './PractitionerDetail';\nimport PractitionersTable  from './PractitionersTable';\n\nimport PropTypes from 'prop-types';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\nimport { Package } from 'meteor/meteor';\n\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nimport { get } from 'lodash';\n\nSession.setDefault('practitionerPageTabIndex', 1);\nSession.setDefault('practitionerSearchFilter', '');\nSession.setDefault('selectedPractitionerId', false);\nSession.setDefault('blockchainPractitionerData', []);\nSession.setDefault('fhirVersion', 'v1.0.2');\n\nexport class PractitionersPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('practitionerPageTabIndex'),\n      practitionerSearchFilter: Session.get('practitionerSearchFilter'),\n      selectedPractitionerId: Session.get('selectedPractitionerId'),\n      blockchainData: Session.get('blockchainPractitionerData'),\n      fhirVersion: Session.get('fhirVersion'),\n      selectedPractitioner: false\n    };\n\n    if (Session.get('selectedPractitionerId')){\n      data.selectedPractitioner = Practitioners.findOne({_id: Session.get('selectedPractitionerId')});\n    } else {\n      data.selectedPractitioner = false;\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"PractitionersPage[data]\", data);\n    return data;\n  }\n\n  // this could be a mixin\n  handleTabChange(index){\n    Session.set('practitionerPageTabIndex', index);\n  }\n\n  // this could be a mixin\n  onNewTab(){\n    process.env.DEBUG && console.log(\"onNewTab; we should clear things...\");\n\n    Session.set('selectedPractitionerId', false);\n    Session.set('practitionerUpsert', false);\n  }\n\n  render() {\n    var blockchainTab;\n    if (get(Meteor, 'settings.public.defaults.displayBlockchainComponents')){\n      blockchainTab = <Tab className=\"practitionerBlockchainHisotryTab\" label='Blockchain' onActive={this.handleActive} style={this.data.style.tab} value={3}>\n        <PractitionersTable showBarcodes={false} data={ this.data.blockchainData } />\n      </Tab>                 \n    }\n    return (\n      <div id=\"practitionersPage\">\n        <VerticalCanvas>\n          <GlassCard height='auto'>\n            <CardTitle\n              title=\"Practitioners\"\n            />\n            <CardText>\n              <Tabs id=\"practitionersPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1} style={{borderRight: 'none'}} >\n                <Tab className=\"newPractitionerTab\" label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0} >\n                  <PractitionerDetail \n                    id='newPractitioner'\n                    fhirVersion={this.data.fhirVersion}\n                    practitioner={ this.data.selectedPractitioner }\n                    practitionerId={ this.data.selectedPractitionerId } />  \n                </Tab>\n                <Tab className=\"practitionerListTab\" label='Practitioners' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                  <PractitionersTable \n                    fhirVersion={this.data.fhirVersion} \n                    showBarcodes={false} />\n                 </Tab>\n                 <Tab className=\"practitionerDetailsTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                  <PractitionerDetail \n                    id='practitionerDetails' \n                    practitioner={ this.data.selectedPractitioner }\n                    practitionerId={ this.data.selectedPractitionerId } />  \n                </Tab>\n                { blockchainTab }\n              </Tabs>\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\n\nReactMixin(PractitionersPage.prototype, ReactMeteorData);\n\nexport default PractitionersPage;","import Avatar from 'material-ui/Avatar';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\nimport { get } from 'lodash';\nimport { Glass } from 'meteor/clinical:glass-ui';\n\nSession.setDefault('selectedPractitioner', false);\n\n\n// flattenPractitioner = function(practitioner){\n//   let result = {\n//     _id: practitioner._id,\n//     id: practitioner.id,\n//     active: practitioner.active.toString(),\n//     gender: get(practitioner, 'gender'),\n//     name: '',\n//     mrn: '',\n//     birthDate: '',\n//     photo: \"/thumbnail-blank.png\",\n//     initials: 'abc'\n//   };\n\n//   result.birthDate = moment(practitioner.birthDate).format(\"YYYY-MM-DD\")\n//   result.photo = get(practitioner, 'photo[0].url', '');\n//   result.identifier = get(practitioner, 'identifier[0].value', '');\n\n//   result.maritalStatus = get(practitioner, 'maritalStatus.text', '');\n//   result.deceased = get(practitioner, 'deceasedBoolean', '');\n//   result.species = get(practitioner, 'animal.species.text', '');\n//   result.language = get(practitioner, 'communication[0].language.text', '');\n\n//   let nameText = get(practitioner, 'name[0].text');\n//   if(nameText.length > 0){\n//     result.name = get(practitioner, 'name[0].text');    \n//   } else {\n//     if(get(practitioner, 'name[0].suffix[0]')){\n//       result.name = get(practitioner, 'name[0].suffix[0]')  + ' ';\n//     }\n\n//     result.name = result.name + get(practitioner, 'name[0].given[0]') + ' ' + get(practitioner, 'name[0].family[0]');\n    \n//     if(get(practitioner, 'name[0].suffix[0]')){\n//       result.name = result.name + ' ' + get(practitioner, 'name[0].suffix[0]');\n//     }\n//   }\n\n//   return result;\n// }\n\n\n\nexport class PractitionersTable extends React.Component {\n  flattenPractitioner(practitioner){\n    console.log('PractitionersTable.flattenPractitioner()', practitioner)\n\n    let result = {\n      _id: practitioner._id,\n      name: '',\n      phone: '',\n      email: '',\n      qualificationIssuer: '',\n      qualificationIdentifier: '',\n      qualificationCode: '',\n      qualificationStart: null,\n      qualificationEnd: null,\n      text: '',\n      city: '',\n      state: '',\n      postalCode: ''\n    };\n\n    //---------------------------------------------------------\n    // TODO REFACTOR:  HumanName\n    // parse name!\n    // totally want to extract this\n    if(get(practitioner, 'name.text')){\n      result.name = get(practitioner, 'name.text');\n    } else {\n      if(get(practitioner, 'name.suffix[0]')){\n        result.name = get(practitioner, 'name.suffix[0]')  + ' ';\n      }\n  \n      result.name = result.name + get(practitioner, 'name.given[0]') + ' ';\n      \n      if(get(practitioner, 'name.family[0]')){\n        result.name = result.name + get(practitioner, 'name.family[0]');\n      } else {\n        result.name = result.name + get(practitioner, 'name.family');\n      }\n      \n      if(get(practitioner, 'name.suffix[0]')){\n        result.name = result.name + ' ' + get(practitioner, 'name.suffix[0]');\n      }\n    } \n    //---------------------------------------------------------\n\n    if(this.props.fhirVersion === 'v1.0.2'){\n      // if (get(practitioner, 'telecom[0].value')) {\n      //   result.phone = get(practitioner, 'telecom[0].value');\n      // }\n      // if (get(practitioner, 'telecom[0].use') ) {\n      //   result.email = get(practitioner, 'telecom[0].use')\n      // }\n  \n      result.qualificationId = get(practitioner, 'qualification[0].identifier[0].value');\n      result.qualificationCode = get(practitioner, 'qualification[0].code.coding[0].code');\n      result.qualificationStart = moment(get(practitioner, 'qualification[0].period.start')).format(\"MMM YYYY\");\n      result.qualificationEnd = moment(get(practitioner, 'qualification[0].period.end')).format(\"MMM YYYY\");\n      result.issuer = get(practitioner, 'qualification[0].issuer.display');\n    \n      result.text = get(practitioner, 'address[0].text')\n      result.city = get(practitioner, 'address[0].city')\n      result.state = get(practitioner, 'address[0].state')\n      result.postalCode = get(practitioner, 'address[0].postalCode')\n\n      //----------------------------------------------------------------\n      // TODO REFACTOR:  ContactPoint\n      // totally want to extract this\n\n      let telecomArray = get(practitioner, 'telecom');\n      telecomArray.forEach(function(telecomRecord){\n        if(get(telecomRecord, 'system') === 'phone'){\n          result.phone = get(telecomRecord, 'value');\n        }\n        if(get(telecomRecord, 'system') === 'email'){\n          result.email = get(telecomRecord, 'value');\n        }\n      })\n      //----------------------------------------------------------------\n    }\n\n    \n    if(this.props.fhirVersion === 'v1.6.0'){\n      // tbd\n    }\n\n\n    if(this.props.fhirVersion === '3.0.1'){\n      // tbd      \n    }\n\n\n    return result;\n  }\n  getMeteorData() {\n    var self = this;\n\n    let data = {\n      style: {\n        row: Glass.darkroom({\n          opacity: Session.get('globalOpacity')\n        })\n      },\n      selected: [],\n      practitioners: []\n    };\n\n    let query = {};\n    let options = {};\n\n    // number of items in the table should be set globally\n    if (get(Meteor, 'settings.public.defaults.paginationLimit')) {\n      options.limit = get(Meteor, 'settings.public.defaults.paginationLimit');\n    }\n    // but can be over-ridden by props being more explicit\n    if(this.props.limit){\n      options.limit = this.props.limit;      \n    }\n\n    if(this.props.data){\n      // console.log('this.props.data', this.props.data);\n\n      if(this.props.data.length > 0){              \n        this.props.data.forEach(function(practitioner){\n          data.practitioners.push(self.flattenPractitioner(practitioner));\n        });  \n      }\n    } else {\n      data.practitioners = Practitioners.find().map(function(practitioner){\n        return self.flattenPractitioner(practitioner);\n      });\n    }\n    \n    if(process.env.NODE_ENV === \"test\") console.log(\"PractitionersTable[data]\", data);\n    return data;\n  }\n\n  rowClick(id){\n    Session.set('practitionerUpsert', false);\n    Session.set('selectedPractitionerId', id);\n    Session.set('practitionerPageTabIndex', 2);\n  }\n  render () {\n    let tableRows = [];\n    //console.log('this.data.practitioners', this.data.practitioners)\n    for (var i = 0; i < this.data.practitioners.length; i++) {\n      tableRows.push(\n      <tr className='practitionerRow' key={i} style={this.data.style.row} onClick={ this.rowClick.bind('this', this.data.practitioners[i]._id) }>\n        <td className=\"name\">{this.data.practitioners[i].name}</td>\n        <td className=\"phone\">{this.data.practitioners[i].phone}</td>\n        <td className=\"email\">{this.data.practitioners[i].email}</td>\n        <td className=\"issuer\">{this.data.practitioners[i].issuer}</td>\n        <td className=\"qualificationCode\">{this.data.practitioners[i].qualificationCode}</td>\n        <td className=\"qualificationStart\">{this.data.practitioners[i].qualificationStart}</td>\n        <td className=\"qualificationEnd\">{this.data.practitioners[i].qualificationEnd}</td>\n        <td className=\"city\">{this.data.practitioners[i].city}</td>\n        <td className=\"state\">{this.data.practitioners[i].state}</td>\n        {/*<td className=\"barcode\">{this.data.practitioners[i]._id}</td>*/}\n      </tr>);\n    }\n\n\n    return(\n      <Table id=\"practitionersTable\" hover >\n        <thead>\n          <tr>\n            <th className=\"name\">Name</th>\n            <th className=\"phone\">Phone</th>\n            <th className=\"email\">Use</th>\n            <th className=\"issuer\">Issuer</th>\n            <th className=\"qualificationCode\">Credential</th>\n            <th className=\"qualificationStart\">Start</th>\n            <th className=\"qualificationEnd\">End</th>\n            <th className=\"city\">City</th>\n            <th className=\"state\">State</th>\n            {/*<th className=\"barcode\">_id</th>*/}\n          </tr>\n        </thead>\n        <tbody>\n          { tableRows }\n        </tbody>\n      </Table>\n\n    );\n  }\n}\n\nReactMixin(PractitionersTable.prototype, ReactMeteorData);\nexport default PractitionersTable;"]}