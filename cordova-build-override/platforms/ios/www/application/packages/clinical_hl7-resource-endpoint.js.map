{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-endpoint/lib/Endpoints.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-endpoint/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-endpoint/client/EndpointDetail.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-endpoint/client/EndpointsPage.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-endpoint/client/EndpointsTable.jsx"],"names":["SimpleSchema","module","link","v","Endpoint","BaseModel","extend","prototype","_collection","Endpoints","Package","Mongo","Collection","connection","_transform","document","EndpointSchema","type","String","defaultValue","optional","Array","IdentifierSchema","CodingSchema","ReferenceSchema","ContactPointSchema","PeriodSchema","CodeableConceptSchema","BaseSchema","DomainResourceSchema","attachSchema","exportDefault","export","SidebarElements","DynamicRoutes","EndpointsPage","EndpointsTable","EndpointDetail","CardActions","CardText","get","has","set","insertEndpoint","removeEndpointById","updateEndpoint","Bert","RaisedButton","React","ReactMeteorData","ReactMixin","TextField","Session","defaultEndpoint","url","identifier","setDefault","getMeteorData","data","endpointId","endpoint","console","log","selectedEndpoint","findOne","_id","birthDate","moment","add","format","process","env","NODE_ENV","render","props","id","changeState","bind","determineButtons","handleSaveButton","marginRight","handleDeleteButton","field","event","value","endpointUpdate","TRACE","name","text","gender","toLowerCase","photo","Date","resourceType","update","$set","error","result","alert","reason","HipaaLogger","logEvent","eventType","userId","Meteor","userName","user","fullName","collectionName","recordId","insert","handleCancelButton","remove","Component","CardTitle","Tab","Tabs","GlassCard","Glass","VerticalCanvas","EndpointTable","index","username","email","given","family","style","opacity","tab","borderBottom","borderRight","tabIndex","endpointSearchFilter","currentEndpoint","blur","appbar","darkroom","handleTabChange","onNewTab","handleActive","Avatar","FlatButton","HTTP","Table","TableNoData","hideOnPhone","visibility","display","cellHideOnPhone","paddingTop","cell","selected","query","patient","options","limit","find","map","status","address","rowClick","tableRows","footer","length","noDataMessage","i","push","cursor"],"mappings":"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","file":"/packages/clinical_hl7-resource-endpoint.js","sourcesContent":["import SimpleSchema from 'simpl-schema';\n\n// if(Package['clinical:autopublish']){\n//   console.log(\"*****************************************************************************\")\n//   console.log(\"HIPAA WARNING:  Your app has the 'clinical-autopublish' package installed.\");\n//   console.log(\"Any protected health information (PHI) stored in this app should be audited.\"); \n//   console.log(\"Please consider writing secure publish/subscribe functions and uninstalling.\");  \n//   console.log(\"\");  \n//   console.log(\"meteor remove clinical:autopublish\");  \n//   console.log(\"\");  \n// }\n// if(Package['autopublish']){\n//   console.log(\"*****************************************************************************\")\n//   console.log(\"HIPAA WARNING:  DO NOT STORE PROTECTED HEALTH INFORMATION IN THIS APP. \");  \n//   console.log(\"Your application has the 'autopublish' package installed.  Please uninstall.\");\n//   console.log(\"\");  \n//   console.log(\"meteor remove autopublish\");  \n//   console.log(\"meteor add clinical:autopublish\");  \n//   console.log(\"\");  \n// }\n\n\n\n\n// create the object using our BaseModel\nEndpoint = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nEndpoint.prototype._collection = Endpoints;\n\n// // Create a persistent data store for addresses to be stored.\n// // HL7.Resources.Endpoints = new Mongo.Collection('HL7.Resources.Endpoints');\n\nif(typeof Endpoints === 'undefined'){\n  if(Package['clinical:autopublish']){\n    Endpoints = new Mongo.Collection('Endpoints');\n  } else if(Package['clinical:desktop-publish']){    \n    Endpoints = new Mongo.Collection('Endpoints');\n  } else {\n    Endpoints = new Mongo.Collection('Endpoints', {connection: null});\n  }\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nEndpoints._transform = function (document) {\n  return new Endpoint(document);\n};\n\nEndpointSchema = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Endpoint\"\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"status\" : {\n    optional: true,\n    type: String\n  }, \n  \"connectionType\" : {\n    optional: true,\n    type: CodingSchema \n  }, \n  \"name\" : {\n    optional: true,\n    type: String\n  }, \n  \"managingOrganization\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  \"contact\" : {\n    optional: true,\n    type: Array\n  }, \n  \"contact.$\" : {\n    optional: true,\n    type: ContactPointSchema \n  }, \n  \"period\" : {\n    optional: true,\n    type: PeriodSchema \n  }, \n  \"payloadType\" : {\n    optional: true,\n    type: Array\n  }, \n  \"payloadType.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  }, \n  \"payloadMimeType\" : {\n    optional: true,\n    type: Array\n  }, \n  \"payloadMimeType.$\" : {\n    optional: true,\n    type: String \n  }, \n  \"address\" : {\n    optional: true,\n    type: String\n  }, \n  \"header\" : {\n    optional: true,\n    type: Array\n  },\n  \"header.$\" : {\n    optional: true,\n    type: String \n  }\n\n});\n\nBaseSchema.extend(EndpointSchema);\nDomainResourceSchema.extend(EndpointSchema);\n\nEndpoints.attachSchema(EndpointSchema);\n\nexport default { Endpoint, Endpoints, EndpointSchema };","\nimport EndpointsPage from './client/EndpointsPage';\nimport EndpointsTable from './client/EndpointsTable';\n\nvar DynamicRoutes = [{\n  'name': 'EndpointPage',\n  'path': '/endpoints',\n  'component': EndpointsPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'Endpoints',\n  'to': '/endpoints',\n  'href': '/endpoints'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  EndpointsPage,\n  EndpointsTable\n};\n\n\n","import { CardActions, CardText } from 'material-ui/Card';\nimport { get, has, set } from 'lodash';\nimport { insertEndpoint, removeEndpointById, updateEndpoint } from 'meteor/clinical:hl7-resource-endpoint';\n\n\nimport { Bert } from 'meteor/clinical:alert';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport TextField from 'material-ui/TextField';\n\nimport { Endpoints } from '../lib/Endpoints';\nimport { Session } from 'meteor/session';\n\n\nlet defaultEndpoint = {\n  \"resourceType\" : \"Endpoint\",\n  \"name\" : [{\n    \"text\" : \"\",\n    \"resourceType\" : \"HumanName\"\n  }],\n  \"active\" : true,\n  \"gender\" : \"\",\n  \"birthDate\" : '',\n  \"photo\" : [{\n    url: \"\"\n  }],\n  identifier: [{\n    \"use\": \"usual\",\n    \"type\": {\n      \"coding\": [\n        {\n          \"system\": \"http://hl7.org/fhir/v2/0203\",\n          \"code\": \"MR\"\n        }\n      ]\n    },\n    \"value\": \"\"\n  }],\n  \"test\" : false\n};\n\n\nSession.setDefault('endpointUpsert', false);\nSession.setDefault('selectedEndpoint', false);\n\nexport class EndpointDetail extends React.Component {\n  getMeteorData() {\n    let data = {\n      endpointId: false,\n      endpoint: defaultEndpoint\n    };\n\n    if (Session.get('endpointUpsert')) {\n      data.endpoint = Session.get('endpointUpsert');\n    } else {\n      if (Session.get('selectedEndpoint')) {\n        data.endpointId = Session.get('selectedEndpoint');\n        console.log(\"selectedEndpoint\", Session.get('selectedEndpoint'));\n\n        let selectedEndpoint = Endpoints.findOne({_id: Session.get('selectedEndpoint')});\n        console.log(\"selectedEndpoint\", selectedEndpoint);\n\n        if (selectedEndpoint) {\n          data.endpoint = selectedEndpoint;\n\n          if (typeof selectedEndpoint.birthDate === \"object\") {\n            data.endpoint.birthDate = moment(selectedEndpoint.birthDate).add(1, 'day').format(\"YYYY-MM-DD\");\n          }\n        }\n      } else {\n        data.endpoint = defaultEndpoint;\n      }\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"EndpointDetail[data]\", data);\n    return data;\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className=\"endpointDetail\">\n        <CardText>\n          <TextField\n            id='nameInput'\n            ref='name'\n            name='name'\n            floatingLabelText='name'\n            value={ get(this, 'data.endpoint.name[0].text', '')}\n            onChange={ this.changeState.bind(this, 'name')}\n            fullWidth\n            /><br/>\n          <TextField\n            id='genderInput'\n            ref='gender'\n            name='gender'\n            floatingLabelText='gender'\n            hintText='male | female | other | indeterminate | unknown'\n            value={ get(this, 'data.endpoint.gender', '')}\n            onChange={ this.changeState.bind(this, 'gender')}\n            fullWidth\n            /><br/>\n          <TextField\n            id='birthdateInput'\n            ref='birthdate'\n            name='birthdate'\n            floatingLabelText='birthdate'\n            hintText='YYYY-MM-DD'\n            value={ get(this, 'data.endpoint.birthDate', '')}\n            onChange={ this.changeState.bind(this, 'birthDate')}\n            fullWidth\n            /><br/>\n          <TextField\n            id='photoInput'\n            ref='photo'\n            name='photo'\n            floatingLabelText='photo'\n            value={ get(this, 'data.endpoint.photo[0].url', '')}\n            onChange={ this.changeState.bind(this, 'photo')}\n            floatingLabelFixed={false}\n            fullWidth\n            /><br/>\n          <TextField\n            id='mrnInput'\n            ref='mrn'\n            name='mrn'\n            floatingLabelText='medical record number'\n            value={ get(this, 'data.endpoint.identifier[0].value', '')}\n            onChange={ this.changeState.bind(this, 'mrn')}\n            fullWidth\n            /><br/>\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.endpointId) }\n        </CardActions>\n      </div>\n    );\n  }\n  determineButtons(endpointId){\n    if (endpointId) {\n      return (\n        <div>\n          <RaisedButton id='saveEndpointButton' className='saveEndpointButton' label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}} />\n          <RaisedButton label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id='saveEndpointButton'  className='saveEndpointButton' label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n  changeState(field, event, value){\n    let endpointUpdate;\n\n    if(process.env.TRACE) console.log(\"endpointDetail.changeState\", field, event, value);\n\n    // by default, assume there's no other data and we're creating a new endpoint\n    if (Session.get('endpointUpsert')) {\n      endpointUpdate = Session.get('endpointUpsert');\n    } else {\n      endpointUpdate = defaultEndpoint;\n    }\n\n\n\n    // if there's an existing endpoint, use them\n    if (Session.get('selectedEndpoint')) {\n      endpointUpdate = this.data.endpoint;\n    }\n\n    switch (field) {\n      case \"name\":\n        endpointUpdate.name[0].text = value;\n        break;\n      case \"gender\":\n        endpointUpdate.gender = value.toLowerCase();\n        break;\n      case \"birthDate\":\n        endpointUpdate.birthDate = value;\n        break;\n      case \"photo\":\n        endpointUpdate.photo[0].url = value;\n        break;\n      case \"mrn\":\n        endpointUpdate.identifier[0].value = value;\n        break;\n      default:\n\n    }\n    // endpointUpdate[field] = value;\n    process.env.TRACE && console.log(\"endpointUpdate\", endpointUpdate);\n\n    Session.set('endpointUpsert', endpointUpdate);\n  }\n\n\n  // this could be a mixin\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('handleSaveButton()');\n    let endpointUpdate = Session.get('endpointUpsert', endpointUpdate);\n\n\n    if (endpointUpdate.birthDate) {\n      endpointUpdate.birthDate = new Date(endpointUpdate.birthDate);\n    }\n    if(process.env.NODE_ENV === \"test\") console.log(\"endpointUpdate\", endpointUpdate);\n\n    if (Session.get('selectedEndpoint')) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating endpoint...\");\n\n      delete endpointUpdate._id;\n\n      // not sure why we're having to respecify this; fix for a bug elsewhere\n      endpointUpdate.resourceType = 'Endpoint';\n\n      Endpoints.update({_id: Session.get('selectedEndpoint')}, {$set: endpointUpdate }, function(error, result){\n        if (error) {\n          if(process.env.NODE_ENV === \"test\") console.log(\"Endpoints.insert[error]\", error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Endpoints\", recordId: Session.get('selectedEndpoint')});\n          // Session.set('endpointUpdate', defaultEndpoint);\n          Session.set('endpointUpsert', false);\n          Session.set('selectedEndpoint', false);\n          Session.set('endpointPageTabIndex', 1);\n          Bert.alert('Endpoint added!', 'success');\n        }\n      });\n    } else {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Creating a new endpoint...\", endpointUpdate);\n\n      Endpoints.insert(endpointUpdate, function(error, result) {\n        if (error) {\n          if(process.env.NODE_ENV === \"test\")  console.log('Endpoints.insert[error]', error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Endpoints\", recordId: result});\n          Session.set('endpointPageTabIndex', 1);\n          Session.set('selectedEndpoint', false);\n          Session.set('endpointUpsert', false);\n          Bert.alert('Endpoint added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('endpointPageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    Endpoints.remove({_id: Session.get('selectedEndpoint')}, function(error, result){\n      if (error) {\n        if(process.env.NODE_ENV === \"test\") console.log('Endpoints.insert[error]', error);\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Endpoints\", recordId: Session.get('selectedEndpoint')});\n        // Session.set('endpointUpdate', defaultEndpoint);\n        Session.set('endpointUpsert', false);\n        Session.set('endpointPageTabIndex', 1);\n        Session.set('selectedEndpoint', false);\n        Bert.alert('Endpoint removed!', 'success');\n      }\n    });\n  }\n}\n\n\nReactMixin(EndpointDetail.prototype, ReactMeteorData);\nexport default EndpointDetail;","import { CardText, CardTitle, CardActions, Tab, Tabs, RaisedButton } from 'material-ui';\nimport { GlassCard, Glass, VerticalCanvas } from 'meteor/clinical:glass-ui';\n\nimport EndpointDetail from './EndpointDetail';\nimport EndpointTable from './EndpointsTable';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\n\nlet defaultEndpoint = {\n  index: 2,\n  id: '',\n  username: '',\n  email: '',\n  given: '',\n  family: '',\n  gender: ''\n};\nSession.setDefault('endpointFormData', defaultEndpoint);\nSession.setDefault('endpointSearchFilter', '');\n\nexport class EndpointsPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('endpointPageTabIndex'),\n      endpoint: defaultEndpoint,\n      endpointSearchFilter: '',\n      currentEndpoint: null\n    };\n\n    if (Session.get('endpointFormData')) {\n      data.endpoint = Session.get('endpointFormData');\n    }\n    if (Session.get('endpointSearchFilter')) {\n      data.endpointSearchFilter = Session.get('endpointSearchFilter');\n    }\n    if (Session.get(\"selectedEndpoint\")) {\n      data.currentEndpoint = Session.get(\"selectedEndpoint\");\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"EndpointsPage[data]\", data);\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('endpointPageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedEndpoint', false);\n    Session.set('endpointUpsert', false);\n  }\n  // initSixNodes(){\n  //   Meteor.call('initSixNodes')\n  //   Meteor.setTimeout(function(){\n  //     Session.set('endpointPageTabIndex', 1);\n  //   }, 500)\n  // }\n  // initTwelveNodes(){\n  //   Meteor.call('initTwelveNodes')    \n  //   Meteor.setTimeout(function(){\n  //     Session.set('endpointPageTabIndex', 1);\n  //   }, 500)\n  // }\n  // initEpicNodes(){\n  //   Meteor.call('initEpicNodes')    \n  //   Meteor.setTimeout(function(){      \n  //     Session.set('endpointPageTabIndex', 1);\n  //   }, 500)\n  // }\n  // initMedicareHospitalNodes(){\n  //   Meteor.call('initMedicareHospitalNodes')    \n  //   Meteor.setTimeout(function(){\n  //     Session.set('endpointPageTabIndex', 1);\n  //   }, 500)\n  // }\n  // initChicagoHospitalNodes(){ \n  //   Meteor.call('initChicagoHospitalNodes')       \n  //   Meteor.setTimeout(function(){\n  //     Session.set('endpointPageTabIndex', 1);\n  //   }, 500)\n  // }\n  // initAppleHealthkitNodes(){\n  //   Meteor.call('initAppleHealthkitNodes')    \n  //   Meteor.setTimeout(function(){\n  //     Session.set('endpointPageTabIndex', 1);\n  //   }, 500)\n  // }\n  render() {\n    //console.log('React.version: ' + React.version);\n    return (\n      <div id=\"endpointsPage\">\n        <VerticalCanvas>\n          <GlassCard height=\"auto\">\n            <CardTitle\n              title=\"Endpoints\"\n            />\n            <CardText>\n              <Tabs id='endpointsPageTabs' default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n                 <Tab className=\"newEndpointTab\" label='Initialize' style={this.data.style.tab} onActive={ this.onNewTab } value={0}>\n                  {/* <CardText>\n                    <RaisedButton primary={true} label=\"6 Nodes\" onClick={this.initSixNodes } style={{width: '256px'}} /><br /><br />\n                    <RaisedButton primary={true} label=\"12 Nodes\" onClick={this.initTwelveNodes } style={{width: '256px'}} /><br /><br />\n                    <RaisedButton primary={true} label=\"Epic Nodes\" onClick={this.initEpicNodes } style={{width: '256px'}} /><br /><br />\n                    <RaisedButton primary={true} label=\"Medicare Hospital Nodes\" onClick={this.initMedicareHospitalNodes } style={{width: '256px'}} /><br /><br />\n                    <RaisedButton primary={true} label=\"Chicago Hospital Nodes\" onClick={this.initChicagoHospitalNodes } style={{width: '256px'}} /><br /><br />\n                    <RaisedButton primary={true} label=\"Apple HealthKit Nodes\" onClick={this.initAppleHealthkitNodes } style={{width: '256px'}} /><br /><br />\n                  </CardText> */}\n                 </Tab>\n                 <Tab className=\"endpointListTab\" label='Endpoints' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                   <EndpointTable showBarcodes={true} />\n                 </Tab>\n             </Tabs>\n\n\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\n\n\nReactMixin(EndpointsPage.prototype, ReactMeteorData);\n\nexport default EndpointsPage;","import Avatar from 'material-ui/Avatar';\nimport FlatButton from 'material-ui/FlatButton';\nimport { HTTP } from 'meteor/http';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\n\n//import { Endpoints } from '../../lib/Endpoints';\nimport { Session } from 'meteor/session';\nimport { has, get } from 'lodash';\nimport { TableNoData } from 'meteor/clinical:glass-ui';\n\nexport class EndpointTable extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        hideOnPhone: {\n          visibility: 'visible',\n          display: 'table'\n        },\n        cellHideOnPhone: {\n          visibility: 'visible',\n          display: 'table',\n          paddingTop: '16px'\n        },\n        cell: {\n          paddingTop: '16px'\n        }\n      },\n      selected: [],\n      endpoint: []\n    };\n\n    let query = {};\n    if(this.props.patient){\n      query['patient.display'] = this.props.patient;\n    }\n\n    let options = {};\n    // number of items in the table should be set globally\n    if (get(Meteor, 'settings.public.defaults.paginationLimit')) {\n      options.limit = get(Meteor, 'settings.public.defaults.paginationLimit');\n    }\n\n    // but can be over-ridden by props being more explicit\n    if(this.props.limit){\n      options.limit = this.props.limit;      \n    }\n\n\n    data.endpoint = Endpoints.find(query, options).map(function(document){\n      let result = {\n        _id: document._id,\n        status: get(document, 'status', ''),\n        name: get(document, 'name', ''),\n        address: get(document, 'address', ''),\n        // start: get(document, 'period.start', ''),\n        // end: get(document, 'period.end', '')\n      };\n      return result;\n    });\n\n    if (Session.get('appWidth') < 768) {\n      data.style.hideOnPhone.visibility = 'hidden';\n      data.style.hideOnPhone.display = 'none';\n      data.style.cellHideOnPhone.visibility = 'hidden';\n      data.style.cellHideOnPhone.display = 'none';\n    } else {\n      data.style.hideOnPhone.visibility = 'visible';\n      data.style.hideOnPhone.display = 'table-cell';\n      data.style.cellHideOnPhone.visibility = 'visible';\n      data.style.cellHideOnPhone.display = 'table-cell';\n    }\n\n    return data;\n  }\n  rowClick(id){\n    Session.set('endpointUpsert', false);\n    Session.set('selectedEndpoint', id);\n    Session.set('subscriptionPageTabIndex', 2);\n  }\n  render () {\n    let tableRows = [];\n    let footer;\n\n    if(this.data.endpoint.length === 0){\n      // don't try to simplifiy the double negative in this expression\n      // it's handling a boolean property, and also serving up instructions/help/warning\n      // it's klunky to reason through; but it's not hurting anything\n      if(!(this.props.noDataMessage === false)){\n        footer = <TableNoData />\n      }\n    } else {\n      for (var i = 0; i < this.data.endpoint.length; i++) {\n        tableRows.push(\n          <tr key={i} className=\"subscriptionRow\" style={{cursor: \"pointer\"}}>\n  \n            <td className='status' onClick={ this.rowClick.bind('this', this.data.endpoint[i]._id)} style={this.data.style.cell}>{this.data.endpoint[i].status}</td>\n            <td className='name' onClick={ this.rowClick.bind('this', this.data.endpoint[i]._id)} style={this.data.style.cell} >{this.data.endpoint[i].name }</td>\n            <td className='address' onClick={ this.rowClick.bind('this', this.data.endpoint[i]._id)} style={this.data.style.cell} >{this.data.endpoint[i].address}</td>\n          </tr>\n        );\n      }  \n    }\n\n    return(\n      <div>\n        <Table id='endpointTable' hover >\n        <thead>\n          <tr>\n            <th className='status'>status</th>\n            <th className='name'>name</th>\n            <th className='address' >address</th>\n          </tr>\n        </thead>\n        <tbody>\n          { tableRows }\n        </tbody>\n      </Table>\n      { footer }\n      </div>\n    );\n  }\n}\n\n\nReactMixin(EndpointTable.prototype, ReactMeteorData);\nexport default EndpointTable;"]}