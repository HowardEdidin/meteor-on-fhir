{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-medication/lib/Medications.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-medication/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-medication/client/MedicationDetail.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-medication/client/MedicationsPage.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-medication/client/MedicationsTable.js"],"names":["SimpleSchema","module","link","v","Medication","BaseModel","extend","prototype","_collection","Medications","Package","Mongo","Collection","connection","_transform","document","MedicationDstu2","type","String","defaultValue","optional","CodeableConceptSchema","Boolean","ReferenceSchema","Object","Array","blackbox","Date","QuantitySchema","MedicationStu3","RatioSchema","AttachmentSchema","MedicationSchema","BaseSchema","DomainResourceSchema","attachSchema","exportDefault","export","SidebarElements","DynamicRoutes","MedicationsPage","MedicationsTable","MedicationDetail","CardActions","CardText","RaisedButton","React","ReactMeteorData","ReactMixin","TextField","PropTypes","Col","Grid","Row","get","set","props","state","medicationId","dstu2","resourceType","code","coding","system","display","isBrand","manufacturer","reference","product","form","ingredient","item","container","text","content","amount","value","unit","name","activeIngredient","activeIngredientDescription","shouldComponentUpdate","nextProps","process","env","NODE_ENV","console","log","shouldUpdate","medication","setState","dehydrateFhirResource","formData","assign","fhirVersion","getMeteorData","data","render","id","changeState","bind","determineButtons","handleSaveButton","marginRight","handleDeleteButton","updateFormData","field","textValue","updateMedication","medicationData","componentDidUpdate","event","self","fhirMedicationData","medicationValidator","newContext","validate","isValid","validationErrors","_id","update","$set","error","result","Bert","alert","reason","HipaaLogger","logEvent","eventType","userId","Meteor","userName","user","fullName","collectionName","recordId","Session","insert","handleCancelButton","remove","Component","propTypes","string","oneOfType","bool","object","Tabs","Tab","CardTitle","GlassCard","VerticalCanvas","Glass","setDefault","style","opacity","tab","borderBottom","borderRight","tabIndex","medicationSearchFilter","selectedMedicationId","selectedMedication","findOne","blur","appbar","darkroom","handleTabChange","index","onNewTab","handleActive","Table","Toggle","block","maxWidth","checkbox","rowText","cursor","selected","medications","find","map","rowClick","tableRows","i","length","push"],"mappings":"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","file":"/packages/clinical_hl7-resource-medication.js","sourcesContent":["import SimpleSchema from 'simpl-schema';\n\n// create the object using our BaseModel\nMedication = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nMedication.prototype._collection = Medications;\n\n// // Create a persistent data store for addresses to be stored.\n// // HL7.Resources.Patients = new Mongo.Collection('HL7.Resources.Patients');\n\nif(typeof Medications === 'undefined'){\n  if(Package['clinical:autopublish']){\n    Medications = new Mongo.Collection('Medications');\n  } else if(Package['clinical:desktop-publish']){    \n    Medications = new Mongo.Collection('Medications');\n  } else {\n    Medications = new Mongo.Collection('Medications', {connection: null});\n  }\n}\n\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nMedications._transform = function (document) {\n  return new Medication(document);\n};\n\n\n\nMedicationDstu2 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Medication\"\n  },\n  \"code\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Codes that identify this medication\n  \"isBrand\" :  {\n    optional: true,\n    type: Boolean\n  }, // True if a brand\n  \"manufacturer\" :  {\n    optional: true,\n    type: ReferenceSchema\n  },// (Organization) // Manufacturer of the item\n  \"product\" :  {\n    optional: true,\n    type: Object\n  }, \n\n  \"product.form\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // powder | tablets | carton +\n  \"product.ingredient\" :  {\n    type: Array,\n    optional: true\n  }, \n  \"product.ingredient.$\" :  {\n    type: Object,\n    optional: true,\n    blackbox: true\n  }, \n\n  \"product.batch.$\" :  {\n    optional: true,\n    type: Object\n  },\n\n  \"product.batch\" :  {\n    optional: true,\n    type: Array\n  },\n  \"product.batch.$.lotNumber\" :  {\n    optional: true,\n    type: String\n  },\n  \"product.batch.$.expirationDate\" :  {\n    optional: true,\n    type: Date\n  },\n  \"package\" :  {\n    optional: true,\n    type: Object\n   }, \n\n  \"package.container\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n   }, // E.g. box, vial, blister-pack\n\n   \"package.content\" :  {\n    optional: true,\n    type: Array\n  }, \n   \"package.content.$\" :  {\n    optional: true,\n    type: Object\n  }, \n\n  \"package.content.$.item\" :  {\n    optional: true,\n    type: ReferenceSchema\n  }, //(Medication) }, // R!  A product in the package\n  \"package.content.$.amount\" :  {\n    optional: true,\n    type: QuantitySchema // (SimpleQuantity)\n  }, // Quantity present in the package\n  \"url\": {\n    optional: true,\n    type: String\n  }\n});\n\n\n\nMedicationStu3 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"Medication\"\n  },\n  \"code\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Codes that identify this medication\n  \"isBrand\" :  {\n    optional: true,\n    type: Boolean\n  }, // True if a brand\n  \"isOverTheCounter\" :  {\n    optional: true,\n    type: Boolean\n  }, // True if a brand\n  \"manufacturer\" :  {\n    optional: true,\n    type: ReferenceSchema\n  },// (Organization) // Manufacturer of the item\n  \"form\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // powder | tablets | capsule +\n  \"ingredient\" :  {\n    optional: true,\n    type: Array\n  }, \n  \"ingredient.$\" :  {\n    optional: true,\n    type: Object\n  }, \n  \"ingredient.$.itemCodeableConcept\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n  }, \n  \"ingredient.$.itemReference\" :  {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  \"ingredient.$.isActive\" :  {\n    optional: true,\n    type: Boolean\n  }, \n  \"ingredient.$.amount\" :  {\n    optional: true,\n    type: RatioSchema\n  }, \n\n\n\n\n\n  \"package\" :  {\n    optional: true,\n    type: Object\n   }, \n\n  \"package.container\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n   }, // E.g. box, vial, blister-pack\n\n   \"package.content\" :  {\n    optional: true,\n    type: Array\n  }, \n   \"package.content.$\" :  {\n    optional: true,\n    type: Object\n  }, \n  \"package.content.$.itemCodeableConcept\" :  {\n    optional: true,\n    type: CodeableConceptSchema\n  }, //(Medication) }, // R!  A product in the package\n  \"package.content.$.itemReference\" :  {\n    optional: true,\n    type: ReferenceSchema\n  }, //(Medication) }, // R!  A product in the package\n  \"package.content.$.amount\" :  {\n    optional: true,\n    type: QuantitySchema // (SimpleQuantity)\n  }, // Quantity present in the package\n  \"package.batch\" :  {\n    optional: true,\n    type: Array\n  }, \n  \"package.batch.$\" :  {\n    optional: true,\n    type: Object\n  }, \n  \"package.batch.$.lotNumber\" :  {\n    optional: true,\n    type: String\n  }, \n  \"package.batch.$.expirationDate\" :  {\n    optional: true,\n    type: Date\n  }, \n\n  \"image\": {\n    optional: true,\n    type: Array\n  },\n  \"image.$\": {\n    optional: true,\n    type: AttachmentSchema\n  }\n\n});\n\n\nMedicationSchema = MedicationDstu2;\n\nBaseSchema.extend(MedicationSchema);\nDomainResourceSchema.extend(MedicationSchema);\nMedications.attachSchema(MedicationSchema);\n\nexport default { Medication, Medications, MedicationSchema, MedicationDstu2, MedicationStu3 };","\n\nimport MedicationsPage from './client/MedicationsPage';\nimport MedicationsTable from './client/MedicationsTable';\nimport MedicationDetail from './client/MedicationDetail';\n\nvar DynamicRoutes = [{\n  'name': 'MedicationsPage',\n  'path': '/medications',\n  'component': MedicationsPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'Medications',\n  'to': '/medications',\n  'href': '/medications'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  MedicationsPage,\n  MedicationsTable\n};\n\n\n","import { CardActions, CardText } from 'material-ui/Card';\n\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport TextField from 'material-ui/TextField';\nimport PropTypes from 'prop-types';\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport { get, set } from 'lodash';\n\n\nexport class MedicationDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      medicationId: false,\n      dstu2: {\n        resourceType: 'Medication',\n        code: {\n          coding: [{\n            system: \"http://hl7.org/fhir/sid/ndc\",\n            code: \"\",\n            display: \"\"\n          }]\n        },\n        isBrand: true,\n        manufacturer: {\n          display: '',\n          reference: ''\n        },\n        product: {\n          form: {\n            coding: [{\n              system: \"http://hl7.org/fhir/sid/ndc\",\n              code: \"\",\n              display: \"\"\n            }],\n          },\n          ingredient: [{\n            item: {\n              display: ''\n            }\n          }]\n        },\n        package: {\n          container: {\n            text: 'bottle'\n          },\n          content: [{\n            amount: {\n              value: 30,\n              unit: 'tablet'\n            }\n          }]\n        }\n      },\n      form: {\n        code: '',\n        name: '',\n        form: '',\n        activeIngredient: '',\n        activeIngredientDescription: '',\n        amount: '',\n        manufacturer: ''\n      }\n    }\n  }\n  shouldComponentUpdate(nextProps){\n    process.env.NODE_ENV === \"test\" && console.log('MedicationDetail.shouldComponentUpdate()', nextProps, this.state)\n    let shouldUpdate = true;\n\n    // both false; don't take any more updates\n    if(nextProps.medication === this.state.dstu2){\n      shouldUpdate = false;\n    }\n\n    // received an medication from the table; okay lets update again\n    if(nextProps.medicationId !== this.state.medicationId){\n      this.setState({medicationId: nextProps.medicationId})\n      \n      if(nextProps.medication){\n        this.setState({dstu2: nextProps.medication})     \n        this.setState({form: this.dehydrateFhirResource(nextProps.medication)})       \n      }\n      shouldUpdate = true;\n    }\n \n    return shouldUpdate;\n  }\n  dehydrateFhirResource(medication) {\n    let formData = Object.assign({}, this.state.form);\n\n    // explicitely opt into the latest\n    if(this.props.fhirVersion === '3.0.1'){\n      formData.code = get(medication, 'code.coding[0].code');\n      formData.name = get(medication, 'code.coding[0].display');  \n      formData.form = get(medication, 'form.coding[0].display');\n      formData.amount = get(medication, 'package.content[0].amount.value');\n      formData.activeIngredient = get(medication, 'ingredient[0].coding[0].display');\n      formData.manufacturer = get(medication, 'manufacturer.display');\n    } else {\n      // otherwise default to v1.0.2\n      formData.code = get(medication, 'code.coding[0].code');\n      formData.name = get(medication, 'code.coding[0].display');\n      formData.form = get(medication, 'product.form.coding[0].display');\n      formData.amount = get(medication, 'package.content[0].amount.value');\n      formData.activeIngredient = get(medication, 'product.ingredient[0].item.display');\n      formData.manufacturer = get(medication, 'manufacturer.display');\n    }\n\n    return formData;\n  }\n  getMeteorData() {\n    let data = {\n      medicationId: this.state.medicationId,\n      medication: false,\n      form: this.state.form\n    };\n\n    if(this.props.medication){\n      data.medication = this.props.medication;\n    }\n\n    return data;\n  }\n\n\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('MedicationDetail.render()', this.state)\n    let formData = this.state.form;\n\n    return (\n      <div id={this.props.id} className=\"medicationDetail\">\n        <CardText>\n          <Row>\n            <Col md={4}>\n              <TextField\n                id='medicationCodeInput'\n                ref='code'\n                name='code'\n                floatingLabelText='National Drug Code'\n                value={ get(formData, 'code') }\n                onChange={ this.changeState.bind(this, 'code')}\n                hintText='0280-6000'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n              <a href='https://www.accessdata.fda.gov/scripts/cder/ndc/index.cfm' target=\"_blank\">National Drug Code Directory</a>\n\n            </Col>\n            <Col md={4}>\n              <TextField\n                id='medicationNameInput'\n                ref='name'\n                name='name'\n                floatingLabelText='Medication Name'\n                value={ get(formData, 'name') }\n                onChange={ this.changeState.bind(this, 'name')}\n                hintText='Aleve'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={4}>\n              <TextField\n                id='manufacturerDisplayInput'\n                ref='manufacturer'\n                name='manufacturer'\n                floatingLabelText='Manufacturer'\n                value={ get(formData, 'manufacturer') }\n                onChange={ this.changeState.bind(this, 'manufacturer')}\n                hintText='Bayer HealthCare LLC.'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={4}>\n              <TextField\n                id='activeIngredientInput'\n                ref='activeIngredient'\n                name='activeIngredient'\n                floatingLabelText='Active Ingredient'\n                value={ get(formData, 'activeIngredient') }\n                onChange={ this.changeState.bind(this, 'activeIngredient')}\n                hintText='NAPROXEN SODIUM'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={8}>  \n              <TextField\n                id='activeIngredientDescriptionInput'\n                ref='activeIngredientDescription'\n                name='activeIngredientDescription'\n                floatingLabelText='Active Ingredient Description'\n                value={ get(formData, 'activeIngredientDescription') }\n                onChange={ this.changeState.bind(this, 'activeIngredientDescription')}\n                floatingLabelFixed={true}\n                disabled\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={2}>\n              <TextField\n                id='amountInput'\n                ref='amount'\n                name='amount'\n                floatingLabelText='Amount'\n                value={ get(formData, 'amount') }\n                onChange={ this.changeState.bind(this, 'amount')}\n                floatingLabelFixed={true}\n                hintText='40'\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={2}>\n              <TextField\n                id='medicationFormInput'\n                ref='form'\n                name='form'\n                floatingLabelText='Substance Form'\n                value={ get(formData, 'form') }\n                onChange={ this.changeState.bind(this, 'form')}\n                hintText='Capsules'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n        </CardText>\n        <CardActions>\n          { this.determineButtons(this.state.medicationId) }\n        </CardActions>\n      </div>\n    );\n  }\n\n\n  determineButtons(medicationId){\n    if (medicationId) {\n      return (\n        <div>\n          <RaisedButton id=\"updateMedicationButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} style={{marginRight: '20px'}}  />\n          <RaisedButton id=\"deleteMedicationButton\" label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id=\"saveMedicationButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n\n  updateFormData(formData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"MedicationDetail.updateFormData\", formData, field, textValue);\n\n    switch (field) {\n      case \"code\":\n        set(formData, 'code', textValue)\n        break;\n      case \"name\":\n        set(formData, 'name', textValue)\n        break;\n      case \"form\":\n        set(formData, 'form', textValue)\n        break;        \n      case \"activeIngredient\":\n        set(formData, 'activeIngredient', textValue)\n        break;        \n      case \"activeIngredientDescription\":\n        set(formData, 'activeIngredientDescription', textValue)\n        break;\n      case \"amount\":\n        set(formData, 'amount', textValue)\n        break;\n      case \"manufacturer\":\n        set(formData, 'manufacturer', textValue)\n        break;\n      default:\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n    return formData;\n  }\n  updateMedication(medicationData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"MedicationDetail.updateMedication\", medicationData, field, textValue);\n\n    switch (field) {\n      case \"code\":\n        set(medicationData, 'code.coding[0].code', textValue)\n        break;\n      case \"name\":\n        set(medicationData, 'code.coding[0].display', textValue)\n        break;\n      case \"form\":\n        set(medicationData, 'product.form.coding[0].display', textValue)\n        break;        \n      case \"activeIngredient\":\n        set(medicationData, 'product.ingredient[0].item.display', textValue)\n        break;        \n      case \"activeIngredientDescription\":\n        // set(medicationData, 'identifier[0].value', textValue)\n        break;\n      case \"amount\":\n        set(medicationData, 'package.content[0].amount.value', textValue)\n        break;\n      case \"manufacturer\":\n        set(medicationData, 'manufacturer.display', textValue)\n        break;\n    }\n    return medicationData;\n  }\n  componentDidUpdate(props){\n    if(process.env.NODE_ENV === \"test\") console.log('MedicationDetail.componentDidUpdate()', props, this.state)\n  }\n\n  changeState(field, event, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"   \");\n    if(process.env.NODE_ENV === \"test\") console.log(\"MedicationDetail.changeState\", field, textValue);\n    if(process.env.NODE_ENV === \"test\") console.log(\"this.state\", this.state);\n\n    let formData = Object.assign({}, this.state.form);\n    let medicationData = Object.assign({}, this.state.dstu2);\n\n    formData = this.updateFormData(formData, field, textValue);\n    medicationData = this.updateMedication(medicationData, field, textValue);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"medicationData\", medicationData);\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n\n    this.setState({dstu2: medicationData})\n    this.setState({form: formData})\n  }\n\n\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&&')\n    console.log('Saving a new Medication...', this.state)\n\n    let self = this;\n    let fhirMedicationData = Object.assign({}, this.state.dstu2);\n\n    if(process.env.NODE_ENV === \"test\") console.log('fhirMedicationData', fhirMedicationData);\n\n    let medicationValidator = MedicationSchema.newContext();\n    medicationValidator.validate(fhirMedicationData)\n\n    console.log('IsValid: ', medicationValidator.isValid())\n    console.log('ValidationErrors: ', medicationValidator.validationErrors());\n\n    if (this.state.medicationId) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Update Medication\");\n      delete fhirMedicationData._id;\n\n      Medications._collection.update(\n        {_id: this.state.medicationId}, {$set: fhirMedicationData }, function(error, result) {\n          if (error) {\n            console.log(\"error\", error);\n            Bert.alert(error.reason, 'danger');\n          }\n          if (result) {\n            HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Medications\", recordId: self.state.medicationId});\n            Session.set('medicationPageTabIndex', 1);\n            Session.set('selectedMedication', false);\n            Session.set('medicationUpsert', false);\n            Bert.alert('Medication updated!', 'success');\n          }\n        });\n    } else {\n\n      if(process.env.NODE_ENV === \"test\") console.log(\"create a new medication\", fhirMedicationData);\n\n      Medications._collection.insert(fhirMedicationData, function(error, result) {\n        if (error) {\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Medications\", recordId: self.state.medicationId});\n          Session.set('medicationPageTabIndex', 1);\n          Session.set('selectedMedication', false);\n          Bert.alert('Medication added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('medicationPageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    let self = this;\n    Medications._collection.remove({_id: this.state.medicationId}, function(error, result){\n      if (error) {\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"Medications\", recordId: self.state.medicationId});\n        Session.set('medicationPageTabIndex', 1);\n        Session.set('selectedMedication', false);\n        Bert.alert('Medication deleted!', 'success');\n      }\n    })\n  }\n}\n\n\nMedicationDetail.propTypes = {\n  id: PropTypes.string,\n  medicationId: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  medication: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};\nReactMixin(MedicationDetail.prototype, ReactMeteorData);\nexport default MedicationDetail;","import React  from 'react';\nimport ReactMixin  from 'react-mixin';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\n\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { CardTitle, CardText } from 'material-ui/Card';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport MedicationDetail from './MedicationDetail';\nimport MedicationsTable from './MedicationsTable';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nSession.setDefault('fhirVersion', 'v1.0.2');\nSession.setDefault('medicationPageTabIndex', 1);\nSession.setDefault('medicationSearchFilter', ''); \nSession.setDefault('selectedMedicationId', false);\n\nexport class MedicationsPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('medicationPageTabIndex'),\n      medicationSearchFilter: Session.get('medicationSearchFilter'),\n      selectedMedicationId: Session.get('selectedMedicationId'),\n      fhirVersion: Session.get('fhirVersion'),\n      selectedMedication: false\n    };\n\n    if (Session.get('selectedMedicationId')){\n      data.selectedMedication = Medications.findOne({_id: Session.get('selectedMedicationId')});\n    } else {\n      data.selectedMedication = false;\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"MedicationsPage[data]\", data);\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('medicationPageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedMedicationId', false);\n    Session.set('medicationUpsert', false);\n  }\n\n  render() {\n    return (\n      <div id=\"medicationsPage\">\n      <VerticalCanvas>\n          <GlassCard height='auto'>\n            <CardTitle\n              title=\"Medications\"\n            />\n            <CardText>\n              <Tabs id=\"medicationsPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n                <Tab className=\"newMedicationTab\" label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0} >\n                  <MedicationDetail \n                    id='newMedication'\n                    fhirVersion={ this.data.fhirVersion }\n                  />  \n                </Tab>\n                <Tab className=\"medicationListTab\" label='Medications' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                  <MedicationsTable />\n                </Tab>\n                <Tab className=\"medicationDetailsTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                  <MedicationDetail \n                    id='medicationDetails'\n                    fhirVersion={ this.data.fhirVersion }\n                    medication={ this.data.selectedMedication }\n                    medicationId={ this.data.selectedMedicationId } />  \n                </Tab>\n              </Tabs>\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\nReactMixin(MedicationsPage.prototype, ReactMeteorData);\n\nexport default MedicationsPage;","import React from 'react';\nimport ReactMixin from 'react-mixin';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\n\nimport { Table } from 'react-bootstrap';\nimport Toggle from 'material-ui/Toggle';\nimport { Glass } from 'meteor/clinical:glass-ui';\nimport { get } from 'lodash';\n\nSession.setDefault('selectedMedications', []);\n\nexport class MedicationsTable extends React.Component {\n  getMeteorData() {\n\n    // this should all be handled by props\n    // or a mixin!\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        block: {\n          maxWidth: 250\n        },\n        checkbox: {\n          //marginBottom: 16\n        },\n        rowText: Glass.darkroom({cursor: 'pointer'})\n      },\n      selected: [],\n      medications: Medications.find().map(function(medication){\n        let result = {\n          _id: '',\n          name: '',\n          manufacturer: '',\n          activeIngredient: '',\n          form: '',\n          amount: '',\n          activeIngredient: ''\n        };\n\n        result._id = get(medication, '_id');\n        result.code = get(medication, 'code.coding[0].code');\n        result.name = get(medication, 'code.coding[0].display');\n        result.form = get(medication, 'product.form.coding[0].display');\n        result.activeIngredient = get(medication, 'product.ingredient[0].item.display');\n        result.amount = get(medication, 'package.content[0].amount.value');\n        result.manufacturer = get(medication, 'manufacturer.display');\n\n        return result;\n      })\n    };\n\n\n    return data;\n  }\n\n\n  rowClick(id){\n    Session.set('medicationUpsert', false);\n    Session.set('selectedMedicationId', id);\n    Session.set('medicationPageTabIndex', 2);\n  }\n  render () {\n    if(process.env.NODE_ENV === \"test\") console.log(\"MedicationTable.render()\");\n\n    let tableRows = [];\n    for (var i = 0; i < this.data.medications.length; i++) {\n      tableRows.push(\n      <tr className='medicationRow' ref='med-{i}' key={i} style={this.data.style.rowText} onClick={ this.rowClick.bind('this', this.data.medications[i]._id) }>\n        <td className=\"check\">\n          <Toggle\n            ref='med-{i}'\n            style={this.data.style.checkbox}\n          />\n        </td>\n        <td className=\"code hidden-on-phone\">{this.data.medications[i].code}</td>\n        <td className=\"name hidden-on-phone\">{this.data.medications[i].name}</td>\n        <td className=\"manufacturer hidden-on-phone\">{this.data.medications[i].manufacturer}</td>\n        <td className=\"amount\">{this.data.medications[i].amount}</td>\n        <td className=\"form\">{this.data.medications[i].form}</td>\n        <td className=\"activeIngredient\">{this.data.medications[i].activeIngredient}</td>\n        <td className=\"barcode hidden-on-phone\">{this.data.medications[i]._id}</td>\n      </tr>);\n    }\n\n\n    return(\n      <Table id=\"medicationsTable\" ref='medicationsTable' hover >\n        <thead>\n          <tr>\n            <th className=\"check\">prescribed</th>\n            <th className=\"code hidden-on-phone\">code</th>\n            <th className=\"name hidden-on-phone\">name</th>\n            <th className=\"manufacturer hidden-on-phone\">manufacturer</th>\n            <th className=\"amount\">amount</th>\n            <th className=\"form\">form</th>\n            <th className=\"activeIngredient\">active ingredient</th>\n            <th className=\"id hidden-on-phone\">medication._id</th>\n          </tr>\n        </thead>\n        <tbody>\n          { tableRows }\n        </tbody>\n      </Table>\n    );\n  }\n}\n\nReactMixin(MedicationsTable.prototype, ReactMeteorData);\nexport default MedicationsTable;"]}