{"version":3,"sources":["meteor://ðŸ’»app/packages/clinical:hl7-resource-diagnostic-report/lib/DiagnosticReports.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-diagnostic-report/index.jsx","meteor://ðŸ’»app/packages/clinical:hl7-resource-diagnostic-report/client/DiagnosticReportDetail.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-diagnostic-report/client/DiagnosticReportsPage.js","meteor://ðŸ’»app/packages/clinical:hl7-resource-diagnostic-report/client/DiagnosticReportsTable.js"],"names":["SimpleSchema","module","link","v","Package","console","log","DiagnosticReport","BaseModel","extend","prototype","_collection","DiagnosticReports","Mongo","Collection","connection","_transform","document","DiagnosticReportDstu2","type","String","defaultValue","optional","Array","IdentifierSchema","Code","allowedValues","CodeableConceptSchema","ReferenceSchema","Date","PeriodSchema","Object","AttachmentSchema","DiagnosticReportStu3","DiagnosticReportSchema","BaseSchema","DomainResourceSchema","attachSchema","exportDefault","export","SidebarElements","DynamicRoutes","DiagnosticReportsPage","DiagnosticReportsTable","DiagnosticReportDetail","CardActions","CardText","GlassCard","VerticalCanvas","Glass","DatePicker","RaisedButton","React","ReactMeteorData","ReactMixin","TextField","browserHistory","get","set","PropTypes","Col","Grid","Row","moment","Session","setDefault","props","state","diagnosticReportId","diagnosticReport","resourceType","code","text","status","issued","subject","display","reference","performer","actor","identifier","category","coding","effectiveDateTime","conclusion","form","subjectDisplay","subjectReference","performerDisplay","performerReference","dehydrateFhirResource","formData","assign","shouldComponentUpdate","nextProps","process","env","NODE_ENV","shouldUpdate","setState","getMeteorData","data","showDatePicker","fhirVersion","renderDatePicker","datePickerValue","changeState","bind","render","id","determineButtons","handleSaveButton","marginRight","handleDeleteButton","updateFormData","field","textValue","updateDiagnosticReport","diagnosticReportData","event","self","fhirDiagnosticReportData","diagnosticReportValidator","newContext","validate","isValid","validationErrors","_id","update","$set","error","result","Bert","alert","reason","HipaaLogger","logEvent","eventType","userId","Meteor","userName","user","fullName","collectionName","recordId","insert","handleCancelButton","remove","Component","propTypes","string","oneOfType","bool","object","CardTitle","Tab","Tabs","style","opacity","tab","borderBottom","borderRight","tabIndex","diagnosticReportSearchFilter","selectedDiagnosticReportId","selectedDiagnosticReport","findOne","blur","appbar","darkroom","handleTabChange","index","onNewTab","handleActive","Card","CardMedia","Table","Toggle","mapDiagnosticReportToRow","report","newRow","effectiveDate","format","selected","diagnosticReports","displayToggle","displayDates","displayToggles","map","push","find","count","renderTogglesHeader","renderToggles","patientId","renderDateHeader","width","renderDate","newDate","rowClick","tableRows","i","length","cursor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,YAAJ;AAAiBC,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAAA,uBAASC,CAAT,EAAW;AAACH,gBAAY,GAACG,CAAb;AAAe;AAA3B,CAA3B,EAAwD,CAAxD;;AAEjB,IAAGC,OAAO,CAAC,sBAAD,CAAV,EAAmC;AACjCC,SAAO,CAACC,GAAR,CAAY,+EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,4EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,8EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,8EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,oCAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,EAAZ;AACD;;AACD,IAAGF,OAAO,CAAC,aAAD,CAAV,EAA0B;AACxBC,SAAO,CAACC,GAAR,CAAY,+EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,yEAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,8EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,EAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,2BAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,iCAAZ;AACAD,SAAO,CAACC,GAAR,CAAY,EAAZ;AACD,C,CAID;;;AACAC,gBAAgB,GAAGC,SAAS,CAACC,MAAV,EAAnB,C,CAGA;;AACAF,gBAAgB,CAACG,SAAjB,CAA2BC,WAA3B,GAAyCC,iBAAzC,C,CAEA;AACA;;AACA,IAAG,OAAOA,iBAAP,KAA6B,WAAhC,EAA4C;AAC1C,MAAGR,OAAO,CAAC,sBAAD,CAAV,EAAmC;AACjCQ,qBAAiB,GAAG,IAAIC,KAAK,CAACC,UAAV,CAAqB,mBAArB,CAApB;AACD,GAFD,MAEO,IAAGV,OAAO,CAAC,0BAAD,CAAV,EAAuC;AAC5CQ,qBAAiB,GAAG,IAAIC,KAAK,CAACC,UAAV,CAAqB,mBAArB,CAApB;AACD,GAFM,MAEA;AACLF,qBAAiB,GAAG,IAAIC,KAAK,CAACC,UAAV,CAAqB,mBAArB,EAA0C;AAACC,gBAAU,EAAE;AAAb,KAA1C,CAApB;AACD;AACF,C,CAED;;;AACAH,iBAAiB,CAACI,UAAlB,GAA+B,UAAUC,QAAV,EAAoB;AACjD,SAAO,IAAIV,gBAAJ,CAAqBU,QAArB,CAAP;AACD,CAFD,C,CAKA;AACA;;;AACAC,qBAAqB,GAAG,IAAIlB,YAAJ,CAAiB;AACvC,kBAAiB;AACfmB,QAAI,EAAEC,MADS;AAEfC,gBAAY,EAAE;AAFC,GADsB;AAKvC,gBAAe;AACbC,YAAQ,EAAE,IADG;AAEbH,QAAI,EAAGI;AAFM,GALwB;AASvC,kBAAiB;AACfD,YAAQ,EAAE,IADK;AAEfH,QAAI,EAAGK;AAFQ,GATsB;AAavC,YAAW;AACTL,QAAI,EAAEM,IADG;AAETC,iBAAa,EAAE,CAAC,YAAD,EAAe,SAAf,EAA0B,OAA1B,EAAmC,WAAnC,EAAgD,UAAhD,EAA4D,WAA5D,EAAyE,kBAAzE;AAFN,GAb4B;AAiBvC,cAAa;AACXJ,YAAQ,EAAE,IADC;AAEXH,QAAI,EAAEQ;AAFK,GAjB0B;AAoBpC;AACH,UAAS;AACPL,YAAQ,EAAE,IADH;AAEPH,QAAI,EAAEQ;AAFC,GArB8B;AAwBpC;AACH,aAAY;AACVL,YAAQ,EAAE,IADA;AAEVH,QAAI,EAAES;AAFI,GAzB2B;AA4BpC;AACH,eAAc;AACZN,YAAQ,EAAE,IADE;AAEZH,QAAI,EAAES;AAFM,GA7ByB;AAiCvC,uBAAsB;AACpBN,YAAQ,EAAE,IADU;AAEpBH,QAAI,EAAEU;AAFc,GAjCiB;AAqCvC,qBAAoB;AAClBP,YAAQ,EAAE,IADQ;AAElBH,QAAI,EAAEW;AAFY,GArCmB;AAyCvC,YAAW;AACTX,QAAI,EAAEU;AADG,GAzC4B;AA2CpC;AACH,eAAc;AACZV,QAAI,EAAES;AADM,GA5CyB;AA+CvC,cAAa;AACXN,YAAQ,EAAE,IADC;AAEXH,QAAI,EAAES;AAFK,GA/C0B;AAkDpC;AACH,YAAW;AACTN,YAAQ,EAAE,IADD;AAETH,QAAI,EAAEI;AAFG,GAnD4B;AAsDpC;AACH,cAAa;AACXD,YAAQ,EAAE,IADC;AAEXH,QAAI,EAAES;AAFK,GAvD0B;AA0DpC;AAEH,kBAAiB;AACfN,YAAQ,EAAE,IADK;AAEfH,QAAI,EAAEI;AAFS,GA5DsB;AA+DpC;AACH,oBAAmB;AACjBD,YAAQ,EAAE,IADO;AAEjBH,QAAI,EAAES;AAFW,GAhEoB;AAmEpC;AACH,WAAU;AACRN,YAAQ,EAAE,IADF;AAERH,QAAI,EAAGI;AAFC,GApE6B;AAwEvC,aAAY;AACVD,YAAQ,EAAE,IADA;AAEVH,QAAI,EAAGY;AAFG,GAxE2B;AA4EvC,qBAAoB;AAClBT,YAAQ,EAAE,IADQ;AAElBH,QAAI,EAAEC;AAFY,GA5EmB;AA+EpC;AACH,kBAAiB;AACfD,QAAI,EAAES;AADS,GAhFsB;AAkFpC;AACH,gBAAe;AACbN,YAAQ,EAAE,IADG;AAEbH,QAAI,EAAEC;AAFO,GAnFwB;AAsFpC;AACH,oBAAmB;AACjBE,YAAQ,EAAE,IADO;AAEjBH,QAAI,EAAEI;AAFW,GAvFoB;AA0FpC;AACH,sBAAqB;AACnBD,YAAQ,EAAE,IADS;AAEnBH,QAAI,EAAEQ;AAFa,GA3FkB;AA8FpC;AACH,mBAAkB;AAChBL,YAAQ,EAAE,IADM;AAEhBH,QAAI,EAAEI;AAFU,GA/FqB;AAkGpC;AACH,qBAAoB;AAClBD,YAAQ,EAAE,IADQ;AAElBH,QAAI,EAAEa,gBAFY,CAGlB;;AAHkB;AAnGmB,CAAjB,CAAxB;AA4GAC,oBAAoB,GAAG,IAAIjC,YAAJ,CAAiB;AACtC,kBAAiB;AACfmB,QAAI,EAAEC,MADS;AAEfC,gBAAY,EAAE;AAFC,GADqB;AAKtC,gBAAe;AACbC,YAAQ,EAAE,IADG;AAEbH,QAAI,EAAGI;AAFM,GALuB;AAStC,kBAAiB;AACfD,YAAQ,EAAE,IADK;AAEfH,QAAI,EAAGK;AAFQ,GATqB;AAatC,aAAY;AACVF,YAAQ,EAAE,IADA;AAEVH,QAAI,EAAES;AAFI,GAb0B;AAgBnC;AACH,YAAW;AACTT,QAAI,EAAEM,IADG;AAETC,iBAAa,EAAE,CAAC,YAAD,EAAe,SAAf,EAA0B,aAA1B,EAAyC,OAAzC;AAFN,GAjB2B;AAqBtC,cAAa;AACXJ,YAAQ,EAAE,IADC;AAEXH,QAAI,EAAEQ;AAFK,GArByB;AAwBnC;AACH,UAAS;AACPL,YAAQ,EAAE,IADH;AAEPH,QAAI,EAAEQ;AAFC,GAzB6B;AA4BnC;AACH,aAAY;AACVL,YAAQ,EAAE,IADA;AAEVH,QAAI,EAAES;AAFI,GA7B0B;AAgCnC;AACH,aAAY;AACVN,YAAQ,EAAE,IADA;AAEVH,QAAI,EAAES;AAFI,GAjC0B;AAqCtC,uBAAsB;AACpBN,YAAQ,EAAE,IADU;AAEpBH,QAAI,EAAEU;AAFc,GArCgB;AAyCtC,qBAAoB;AAClBP,YAAQ,EAAE,IADQ;AAElBH,QAAI,EAAEW;AAFY,GAzCkB;AA6CtC,YAAW;AACTR,YAAQ,EAAE,IADD;AAETH,QAAI,EAAEU;AAFG,GA7C2B;AAgDnC;AACH,eAAc;AACZP,YAAQ,EAAE,IADE;AAEZH,QAAI,EAAEI;AAFM,GAjDwB;AAqDtC,iBAAgB;AACdD,YAAQ,EAAE,IADI;AAEdH,QAAI,EAAEY;AAFQ,GArDsB;AAyDtC,oBAAmB;AACjBT,YAAQ,EAAE,IADO;AAEjBH,QAAI,EAAEQ;AAFW,GAzDmB;AA6DtC,qBAAoB;AAClBR,QAAI,EAAES;AADY,GA7DkB;AAgEtC,cAAa;AACXN,YAAQ,EAAE,IADC;AAEXH,QAAI,EAAEI;AAFK,GAhEyB;AAmEnC;AACH,gBAAe;AACbD,YAAQ,EAAE,IADG;AAEbH,QAAI,EAAES;AAFO,GApEuB;AAuEnC;AACH,YAAW;AACTN,YAAQ,EAAE,IADD;AAETH,QAAI,EAAEI;AAFG,GAxE2B;AA2EnC;AACH,cAAa;AACXD,YAAQ,EAAE,IADC;AAEXH,QAAI,EAAES;AAFK,GA5EyB;AA+EnC;AAEH,kBAAiB;AACfN,YAAQ,EAAE,IADK;AAEfH,QAAI,EAAEI;AAFS,GAjFqB;AAoFnC;AACH,oBAAmB;AACjBD,YAAQ,EAAE,IADO;AAEjBH,QAAI,EAAES;AAFW,GArFmB;AAwFnC;AACH,WAAU;AACRN,YAAQ,EAAE,IADF;AAERH,QAAI,EAAGI;AAFC,GAzF4B;AA6FtC,aAAY;AACVD,YAAQ,EAAE,IADA;AAEVH,QAAI,EAAGY;AAFG,GA7F0B;AAiGtC,qBAAoB;AAClBT,YAAQ,EAAE,IADQ;AAElBH,QAAI,EAAEC;AAFY,GAjGkB;AAoGnC;AACH,kBAAiB;AACfD,QAAI,EAAES;AADS,GArGqB;AAuGnC;AACH,gBAAe;AACbN,YAAQ,EAAE,IADG;AAEbH,QAAI,EAAEC;AAFO,GAxGuB;AA2GnC;AACH,oBAAmB;AACjBE,YAAQ,EAAE,IADO;AAEjBH,QAAI,EAAEI;AAFW,GA5GmB;AA+GnC;AACH,sBAAqB;AACnBD,YAAQ,EAAE,IADS;AAEnBH,QAAI,EAAEQ;AAFa,GAhHiB;AAmHnC;AACH,mBAAkB;AAChBL,YAAQ,EAAE,IADM;AAEhBH,QAAI,EAAEI;AAFU,GApHoB;AAuHnC;AACH,qBAAoB;AAClBD,YAAQ,EAAE,IADQ;AAElBH,QAAI,EAAEa,gBAFY,CAGlB;;AAHkB;AAxHkB,CAAjB,CAAvB;AA8HAE,sBAAsB,GAAGhB,qBAAzB;AAEAiB,UAAU,CAAC1B,MAAX,CAAkByB,sBAAlB;AACAE,oBAAoB,CAAC3B,MAArB,CAA4ByB,sBAA5B;AACAtB,iBAAiB,CAACyB,YAAlB,CAA+BH,sBAA/B;AAhSAjC,MAAM,CAACqC,aAAP,CAkSe;AAAE/B,kBAAgB,EAAhBA,gBAAF;AAAoBK,mBAAiB,EAAjBA,iBAApB;AAAuCsB,wBAAsB,EAAtBA,sBAAvC;AAA+DhB,uBAAqB,EAArBA,qBAA/D;AAAsFe,sBAAoB,EAApBA;AAAtF,CAlSf,E;;;;;;;;;;;ACAAhC,MAAM,CAACsC,MAAP,CAAc;AAACC,iBAAe,EAAC;AAAA,WAAIA,eAAJ;AAAA,GAAjB;AAAqCC,eAAa,EAAC;AAAA,WAAIA,aAAJ;AAAA,GAAnD;AAAqEC,uBAAqB,EAAC;AAAA,WAAIA,qBAAJ;AAAA,GAA3F;AAAqHC,wBAAsB,EAAC;AAAA,WAAIA,sBAAJ;AAAA;AAA5I,CAAd;AAAuL,IAAID,qBAAJ;AAA0BzC,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAAA,uBAASC,CAAT,EAAW;AAACuC,yBAAqB,GAACvC,CAAtB;AAAwB;AAApC,CAA7C,EAAmF,CAAnF;AAAsF,IAAIwC,sBAAJ;AAA2B1C,MAAM,CAACC,IAAP,CAAY,iCAAZ,EAA8C;AAAA,uBAASC,CAAT,EAAW;AAACwC,0BAAsB,GAACxC,CAAvB;AAAyB;AAArC,CAA9C,EAAqF,CAArF;AAAwF,IAAII,gBAAJ,EAAqBK,iBAArB,EAAuCsB,sBAAvC;AAA8DjC,MAAM,CAACC,IAAP,CAAY,yBAAZ,EAAsC;AAACK,kBAAD,YAAkBJ,CAAlB,EAAoB;AAACI,oBAAgB,GAACJ,CAAjB;AAAmB,GAAxC;AAAyCS,mBAAzC,YAA2DT,CAA3D,EAA6D;AAACS,qBAAiB,GAACT,CAAlB;AAAoB,GAAlF;AAAmF+B,wBAAnF,YAA0G/B,CAA1G,EAA4G;AAAC+B,0BAAsB,GAAC/B,CAAvB;AAAyB;AAAtI,CAAtC,EAA8K,CAA9K;AAMxd,IAAIsC,aAAa,GAAG,CAAC;AACnB,UAAQ,uBADW;AAEnB,UAAQ,qBAFW;AAGnB,eAAaC,qBAHM;AAInB,iBAAe;AAJI,CAAD,CAApB;AAOA,IAAIF,eAAe,GAAG,CAAC;AACrB,iBAAe,mBADM;AAErB,QAAM,qBAFe;AAGrB,UAAQ;AAHa,CAAD,CAAtB,C;;;;;;;;;;;;;;;ACbAvC,MAAM,CAACsC,MAAP,CAAc;AAACK,wBAAsB,EAAC;AAAA,WAAIA,sBAAJ;AAAA;AAAxB,CAAd;AAAmE,IAAIC,WAAJ,EAAgBC,QAAhB;AAAyB7C,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAAC2C,aAAD,YAAa1C,CAAb,EAAe;AAAC0C,eAAW,GAAC1C,CAAZ;AAAc,GAA9B;AAA+B2C,UAA/B,YAAwC3C,CAAxC,EAA0C;AAAC2C,YAAQ,GAAC3C,CAAT;AAAW;AAAtD,CAA/B,EAAuF,CAAvF;AAA0F,IAAI4C,SAAJ,EAAcC,cAAd,EAA6BC,KAA7B;AAAmChD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC6C,WAAD,YAAW5C,CAAX,EAAa;AAAC4C,aAAS,GAAC5C,CAAV;AAAY,GAA1B;AAA2B6C,gBAA3B,YAA0C7C,CAA1C,EAA4C;AAAC6C,kBAAc,GAAC7C,CAAf;AAAiB,GAA9D;AAA+D8C,OAA/D,YAAqE9C,CAArE,EAAuE;AAAC8C,SAAK,GAAC9C,CAAN;AAAQ;AAAhF,CAAvC,EAAyH,CAAzH;AAA4H,IAAI+C,UAAJ;AAAejD,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAAA,uBAASC,CAAT,EAAW;AAAC+C,cAAU,GAAC/C,CAAX;AAAa;AAAzB,CAArC,EAAgE,CAAhE;AAAmE,IAAIgD,YAAJ;AAAiBlD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACgD,gBAAY,GAAChD,CAAb;AAAe;AAA3B,CAAvC,EAAoE,CAApE;AAAuE,IAAIiD,KAAJ;AAAUnD,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAACiD,SAAK,GAACjD,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIkD,eAAJ;AAAoBpD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACmD,iBAAD,YAAiBlD,CAAjB,EAAmB;AAACkD,mBAAe,GAAClD,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAImD,UAAJ;AAAerD,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAACmD,cAAU,GAACnD,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAIoD,SAAJ;AAActD,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAAA,uBAASC,CAAT,EAAW;AAACoD,aAAS,GAACpD,CAAV;AAAY;AAAxB,CAApC,EAA8D,CAA9D;AAAiE,IAAIqD,cAAJ;AAAmBvD,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACsD,gBAAD,YAAgBrD,CAAhB,EAAkB;AAACqD,kBAAc,GAACrD,CAAf;AAAiB;AAApC,CAA3B,EAAiE,CAAjE;AAAoE,IAAIsD,GAAJ,EAAQC,GAAR;AAAYzD,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACuD,KAAD,YAAKtD,CAAL,EAAO;AAACsD,OAAG,GAACtD,CAAJ;AAAM,GAAd;AAAeuD,KAAf,YAAmBvD,CAAnB,EAAqB;AAACuD,OAAG,GAACvD,CAAJ;AAAM;AAA5B,CAArB,EAAmD,CAAnD;AAAsD,IAAIwD,SAAJ;AAAc1D,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAAA,uBAASC,CAAT,EAAW;AAACwD,aAAS,GAACxD,CAAV;AAAY;AAAxB,CAAzB,EAAmD,EAAnD;AAAuD,IAAIyD,GAAJ,EAAQC,IAAR,EAAaC,GAAb;AAAiB7D,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC0D,KAAD,YAAKzD,CAAL,EAAO;AAACyD,OAAG,GAACzD,CAAJ;AAAM,GAAd;AAAe0D,MAAf,YAAoB1D,CAApB,EAAsB;AAAC0D,QAAI,GAAC1D,CAAL;AAAO,GAA9B;AAA+B2D,KAA/B,YAAmC3D,CAAnC,EAAqC;AAAC2D,OAAG,GAAC3D,CAAJ;AAAM;AAA5C,CAA9B,EAA4E,EAA5E;AAAgF,IAAI4D,MAAJ;AAAW9D,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAAC6D,QAAD,YAAQ5D,CAAR,EAAU;AAAC4D,UAAM,GAAC5D,CAAP;AAAS;AAApB,CAArC,EAA2D,EAA3D;AA0B5nC6D,OAAO,CAACC,UAAR,CAAmB,0BAAnB,EAA+C,KAA/C;AACAD,OAAO,CAACC,UAAR,CAAmB,aAAnB,EAAkC,QAAlC;;IAEarB,sB;;;;;AACX,kCAAYsB,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,wBAAkB,EAAE,KADT;AAEXC,sBAAgB,EAAE;AAChBC,oBAAY,EAAE,kBADE;AAEhBC,YAAI,EAAE;AACJC,cAAI,EAAE;AADF,SAFU;AAKhBC,cAAM,EAAE,OALQ;AAMhBC,cAAM,EAAE,EANQ;AAOhBC,eAAO,EAAE;AACPC,iBAAO,EAAE,EADF;AAEPC,mBAAS,EAAE;AAFJ,SAPO;AAWhBC,iBAAS,EAAE;AACTC,eAAK,EAAE;AACLH,mBAAO,EAAE,EADJ;AAELC,qBAAS,EAAE;AAFN;AADE,SAXK;AAiBhBG,kBAAU,EAAE,EAjBI;AAkBhBC,gBAAQ,EAAE;AACRC,gBAAM,EAAE;AADA,SAlBM;AAqBhBC,yBAAiB,EAAE,IAAItD,IAAJ,EArBH;AAsBhBuD,kBAAU,EAAE;AAtBI,OAFP;AA0BXC,UAAI,EAAE;AACJL,kBAAU,EAAE,EADR;AAEJP,cAAM,EAAE,EAFJ;AAGJF,YAAI,EAAE,EAHF;AAIJU,gBAAQ,EAAE,EAJN;AAKJK,sBAAc,EAAE,EALZ;AAMJC,wBAAgB,EAAE,EANd;AAOJC,wBAAgB,EAAE,EAPd;AAQJC,0BAAkB,EAAE,EARhB;AASJN,yBAAiB,EAAE,EATf;AAUJC,kBAAU,EAAE;AAVR;AA1BK,KAAb;AAFiB;AAyClB;;;;SACDM,qB;mCAAsBrB,gB,EAAkB;AACtC,UAAIsB,QAAQ,GAAG5D,MAAM,CAAC6D,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWkB,IAA7B,CAAf;AAEAM,cAAQ,CAACX,UAAT,GAAsBvB,GAAG,CAACY,gBAAD,EAAmB,qBAAnB,CAAzB;AACAsB,cAAQ,CAAClB,MAAT,GAAkBhB,GAAG,CAACY,gBAAD,EAAmB,QAAnB,CAArB;AACAsB,cAAQ,CAACpB,IAAT,GAAgBd,GAAG,CAACY,gBAAD,EAAmB,WAAnB,CAAnB;AACAsB,cAAQ,CAACV,QAAT,GAAoBxB,GAAG,CAACY,gBAAD,EAAmB,eAAnB,CAAvB;AACAsB,cAAQ,CAACL,cAAT,GAA0B7B,GAAG,CAACY,gBAAD,EAAmB,iBAAnB,CAA7B;AACAsB,cAAQ,CAACJ,gBAAT,GAA4B9B,GAAG,CAACY,gBAAD,EAAmB,mBAAnB,CAA/B;AACAsB,cAAQ,CAACH,gBAAT,GAA4B/B,GAAG,CAACY,gBAAD,EAAmB,mBAAnB,CAA/B;AACAsB,cAAQ,CAACF,kBAAT,GAA8BhC,GAAG,CAACY,gBAAD,EAAmB,qBAAnB,CAAjC;AACAsB,cAAQ,CAACR,iBAAT,GAA6B1B,GAAG,CAACY,gBAAD,EAAmB,mBAAnB,CAAhC;AACAsB,cAAQ,CAACP,UAAT,GAAsB3B,GAAG,CAACY,gBAAD,EAAmB,YAAnB,CAAzB;AAEA,aAAOsB,QAAP;AACD;;;;;SACDE,qB;mCAAsBC,S,EAAU;AAC9BC,aAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,IAAmC5F,OAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8DwF,SAA9D,EAAyE,KAAK3B,KAA9E,CAAnC;AACA,UAAI+B,YAAY,GAAG,IAAnB,CAF8B,CAI9B;;AACA,UAAGJ,SAAS,CAACzB,gBAAV,KAA+B,KAAKF,KAAL,CAAWE,gBAA7C,EAA8D;AAC5D6B,oBAAY,GAAG,KAAf;AACD,OAP6B,CAS9B;;;AACA,UAAGJ,SAAS,CAAC1B,kBAAV,KAAiC,KAAKD,KAAL,CAAWC,kBAA/C,EAAkE;AAChE,aAAK+B,QAAL,CAAc;AAAC/B,4BAAkB,EAAE0B,SAAS,CAAC1B;AAA/B,SAAd;;AAEA,YAAG0B,SAAS,CAACzB,gBAAb,EAA8B;AAC5B,eAAK8B,QAAL,CAAc;AAAC9B,4BAAgB,EAAEyB,SAAS,CAACzB;AAA7B,WAAd;AACA,eAAK8B,QAAL,CAAc;AAACd,gBAAI,EAAE,KAAKK,qBAAL,CAA2BI,SAAS,CAACzB,gBAArC;AAAP,WAAd;AACD;;AACD6B,oBAAY,GAAG,IAAf;AACD;;AAED,aAAOA,YAAP;AACD;;;;;SACDE,a;6BAAgB;AACd,UAAIC,IAAI,GAAG;AACTjC,0BAAkB,EAAE,KAAKF,KAAL,CAAWE,kBADtB;AAETC,wBAAgB,EAAE,KAFT;AAGTiC,sBAAc,EAAE,KAHP;AAITC,mBAAW,EAAE,KAAKrC,KAAL,CAAWqC,WAJf;AAKTlB,YAAI,EAAE,KAAKlB,KAAL,CAAWkB;AALR,OAAX;;AAQA,UAAG,KAAKnB,KAAL,CAAWqC,WAAd,EAA0B;AACxBF,YAAI,CAACE,WAAL,GAAmB,KAAKrC,KAAL,CAAWqC,WAA9B;AACD;;AAED,UAAG,KAAKrC,KAAL,CAAWoC,cAAd,EAA6B;AAC3BD,YAAI,CAACC,cAAL,GAAsB,KAAKpC,KAAL,CAAWoC,cAAjC;AACD;;AAED,UAAG,KAAKpC,KAAL,CAAWG,gBAAd,EAA+B;AAC7BgC,YAAI,CAAChC,gBAAL,GAAwB,KAAKH,KAAL,CAAWG,gBAAnC;AACD,OAnBa,CAqBd;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;;;AAGAhE,aAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C+F,IAA5C;AACA,aAAOA,IAAP;AACD;;;;;SACDG,gB;8BAAiBF,c,EAAgBG,e,EAAgB;AAC/C,UAAI,OAAOA,eAAP,KAA2B,QAA/B,EAAwC;AACtCA,uBAAe,GAAG,IAAI5E,IAAJ,CAAS4E,eAAT,CAAlB;AACD;;AACD,UAAIH,cAAJ,EAAoB;AAClB,eACE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,YAAE,EAAE;AAAT,WACE,oBAAC,UAAD;AACE,cAAI,EAAC,eADP;AAEE,2BAAiB,EAAC,gBAFpB;AAGE,kBAAQ,EAAC,YAHX;AAIE,mBAAS,EAAC,QAJZ;AAKE,cAAI,EAAC,WALP;AAME,eAAK,EAAGG,eAAe,GAAGA,eAAH,GAAqB,IAN9C;AAOE,kBAAQ,EAAG,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,eAA5B,CAPb;AAQE,4BAAkB,EAAE,IARtB;AASE,mBAAS;AATX,UADF,CADF,CADF;AAiBD;AACF;;;;;SACDC,M;sBAAS;AACP,UAAGb,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+C,KAAK6D,KAApD;AACpC,UAAIwB,QAAQ,GAAG,KAAKxB,KAAL,CAAWkB,IAA1B;AAEA,aACE;AAAK,UAAE,EAAE,KAAKnB,KAAL,CAAW2C,EAApB;AAAwB,iBAAS,EAAC;AAAlC,SACE,oBAAC,QAAD,QACA,oBAAC,GAAD,QACI,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,iBADL;AAEE,WAAG,EAAC,YAFN;AAGE,YAAI,EAAC,YAHP;AAIE,yBAAiB,EAAC,YAJpB;AAKE,aAAK,EAAGpD,GAAG,CAACkC,QAAD,EAAW,YAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,YAA5B,CANb;AAOE,gBAAQ,EAAC,aAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CADJ,EAcI,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,aADL;AAEE,WAAG,EAAC,QAFN;AAGE,YAAI,EAAC,QAHP;AAIE,yBAAiB,EAAC,QAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,QAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,QAA5B,CANb;AAOE,gBAAQ,EAAC,OAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CAdJ,EA2BI,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,WADL;AAEE,WAAG,EAAC,MAFN;AAGE,YAAI,EAAC,MAHP;AAIE,yBAAiB,EAAC,MAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,MAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,MAA5B,CANb;AAOE,gBAAQ,EAAC,kBAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CA3BJ,EAwCI,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,eADL;AAEE,WAAG,EAAC,UAFN;AAGE,YAAI,EAAC,UAHP;AAIE,yBAAiB,EAAC,UAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,UAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,UAA5B,CANb;AAOE,gBAAQ,EAAC,sBAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CAxCJ,CADA,EAuDE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,qBADL;AAEE,WAAG,EAAC,gBAFN;AAGE,YAAI,EAAC,gBAHP;AAIE,yBAAiB,EAAC,SAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,gBAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,gBAA5B,CANb;AAOE,gBAAQ,EAAC,UAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CADF,EAcE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,uBADL;AAEE,WAAG,EAAC,kBAFN;AAGE,YAAI,EAAC,kBAHP;AAIE,yBAAiB,EAAC,mBAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,kBAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,kBAA5B,CANb;AAOE,gBAAQ,EAAC,mBAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CAdF,CAvDF,EAmFE,oBAAC,GAAD,QACE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,uBADL;AAEE,WAAG,EAAC,kBAFN;AAGE,YAAI,EAAC,kBAHP;AAIE,yBAAiB,EAAC,WAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,kBAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,kBAA5B,CANb;AAOE,gBAAQ,EAAC,eAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CADF,EAcE,oBAAC,GAAD;AAAK,UAAE,EAAE;AAAT,SACE,oBAAC,SAAD;AACE,UAAE,EAAC,yBADL;AAEE,WAAG,EAAC,oBAFN;AAGE,YAAI,EAAC,oBAHP;AAIE,yBAAiB,EAAC,WAJpB;AAKE,aAAK,EAAGlD,GAAG,CAACkC,QAAD,EAAW,oBAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,oBAA5B,CANb;AAOE,gBAAQ,EAAC,wBAPX;AAQE,0BAAkB,EAAE,IARtB;AASE,iBAAS;AATX,QADF,EAWM,+BAXN,CAdF,CAnFF,EAgHI,KAAKH,gBAAL,CAAsB,IAAtB,EAA4B/C,GAAG,CAACkC,QAAD,EAAW,eAAX,CAA/B,CAhHJ,EAkHE,oBAAC,SAAD;AACE,UAAE,EAAC,iBADL;AAEE,WAAG,EAAC,YAFN;AAGE,YAAI,EAAC,YAHP;AAIE,yBAAiB,EAAC,YAJpB;AAKE,aAAK,EAAGlC,GAAG,CAACkC,QAAD,EAAW,YAAX,CALb;AAME,gBAAQ,EAAG,KAAKe,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,YAA5B,CANb;AAOE,iBAAS,EAAE,IAPb;AAQE,YAAI,EAAE,CARR;AASE,iBAAS;AATX,QAlHF,EA4HM,+BA5HN,CADF,EA+HE,oBAAC,WAAD,QACI,KAAKG,gBAAL,CAAsB,KAAKT,IAAL,CAAUjC,kBAAhC,CADJ,CA/HF,CADF;AAqID;;;;;SAED0C,gB;8BAAiB1C,kB,EAAmB;AAClC,UAAIA,kBAAJ,EAAwB;AACtB,eACE,iCACE,oBAAC,YAAD;AAAc,YAAE,EAAC,8BAAjB;AAAgD,eAAK,EAAC,MAAtD;AAA6D,iBAAO,EAAE,IAAtE;AAA4E,iBAAO,EAAE,KAAK2C,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAArF;AAAwH,eAAK,EAAE;AAACK,uBAAW,EAAE;AAAd;AAA/H,UADF,EAEE,oBAAC,YAAD;AAAc,YAAE,EAAC,8BAAjB;AAAgD,eAAK,EAAC,QAAtD;AAA+D,iBAAO,EAAE,KAAKC,kBAAL,CAAwBN,IAAxB,CAA6B,IAA7B;AAAxE,UAFF,CADF;AAMD,OAPD,MAOO;AACL,eACE,oBAAC,YAAD;AAAc,YAAE,EAAC,4BAAjB;AAA8C,eAAK,EAAC,MAApD;AAA2D,iBAAO,EAAE,IAApE;AAA0E,iBAAO,EAAE,KAAKI,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B;AAAnF,UADF;AAGD;AACF;;;;;SACDO,c;4BAAevB,Q,EAAUwB,K,EAAOC,S,EAAU;AACxC,UAAGrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDqF,QAArD,EAA+DwB,KAA/D,EAAsEC,SAAtE;;AAEpC,cAAQD,KAAR;AACE,aAAK,YAAL;AACEzD,aAAG,CAACiC,QAAD,EAAW,YAAX,EAAyByB,SAAzB,CAAH;AACA;;AACF,aAAK,QAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,QAAX,EAAqByB,SAArB,CAAH;AACA;;AACF,aAAK,MAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,MAAX,EAAmByB,SAAnB,CAAH;AACA;;AACF,aAAK,UAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,UAAX,EAAuByB,SAAvB,CAAH;AACA;;AAEF,aAAK,gBAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,gBAAX,EAA6ByB,SAA7B,CAAH;AACA;;AACF,aAAK,kBAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,kBAAX,EAA+ByB,SAA/B,CAAH;AACA;;AACF,aAAK,kBAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,kBAAX,EAA+ByB,SAA/B,CAAH;AACA;;AACF,aAAK,oBAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,oBAAX,EAAiCyB,SAAjC,CAAH;AACA;;AACF,aAAK,mBAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,mBAAX,EAAgCyB,SAAhC,CAAH;AACA;;AACF,aAAK,YAAL;AACE1D,aAAG,CAACiC,QAAD,EAAW,YAAX,EAAyByB,SAAzB,CAAH;AACA;;AACF;AAhCF;;AAmCA,UAAGrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBqF,QAAxB;AACpC,aAAOA,QAAP;AACD;;;;;SACD0B,sB;oCAAuBC,oB,EAAsBH,K,EAAOC,S,EAAU;AAC5D,UAAGrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,+CAAZ,EAA6DgH,oBAA7D,EAAmFH,KAAnF,EAA0FC,SAA1F;;AAEpC,cAAQD,KAAR;AACE,aAAK,YAAL;AACEzD,aAAG,CAAC4D,oBAAD,EAAuB,qBAAvB,EAA8CF,SAA9C,CAAH;AACA;;AACF,aAAK,QAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,QAAvB,EAAiCF,SAAjC,CAAH;AACA;;AACF,aAAK,MAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,WAAvB,EAAoCF,SAApC,CAAH;AACA;;AACF,aAAK,UAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,eAAvB,EAAwCF,SAAxC,CAAH;AACA;;AAEF,aAAK,gBAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,iBAAvB,EAA0CF,SAA1C,CAAH;AACA;;AACF,aAAK,kBAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,mBAAvB,EAA4CF,SAA5C,CAAH;AACA;;AACF,aAAK,kBAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,mBAAvB,EAA4CF,SAA5C,CAAH;AACA;;AACF,aAAK,oBAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,qBAAvB,EAA8CF,SAA9C,CAAH;AACA;;AACF,aAAK,mBAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,mBAAvB,EAA4CF,SAA5C,CAAH;AACA;;AACF,aAAK,YAAL;AACE1D,aAAG,CAAC4D,oBAAD,EAAuB,YAAvB,EAAqCF,SAArC,CAAH;AACA;;AACF;AAhCF;;AAkCA,aAAOE,oBAAP;AACD;;;;;SAGDZ,W;yBAAYS,K,EAAOI,K,EAAOH,S,EAAU;AAClC,UAAGrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,KAAZ;AACpC,UAAGyF,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkD6G,KAAlD,EAAyDC,SAAzD;AACpC,UAAGrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAK6D,KAA/B;AAEpC,UAAIwB,QAAQ,GAAG5D,MAAM,CAAC6D,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWkB,IAA7B,CAAf;AACA,UAAIiC,oBAAoB,GAAGvF,MAAM,CAAC6D,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWE,gBAA7B,CAA3B;AAEAsB,cAAQ,GAAG,KAAKuB,cAAL,CAAoBvB,QAApB,EAA8BwB,KAA9B,EAAqCC,SAArC,CAAX;AACAE,0BAAoB,GAAG,KAAKD,sBAAL,CAA4BC,oBAA5B,EAAkDH,KAAlD,EAAyDC,SAAzD,CAAvB;AAEA,UAAGrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCgH,oBAApC;AACpC,UAAGvB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBqF,QAAxB;AAEpC,WAAKQ,QAAL,CAAc;AAAC9B,wBAAgB,EAAEiD;AAAnB,OAAd;AACA,WAAKnB,QAAL,CAAc;AAACd,YAAI,EAAEM;AAAP,OAAd;AACD;;;;;SAEDoB,gB;gCAAkB;AAChB,UAAGhB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,0CAAZ;AACpC,UAAIkH,IAAI,GAAG,IAAX;AAEAnH,aAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgD,KAAK6D,KAArD;AAEA,UAAIsD,wBAAwB,GAAG1F,MAAM,CAAC6D,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWE,gBAA7B,CAA/B;AAEA,UAAG0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCmH,wBAAxC;AAGpC,UAAIC,yBAAyB,GAAGxF,sBAAsB,CAACyF,UAAvB,EAAhC;AACAD,+BAAyB,CAACE,QAA1B,CAAmCH,wBAAnC;AAEApH,aAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBoH,yBAAyB,CAACG,OAA1B,EAAzB;AACAxH,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCoH,yBAAyB,CAACI,gBAA1B,EAAlC;;AAEA,UAAI,KAAKzB,IAAL,CAAUjC,kBAAd,EAAkC;AAChC,YAAG2B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACpC,eAAOmH,wBAAwB,CAACM,GAAhC;AAEAN,gCAAwB,CAAC/C,MAAzB,GAAkC,IAAI7C,IAAJ,EAAlC;;AAEAjB,yBAAiB,CAACD,WAAlB,CAA8BqH,MAA9B,CACE;AAACD,aAAG,EAAE,KAAK1B,IAAL,CAAUjC;AAAhB,SADF,EACuC;AAAC6D,cAAI,EAAER;AAAP,SADvC,EAC0E,UAASS,KAAT,EAAgBC,MAAhB,EAAwB;AAC9F,cAAID,KAAJ,EAAW;AACT7H,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB4H,KAArB;AAEAE,gBAAI,CAACC,KAAL,CAAWH,KAAK,CAACI,MAAjB,EAAyB,QAAzB;AACD;;AACD,cAAIH,MAAJ,EAAY;AACVI,uBAAW,CAACC,QAAZ,CAAqB;AAACC,uBAAS,EAAE,QAAZ;AAAsBC,oBAAM,EAAEC,MAAM,CAACD,MAAP,EAA9B;AAA+CE,sBAAQ,EAAED,MAAM,CAACE,IAAP,GAAcC,QAAd,EAAzD;AAAmFC,4BAAc,EAAE,mBAAnG;AAAwHC,sBAAQ,EAAExB,IAAI,CAACnB,IAAL,CAAUjC;AAA5I,aAArB;AACAJ,mBAAO,CAACN,GAAR,CAAY,8BAAZ,EAA4C,CAA5C;AACAM,mBAAO,CAACN,GAAR,CAAY,0BAAZ,EAAwC,KAAxC;AACAM,mBAAO,CAACN,GAAR,CAAY,0BAAZ,EAAwC,KAAxC;AACA0E,gBAAI,CAACC,KAAL,CAAW,2BAAX,EAAwC,SAAxC;AACD;AACF,SAdH;AAeD,OArBD,MAqBO;AAEL,YAAGtC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC;AAClC5F,iBAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CmH,wBAA7C;AACD;;AAEDA,gCAAwB,CAACtC,iBAAzB,GAA6C,IAAItD,IAAJ,EAA7C;AACA4F,gCAAwB,CAAC/C,MAAzB,GAAkC,IAAI7C,IAAJ,EAAlC,CAPK,CASL;AACA;AACA;;AAEAjB,yBAAiB,CAACD,WAAlB,CAA8BsI,MAA9B,CAAqCxB,wBAArC,EAA8D,UAASS,KAAT,EAAgBC,MAAhB,EAAwB;AACpF,cAAID,KAAJ,EAAW;AACT7H,mBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB4H,KAArB;AACAE,gBAAI,CAACC,KAAL,CAAWH,KAAK,CAACI,MAAjB,EAAyB,QAAzB;AACD;;AACD,cAAIH,MAAJ,EAAY;AACVI,uBAAW,CAACC,QAAZ,CAAqB;AAACC,uBAAS,EAAE,QAAZ;AAAsBC,oBAAM,EAAEC,MAAM,CAACD,MAAP,EAA9B;AAA+CE,sBAAQ,EAAED,MAAM,CAACE,IAAP,GAAcC,QAAd,EAAzD;AAAmFC,4BAAc,EAAE,mBAAnG;AAAwHC,sBAAQ,EAAEb;AAAlI,aAArB;AACAnE,mBAAO,CAACN,GAAR,CAAY,8BAAZ,EAA4C,CAA5C;AACAM,mBAAO,CAACN,GAAR,CAAY,0BAAZ,EAAwC,KAAxC;AACAM,mBAAO,CAACN,GAAR,CAAY,0BAAZ,EAAwC,KAAxC;AACA0E,gBAAI,CAACC,KAAL,CAAW,yBAAX,EAAsC,SAAtC;AACD;AACF,SAZD;AAaD;AACF;;;;;SAEDa,kB;kCAAoB;AAClBlF,aAAO,CAACN,GAAR,CAAY,8BAAZ,EAA4C,CAA5C;AACD;;;;;SAEDuD,kB;kCAAoB;AAClB,UAAIO,IAAI,GAAG,IAAX;;AACA5G,uBAAiB,CAACD,WAAlB,CAA8BwI,MAA9B,CAAqC;AAACpB,WAAG,EAAE,KAAK1B,IAAL,CAAUjC;AAAhB,OAArC,EAA0E,UAAS8D,KAAT,EAAgBC,MAAhB,EAAuB;AAC/F,YAAID,KAAJ,EAAW;AACTE,cAAI,CAACC,KAAL,CAAWH,KAAK,CAACI,MAAjB,EAAyB,QAAzB;AACD;;AACD,YAAIH,MAAJ,EAAY;AACVI,qBAAW,CAACC,QAAZ,CAAqB;AAACC,qBAAS,EAAE,QAAZ;AAAsBC,kBAAM,EAAEC,MAAM,CAACD,MAAP,EAA9B;AAA+CE,oBAAQ,EAAED,MAAM,CAACE,IAAP,GAAcC,QAAd,EAAzD;AAAmFC,0BAAc,EAAE,mBAAnG;AAAwHC,oBAAQ,EAAExB,IAAI,CAACnB,IAAL,CAAUjC;AAA5I,WAArB;AACAJ,iBAAO,CAACN,GAAR,CAAY,8BAAZ,EAA4C,CAA5C;AACAM,iBAAO,CAACN,GAAR,CAAY,0BAAZ,EAAwC,KAAxC;AACAM,iBAAO,CAACN,GAAR,CAAY,0BAAZ,EAAwC,KAAxC;AACA0E,cAAI,CAACC,KAAL,CAAW,2BAAX,EAAwC,SAAxC;AACD;AACF,OAXD;AAYD;;;;;;EA3fyCjF,KAAK,CAACgG,S;;AA+flDxG,sBAAsB,CAACyG,SAAvB,GAAmC;AACjCxC,IAAE,EAAElD,SAAS,CAAC2F,MADmB;AAEjClF,oBAAkB,EAAET,SAAS,CAAC4F,SAAV,CAAoB,CAAC5F,SAAS,CAAC2F,MAAX,EAAmB3F,SAAS,CAAC6F,IAA7B,CAApB,CAFa;AAGjCnF,kBAAgB,EAAEV,SAAS,CAAC4F,SAAV,CAAoB,CAAC5F,SAAS,CAAC8F,MAAX,EAAmB9F,SAAS,CAAC6F,IAA7B,CAApB;AAHe,CAAnC;AAKAlG,UAAU,CAACV,sBAAsB,CAAClC,SAAxB,EAAmC2C,eAAnC,CAAV;AAjiBApD,MAAM,CAACqC,aAAP,CAkiBeM,sBAliBf,E;;;;;;;;;;;;;;;ACAA3C,MAAM,CAACsC,MAAP,CAAc;AAACG,uBAAqB,EAAC;AAAA,WAAIA,qBAAJ;AAAA;AAAvB,CAAd;AAAiE,IAAII,QAAJ,EAAa4G,SAAb;AAAuBzJ,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAAC4C,UAAD,YAAU3C,CAAV,EAAY;AAAC2C,YAAQ,GAAC3C,CAAT;AAAW,GAAxB;AAAyBuJ,WAAzB,YAAmCvJ,CAAnC,EAAqC;AAACuJ,aAAS,GAACvJ,CAAV;AAAY;AAAlD,CAA/B,EAAmF,CAAnF;AAAsF,IAAIwJ,GAAJ,EAAQC,IAAR;AAAa3J,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAACyJ,KAAD,YAAKxJ,CAAL,EAAO;AAACwJ,OAAG,GAACxJ,CAAJ;AAAM,GAAd;AAAeyJ,MAAf,YAAoBzJ,CAApB,EAAsB;AAACyJ,QAAI,GAACzJ,CAAL;AAAO;AAA9B,CAA/B,EAA+D,CAA/D;AAAkE,IAAI4C,SAAJ,EAAcC,cAAd,EAA6BC,KAA7B;AAAmChD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC6C,WAAD,YAAW5C,CAAX,EAAa;AAAC4C,aAAS,GAAC5C,CAAV;AAAY,GAA1B;AAA2B6C,gBAA3B,YAA0C7C,CAA1C,EAA4C;AAAC6C,kBAAc,GAAC7C,CAAf;AAAiB,GAA9D;AAA+D8C,OAA/D,YAAqE9C,CAArE,EAAuE;AAAC8C,SAAK,GAAC9C,CAAN;AAAQ;AAAhF,CAAvC,EAAyH,CAAzH;AAA4H,IAAIyC,sBAAJ;AAA2B3C,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACyC,0BAAsB,GAACzC,CAAvB;AAAyB;AAArC,CAAvC,EAA8E,CAA9E;AAAiF,IAAIwC,sBAAJ;AAA2B1C,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAA,uBAASC,CAAT,EAAW;AAACwC,0BAAsB,GAACxC,CAAvB;AAAyB;AAArC,CAAvC,EAA8E,CAA9E;AAAiF,IAAIwI,MAAJ;AAAW1I,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACyI,QAAD,YAAQxI,CAAR,EAAU;AAACwI,UAAM,GAACxI,CAAP;AAAS;AAApB,CAA5B,EAAkD,CAAlD;AAAqD,IAAI6D,OAAJ;AAAY/D,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAAC8D,SAAD,YAAS7D,CAAT,EAAW;AAAC6D,WAAO,GAAC7D,CAAR;AAAU;AAAtB,CAA7B,EAAqD,CAArD;AAAwD,IAAIiD,KAAJ;AAAUnD,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAACiD,SAAK,GAACjD,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIkD,eAAJ;AAAoBpD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACmD,iBAAD,YAAiBlD,CAAjB,EAAmB;AAACkD,mBAAe,GAAClD,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAImD,UAAJ;AAAerD,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAACmD,cAAU,GAACnD,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAcp6B6D,OAAO,CAACC,UAAR,CAAmB,aAAnB,EAAkC,QAAlC;AACAD,OAAO,CAACC,UAAR,CAAmB,4BAAnB,EAAiD,KAAjD;;IAEavB,qB;;;;;;;;;;;SACX0D,a;6BAAgB;AACd,UAAIC,IAAI,GAAG;AACTwD,aAAK,EAAE;AACLC,iBAAO,EAAE9F,OAAO,CAACP,GAAR,CAAY,eAAZ,CADJ;AAELsG,aAAG,EAAE;AACHC,wBAAY,EAAE,qBADX;AAEHC,uBAAW,EAAE;AAFV;AAFA,SADE;AAQTC,gBAAQ,EAAElG,OAAO,CAACP,GAAR,CAAY,8BAAZ,CARD;AAST0G,oCAA4B,EAAEnG,OAAO,CAACP,GAAR,CAAY,8BAAZ,CATrB;AAUT2G,kCAA0B,EAAEpG,OAAO,CAACP,GAAR,CAAY,4BAAZ,CAVnB;AAWT8C,mBAAW,EAAEvC,OAAO,CAACP,GAAR,CAAY,aAAZ,CAXJ;AAYT4G,gCAAwB,EAAE;AAZjB,OAAX;;AAeA,UAAIrG,OAAO,CAACP,GAAR,CAAY,4BAAZ,CAAJ,EAA8C;AAC5C4C,YAAI,CAACgE,wBAAL,GAAgCzJ,iBAAiB,CAAC0J,OAAlB,CAA0B;AAACvC,aAAG,EAAE/D,OAAO,CAACP,GAAR,CAAY,4BAAZ;AAAN,SAA1B,CAAhC;AACD,OAFD,MAEO;AACL4C,YAAI,CAACgE,wBAAL,GAAgC,KAAhC;AACD;;AAEDhE,UAAI,CAACwD,KAAL,GAAa5G,KAAK,CAACsH,IAAN,CAAWlE,IAAI,CAACwD,KAAhB,CAAb;AACAxD,UAAI,CAACwD,KAAL,CAAWW,MAAX,GAAoBvH,KAAK,CAACwH,QAAN,CAAepE,IAAI,CAACwD,KAAL,CAAWW,MAA1B,CAApB;AACAnE,UAAI,CAACwD,KAAL,CAAWE,GAAX,GAAiB9G,KAAK,CAACwH,QAAN,CAAepE,IAAI,CAACwD,KAAL,CAAWE,GAA1B,CAAjB;AAEA,aAAO1D,IAAP;AACD;;;;;SAEDqE,e;6BAAgBC,K,EAAM;AACpB3G,aAAO,CAACN,GAAR,CAAY,8BAAZ,EAA4CiH,KAA5C;AACD;;;;;SAEDC,Q;wBAAU;AACR5G,aAAO,CAACN,GAAR,CAAY,4BAAZ,EAA0C,KAA1C;AACAM,aAAO,CAACN,GAAR,CAAY,wBAAZ,EAAsC,KAAtC;AACD;;;;;SAEDkD,M;sBAAS;AACP,UAAGb,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACpC,aACE;AAAK,UAAE,EAAC;AAAR,SACE,oBAAC,cAAD,QACE,oBAAC,SAAD;AAAW,cAAM,EAAC;AAAlB,SACE,oBAAC,SAAD;AAAW,aAAK,EAAC;AAAjB,QADF,EAEE,oBAAC,QAAD,QACE,oBAAC,IAAD;AAAM,UAAE,EAAC,2BAAT;AAAqC,uBAArC;AAA6C,aAAK,EAAE,KAAK+F,IAAL,CAAU6D,QAA9D;AAAwE,gBAAQ,EAAE,KAAKQ,eAAvF;AAAwG,4BAAoB,EAAE;AAA9H,SACC,oBAAC,GAAD;AAAK,iBAAS,EAAC,wBAAf;AAAwC,aAAK,EAAC,KAA9C;AAAoD,aAAK,EAAE,KAAKrE,IAAL,CAAUwD,KAAV,CAAgBE,GAA3E;AAAgF,gBAAQ,EAAG,KAAKa,QAAhG;AAA2G,aAAK,EAAE;AAAlH,SACE,oBAAC,sBAAD;AACC,UAAE,EAAC,qBADJ;AAEC,mBAAW,EAAG,KAAKvE,IAAL,CAAUE,WAFzB;AAGC,wBAAgB,EAAG,KAAKF,IAAL,CAAUgE,wBAH9B;AAIC,0BAAkB,EAAG,KAAKhE,IAAL,CAAU+D;AAJhC,QADF,CADD,EAQC,oBAAC,GAAD;AAAK,iBAAS,EAAC,yBAAf;AAAyC,aAAK,EAAC,mBAA/C;AAAmE,gBAAQ,EAAE,KAAKS,YAAlF;AAAgG,aAAK,EAAE,KAAKxE,IAAL,CAAUwD,KAAV,CAAgBE,GAAvH;AAA4H,aAAK,EAAE;AAAnI,SACC,oBAAC,sBAAD;AAAwB,mBAAW,EAAG,KAAK1D,IAAL,CAAUE;AAAhD,QADD,CARD,EAWC,oBAAC,GAAD;AAAK,iBAAS,EAAC,4BAAf;AAA4C,aAAK,EAAC,QAAlD;AAA2D,gBAAQ,EAAE,KAAKsE,YAA1E;AAAwF,aAAK,EAAE,KAAKxE,IAAL,CAAUwD,KAAV,CAAgBE,GAA/G;AAAoH,aAAK,EAAE;AAA3H,SACE,oBAAC,sBAAD;AACC,UAAE,EAAC,yBADJ;AAEC,sBAAc,EAAE,IAFjB;AAGC,mBAAW,EAAG,KAAK1D,IAAL,CAAUE,WAHzB;AAIC,wBAAgB,EAAG,KAAKF,IAAL,CAAUgE,wBAJ9B;AAKC,0BAAkB,EAAG,KAAKhE,IAAL,CAAU+D;AALhC,QADF,CAXD,CADF,CAFF,CADF,CADF,CADF;AA+BD;;;;;;EAxEwChH,KAAK,CAACgG,S;;AA2EjD9F,UAAU,CAACZ,qBAAqB,CAAChC,SAAvB,EAAkC2C,eAAlC,CAAV;AA5FApD,MAAM,CAACqC,aAAP,CA8FeI,qBA9Ff,E;;;;;;;;;;;;;;;ACAAzC,MAAM,CAACsC,MAAP,CAAc;AAACI,wBAAsB,EAAC;AAAA,WAAIA,sBAAJ;AAAA;AAAxB,CAAd;AAAmE,IAAImI,IAAJ,EAASjI,WAAT,EAAqBkI,SAArB,EAA+BjI,QAA/B,EAAwC4G,SAAxC;AAAkDzJ,MAAM,CAACC,IAAP,CAAY,kBAAZ,EAA+B;AAAC4K,MAAD,YAAM3K,CAAN,EAAQ;AAAC2K,QAAI,GAAC3K,CAAL;AAAO,GAAhB;AAAiB0C,aAAjB,YAA6B1C,CAA7B,EAA+B;AAAC0C,eAAW,GAAC1C,CAAZ;AAAc,GAA9C;AAA+C4K,WAA/C,YAAyD5K,CAAzD,EAA2D;AAAC4K,aAAS,GAAC5K,CAAV;AAAY,GAAxE;AAAyE2C,UAAzE,YAAkF3C,CAAlF,EAAoF;AAAC2C,YAAQ,GAAC3C,CAAT;AAAW,GAAhG;AAAiGuJ,WAAjG,YAA2GvJ,CAA3G,EAA6G;AAACuJ,aAAS,GAACvJ,CAAV;AAAY;AAA1H,CAA/B,EAA2J,CAA3J;AAA8J,IAAI4C,SAAJ,EAAcC,cAAd,EAA6BC,KAA7B;AAAmChD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAAC6C,WAAD,YAAW5C,CAAX,EAAa;AAAC4C,aAAS,GAAC5C,CAAV;AAAY,GAA1B;AAA2B6C,gBAA3B,YAA0C7C,CAA1C,EAA4C;AAAC6C,kBAAc,GAAC7C,CAAf;AAAiB,GAA9D;AAA+D8C,OAA/D,YAAqE9C,CAArE,EAAuE;AAAC8C,SAAK,GAAC9C,CAAN;AAAQ;AAAhF,CAAvC,EAAyH,CAAzH;AAA4H,IAAIiD,KAAJ;AAAUnD,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAA,uBAASC,CAAT,EAAW;AAACiD,SAAK,GAACjD,CAAN;AAAQ;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIkD,eAAJ;AAAoBpD,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACmD,iBAAD,YAAiBlD,CAAjB,EAAmB;AAACkD,mBAAe,GAAClD,CAAhB;AAAkB;AAAtC,CAAvC,EAA+E,CAA/E;AAAkF,IAAImD,UAAJ;AAAerD,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAACmD,cAAU,GAACnD,CAAX;AAAa;AAAzB,CAA1B,EAAqD,CAArD;AAAwD,IAAI6K,KAAJ;AAAU/K,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAAC8K,OAAD,YAAO7K,CAAP,EAAS;AAAC6K,SAAK,GAAC7K,CAAN;AAAQ;AAAlB,CAA9B,EAAkD,CAAlD;AAAqD,IAAI8K,MAAJ;AAAWhL,MAAM,CAACC,IAAP,CAAY,oBAAZ,EAAiC;AAAA,uBAASC,CAAT,EAAW;AAAC8K,UAAM,GAAC9K,CAAP;AAAS;AAArB,CAAjC,EAAwD,CAAxD;AAA2D,IAAIsD,GAAJ;AAAQxD,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACuD,KAAD,YAAKtD,CAAL,EAAO;AAACsD,OAAG,GAACtD,CAAJ;AAAM;AAAd,CAArB,EAAqC,CAArC;;AAUnyB,IAAM+K,wBAAwB,GAAG,UAASC,MAAT,EAAiB5E,WAAjB,EAA6B;AAC5D;AAEA,MAAI6E,MAAM,GAAG;AACXrD,OAAG,EAAE,EADM;AAEXzC,kBAAc,EAAE,EAFL;AAGXf,QAAI,EAAE,EAHK;AAIXE,UAAM,EAAE,EAJG;AAKXC,UAAM,EAAE,EALG;AAMXc,oBAAgB,EAAE,EANP;AAOXR,cAAU,EAAE,EAPD;AAQXC,YAAQ,EAAE,EARC;AASXoG,iBAAa,EAAE;AATJ,GAAb;;AAWA,MAAIF,MAAJ,EAAW;AACT,QAAGA,MAAM,CAACpD,GAAV,EAAc;AACZqD,YAAM,CAACrD,GAAP,GAAaoD,MAAM,CAACpD,GAApB;AACD;;AACD,QAAGoD,MAAM,CAACxG,OAAV,EAAkB;AAChB,UAAGwG,MAAM,CAACxG,OAAP,CAAeC,OAAlB,EAA0B;AACxBwG,cAAM,CAAC9F,cAAP,GAAwB6F,MAAM,CAACxG,OAAP,CAAeC,OAAvC;AACD,OAFD,MAEO;AACLwG,cAAM,CAAC9F,cAAP,GAAwB6F,MAAM,CAACxG,OAAP,CAAeE,SAAvC;AACD;AACF;;AACD,QAAG0B,WAAW,KAAK,QAAnB,EAA4B;AAC1B,UAAG9C,GAAG,CAAC0H,MAAD,EAAS,4BAAT,CAAN,EAA6C;AAC3CC,cAAM,CAAC5F,gBAAP,GAA0B/B,GAAG,CAAC0H,MAAD,EAAS,4BAAT,CAA7B;AACD,OAFD,MAEO;AACLC,cAAM,CAAC5F,gBAAP,GAA0B/B,GAAG,CAAC0H,MAAD,EAAS,8BAAT,CAA7B;AACD;AACF;;AACD,QAAG5E,WAAW,KAAK,QAAnB,EAA4B;AAC1B,UAAG4E,MAAM,CAACrG,SAAV,EAAoB;AAClBsG,cAAM,CAAC5F,gBAAP,GAA0B/B,GAAG,CAAC0H,MAAD,EAAS,mBAAT,CAA7B;AACD,OAFD,MAEO;AACLC,cAAM,CAAC5F,gBAAP,GAA0B/B,GAAG,CAAC0H,MAAD,EAAS,qBAAT,CAA7B;AACD;AACF;;AAED,QAAG1H,GAAG,CAAC0H,MAAD,EAAS,yBAAT,CAAN,EAA0C;AACxCC,YAAM,CAACnG,QAAP,GAAkBxB,GAAG,CAAC0H,MAAD,EAAS,yBAAT,CAArB;AACD,KAFD,MAEO;AACLC,YAAM,CAACnG,QAAP,GAAkBxB,GAAG,CAAC0H,MAAD,EAAS,eAAT,CAArB;AACD;;AAEDC,UAAM,CAAC7G,IAAP,GAAcd,GAAG,CAAC0H,MAAD,EAAS,WAAT,EAAsB,EAAtB,CAAjB;AACAC,UAAM,CAACpG,UAAP,GAAoBvB,GAAG,CAAC0H,MAAD,EAAS,qBAAT,EAAgC,EAAhC,CAAvB;AACAC,UAAM,CAAC3G,MAAP,GAAgBhB,GAAG,CAAC0H,MAAD,EAAS,QAAT,EAAmB,EAAnB,CAAnB;AACAC,UAAM,CAACC,aAAP,GAAuBtH,MAAM,CAACN,GAAG,CAAC0H,MAAD,EAAS,mBAAT,CAAJ,CAAN,CAAyCG,MAAzC,CAAgD,YAAhD,CAAvB;AACAF,UAAM,CAAC1G,MAAP,GAAgBX,MAAM,CAACN,GAAG,CAAC0H,MAAD,EAAS,QAAT,CAAJ,CAAN,CAA8BG,MAA9B,CAAqC,YAArC,CAAhB;AAEA,WAAOF,MAAP;AACD;AACF,CAtDD;;IAyDazI,sB;;;;;;;;;;;SACXyD,a;6BAAgB;AAEd;AACA;AACA,UAAIC,IAAI,GAAG;AACTwD,aAAK,EAAE;AACLC,iBAAO,EAAE9F,OAAO,CAACP,GAAR,CAAY,eAAZ;AADJ,SADE;AAIT8H,gBAAQ,EAAE,EAJD;AAKTC,yBAAiB,EAAE,EALV;AAMTC,qBAAa,EAAE,KANN;AAOTC,oBAAY,EAAE,IAPL;AAQTnF,mBAAW,EAAE;AARJ,OAAX;;AAWA,UAAG,KAAKrC,KAAL,CAAWqC,WAAd,EAA0B;AACxBF,YAAI,CAACE,WAAL,GAAmB,KAAKrC,KAAL,CAAWqC,WAA9B;AACD;;AAED,UAAG,KAAKrC,KAAL,CAAWyH,cAAd,EAA6B;AAC3BtF,YAAI,CAACoF,aAAL,GAAqB,KAAKvH,KAAL,CAAWyH,cAAhC;AACD;;AACD,UAAG,KAAKzH,KAAL,CAAWwH,YAAd,EAA2B;AACzBrF,YAAI,CAACqF,YAAL,GAAoB,KAAKxH,KAAL,CAAWwH,YAA/B;AACD;;AAED,UAAG,KAAKxH,KAAL,CAAWmC,IAAd,EAAmB;AACjB,aAAKnC,KAAL,CAAWmC,IAAX,CAAgBuF,GAAhB,CAAoB,UAAST,MAAT,EAAgB;AAClC9E,cAAI,CAACmF,iBAAL,CAAuBK,IAAvB,CAA4BX,wBAAwB,CAACC,MAAD,EAAS9E,IAAI,CAACE,WAAd,CAApD;AACD,SAFD;AAGD,OAJD,MAIO;AACL,YAAG3F,iBAAiB,CAACkL,IAAlB,GAAyBC,KAAzB,KAAmC,CAAtC,EAAwC;AACtCnL,2BAAiB,CAACkL,IAAlB,GAAyBF,GAAzB,CAA6B,UAAST,MAAT,EAAgB;AAC3C9E,gBAAI,CAACmF,iBAAL,CAAuBK,IAAvB,CAA4BX,wBAAwB,CAACC,MAAD,EAAS9E,IAAI,CAACE,WAAd,CAApD;AACD,WAFD;AAGD;AACF;;AAED,UAAGR,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C+F,IAA5C;AACpC,aAAOA,IAAP;AACD;;;;;SAED2F,mB;iCAAoBP,a,EAAc;AAChC,UAAIA,aAAJ,EAAmB;AACjB,eACE;AAAI,mBAAS,EAAC;AAAd,oBADF;AAGD;AACF;;;;;SACDQ,a;2BAAcR,a,EAAeS,S,EAAW;AACtC,UAAIT,aAAJ,EAAmB;AACjB,eACE;AAAI,mBAAS,EAAC;AAAd,WACI,oBAAC,MAAD;AACE,wBAAc,EAAE;AADlB,UADJ,CADF;AAOD;AACF;;;;;SACDU,gB;8BAAiBT,Y,EAAa;AAC5B,UAAIA,YAAJ,EAAkB;AAChB,eACE;AAAI,mBAAS,EAAC,mBAAd;AAAmC,eAAK,EAAE;AAACU,iBAAK,EAAE;AAAR;AAA1C,4BADF;AAGD;AACF;;;;;SACDC,U;wBAAWX,Y,EAAcY,O,EAAS;AAChC,UAAIZ,YAAJ,EAAkB;AAChB,eACE;AAAI,mBAAS,EAAC,MAAd;AAAsB,eAAK,EAAE;AAACU,iBAAK,EAAE;AAAR;AAA7B,WAAiDrI,MAAM,CAACuI,OAAD,CAAN,CAAgBhB,MAAhB,CAAuB,YAAvB,CAAjD,CADF;AAGD;AACF;;;;;SACDiB,Q;sBAAS1F,E,EAAG;AACV;AACA7C,aAAO,CAACN,GAAR,CAAY,yBAAZ,EAAuC,KAAvC;AACAM,aAAO,CAACN,GAAR,CAAY,4BAAZ,EAA0CmD,EAA1C;AACA7C,aAAO,CAACN,GAAR,CAAY,8BAAZ,EAA4C,CAA5C;AACD;;;;;SACDkD,M;sBAAU;AACR,UAAGb,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA5B,EAAoC5F,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+C,KAAK+F,IAAL,CAAUmF,iBAAzD;AAEpC,UAAIgB,SAAS,GAAG,EAAhB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpG,IAAL,CAAUmF,iBAAV,CAA4BkB,MAAhD,EAAwDD,CAAC,EAAzD,EAA6D;AAE3DD,iBAAS,CAACX,IAAV,CACE;AAAI,aAAG,EAAEY,CAAT;AAAY,mBAAS,EAAC,qBAAtB;AAA4C,eAAK,EAAE;AAACE,kBAAM,EAAE;AAAT,WAAnD;AAAwE,iBAAO,EAAG,KAAKJ,QAAL,CAAc5F,IAAd,CAAmB,MAAnB,EAA2B,KAAKN,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+B1E,GAA1D;AAAlF,WACI,KAAKkE,aAAL,CAAmB,KAAK5F,IAAL,CAAUoF,aAA7B,EAA4C,KAAKpF,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,CAA5C,CADJ,EAGE;AAAI,mBAAS,EAAC,gBAAd;AAA+B,eAAK,EAAE;AAACL,iBAAK,EAAE;AAAR;AAAtC,WAA0D,KAAK/F,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BnH,cAAzF,CAHF,EAIE;AAAI,mBAAS,EAAC;AAAd,WAAuB,KAAKe,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BlI,IAAtD,CAJF,EAKE;AAAI,mBAAS,EAAC;AAAd,WAAyB,KAAK8B,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BhI,MAAxD,CALF,EAME;AAAI,mBAAS,EAAC,QAAd;AAAwB,eAAK,EAAE;AAAC2H,iBAAK,EAAE;AAAR;AAA/B,WAAmD,KAAK/F,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+B/H,MAAlF,CANF,EAOE;AAAI,mBAAS,EAAC;AAAd,WAAmC,KAAK2B,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BjH,gBAAlE,CAPF,EAQE;AAAI,mBAAS,EAAC;AAAd,WAA6B,KAAKa,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BzH,UAA5D,CARF,EAUE;AAAI,mBAAS,EAAC;AAAd,WAA2B,KAAKqB,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BxH,QAA1D,CAVF,EAWI,KAAKoH,UAAL,CAAgB,KAAKhG,IAAL,CAAUqF,YAA1B,EAAwC,KAAKrF,IAAL,CAAUmF,iBAAV,CAA4BiB,CAA5B,EAA+BpB,aAAvE,CAXJ,CADF;AAeD;;AAED,aACE,oBAAC,KAAD;AAAO,UAAE,EAAC,wBAAV;AAAmC,aAAK;AAAxC,SACE,mCACE,gCACE,KAAKW,mBAAL,CAAyB,KAAK3F,IAAL,CAAUoF,aAAnC,CADF,EAEE;AAAI,iBAAS,EAAC,gBAAd;AAA+B,aAAK,EAAE;AAACW,eAAK,EAAE;AAAR;AAAtC,mBAFF,EAGE;AAAI,iBAAS,EAAC;AAAd,gBAHF,EAIE;AAAI,iBAAS,EAAC;AAAd,kBAJF,EAKE;AAAI,iBAAS,EAAC,QAAd;AAAuB,aAAK,EAAE;AAACA,eAAK,EAAE;AAAR;AAA9B,kBALF,EAME;AAAI,iBAAS,EAAC;AAAd,qBANF,EAOE;AAAI,iBAAS,EAAC;AAAd,sBAPF,EAQE;AAAI,iBAAS,EAAC;AAAd,oBARF,EASI,KAAKD,gBAAL,CAAsB,KAAK9F,IAAL,CAAUqF,YAAhC,CATJ,CADF,CADF,EAcE,mCACIc,SADJ,CAdF,CADF;AAoBD;;;;;;EA5HyCpJ,KAAK,CAACgG,S;;AAgIlD9F,UAAU,CAACX,sBAAsB,CAACjC,SAAxB,EAAmC2C,eAAnC,CAAV;AAnMApD,MAAM,CAACqC,aAAP,CAoMeK,sBApMf,E","file":"/packages/clinical_hl7-resource-diagnostic-report.js","sourcesContent":["import SimpleSchema from 'simpl-schema';\n\nif(Package['clinical:autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  Your app has the 'clinical-autopublish' package installed.\");\n  console.log(\"Any protected health information (PHI) stored in this app should be audited.\"); \n  console.log(\"Please consider writing secure publish/subscribe functions and uninstalling.\");  \n  console.log(\"\");  \n  console.log(\"meteor remove clinical:autopublish\");  \n  console.log(\"\");  \n}\nif(Package['autopublish']){\n  console.log(\"*****************************************************************************\")\n  console.log(\"HIPAA WARNING:  DO NOT STORE PROTECTED HEALTH INFORMATION IN THIS APP. \");  \n  console.log(\"Your application has the 'autopublish' package installed.  Please uninstall.\");\n  console.log(\"\");  \n  console.log(\"meteor remove autopublish\");  \n  console.log(\"meteor add clinical:autopublish\");  \n  console.log(\"\");  \n}\n\n\n\n// create the object using our BaseModel\nDiagnosticReport = BaseModel.extend();\n\n\n//Assign a collection so the object knows how to perform CRUD operations\nDiagnosticReport.prototype._collection = DiagnosticReports;\n\n// // Create a persistent data store for addresses to be stored.\n// // HL7.Resources.Patients = new Mongo.Collection('HL7.Resources.Patients');\nif(typeof DiagnosticReports === 'undefined'){\n  if(Package['clinical:autopublish']){\n    DiagnosticReports = new Mongo.Collection('DiagnosticReports');\n  } else if(Package['clinical:desktop-publish']){    \n    DiagnosticReports = new Mongo.Collection('DiagnosticReports');\n  } else {\n    DiagnosticReports = new Mongo.Collection('DiagnosticReports', {connection: null});\n  }\n}\n\n//Add the transform to the collection since Meteor.users is pre-defined by the accounts package\nDiagnosticReports._transform = function (document) {\n  return new DiagnosticReport(document);\n};\n\n\n// DSTU2\n// https://www.hl7.org/fhir/DSTU2/diagnosticreport.html\nDiagnosticReportDstu2 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"DiagnosticReport\"\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"status\" : {\n    type: Code,\n    allowedValues: ['registered', 'partial', 'final', 'corrected', 'appended', 'cancelled', 'entered-in-error']\n  }, \n  \"category\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Classification of  type of observation\n  \"code\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // R!  Type of observation (code / type)\n  \"subject\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // (Patient|Group|Device|Location) Who and/or what this is about\n  \"encounter\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  \"effectiveDateTime\" : {\n    optional: true,\n    type: Date\n  },\n  \"effectivePeriod\" : {\n    optional: true,\n    type: PeriodSchema\n  },\n  \"issued\" : {\n    type: Date\n  }, // Date/Time this was made available\n  \"performer\" : {\n    type: ReferenceSchema\n  }, \n  \"specimen\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Specimens this report is based on\n  \"result\" : {\n    optional: true,\n    type: Array\n  }, // DiagnosticReports - simple, or complex nested groups\n  \"result.$\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // DiagnosticReports - simple, or complex nested groups\n\n  \"imagingStudy\" : {\n    optional: true,\n    type: Array\n  }, // Reference to full details of imaging associated with the diagnostic report\n  \"imagingStudy.$\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Reference to full details of imaging associated with the diagnostic report\n  \"image\" : {\n    optional: true,\n    type:  Array\n    },\n  \"image.$\" : {\n    optional: true,\n    type:  Object \n    },\n  \"image.$.comment\" : {\n    optional: true,\n    type: String\n  }, // Comment about the image (e.g. explanation)\n  \"image.$.link\" : {\n    type: ReferenceSchema\n  }, // R!  Reference to the image source\n  \"conclusion\" : {\n    optional: true,\n    type: String\n  }, // Clinical Interpretation of test results\n  \"codedDiagnosis\" : {\n    optional: true,\n    type: Array\n  }, // Codes for the conclusion\n  \"codedDiagnosis.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  }, // Codes for the conclusion\n  \"presentedForm\" : {\n    optional: true,\n    type: Array\n  }, // Entire report as issued\n  \"presentedForm.$\" : {\n    optional: true,\n    type: AttachmentSchema \n  } // Entire report as issued\n});\n\n\n\n\nDiagnosticReportStu3 = new SimpleSchema({\n  \"resourceType\" : {\n    type: String,\n    defaultValue: \"DiagnosticReport\"\n  },\n  \"identifier\" : {\n    optional: true,\n    type:  Array\n    },\n  \"identifier.$\" : {\n    optional: true,\n    type:  IdentifierSchema \n    },\n  \"basedOn\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // (Patient|Group|Device|Location) Who and/or what this is about    \n  \"status\" : {\n    type: Code,\n    allowedValues: ['registered', 'partial', 'preliminary', 'final']\n  }, \n  \"category\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // Classification of  type of observation\n  \"code\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, // R!  Type of observation (code / type)\n  \"subject\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // (Patient|Group|Device|Location) Who and/or what this is about\n  \"context\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, \n  \"effectiveDateTime\" : {\n    optional: true,\n    type: Date\n  },\n  \"effectivePeriod\" : {\n    optional: true,\n    type: PeriodSchema\n  },\n  \"issued\" : {\n    optional: true,\n    type: Date\n  }, // Date/Time this was made available\n  \"performer\" : {\n    optional: true,\n    type: Array\n  }, \n  \"performer.$\" : {\n    optional: true,\n    type: Object\n  }, \n  \"performer.role\" : {\n    optional: true,\n    type: CodeableConceptSchema\n  }, \n  \"performer.actor\" : {\n    type: ReferenceSchema\n  }, \n  \"specimen\" : {\n    optional: true,\n    type: Array\n  }, // Specimens this report is based on\n  \"specimen.$\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Specimens this report is based on\n  \"result\" : {\n    optional: true,\n    type: Array\n  }, // DiagnosticReports - simple, or complex nested groups\n  \"result.$\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // DiagnosticReports - simple, or complex nested groups\n\n  \"imagingStudy\" : {\n    optional: true,\n    type: Array\n  }, // Reference to full details of imaging associated with the diagnostic report\n  \"imagingStudy.$\" : {\n    optional: true,\n    type: ReferenceSchema\n  }, // Reference to full details of imaging associated with the diagnostic report\n  \"image\" : {\n    optional: true,\n    type:  Array\n    },\n  \"image.$\" : {\n    optional: true,\n    type:  Object \n    },\n  \"image.$.comment\" : {\n    optional: true,\n    type: String\n  }, // Comment about the image (e.g. explanation)\n  \"image.$.link\" : {\n    type: ReferenceSchema\n  }, // R!  Reference to the image source\n  \"conclusion\" : {\n    optional: true,\n    type: String\n  }, // Clinical Interpretation of test results\n  \"codedDiagnosis\" : {\n    optional: true,\n    type: Array\n  }, // Codes for the conclusion\n  \"codedDiagnosis.$\" : {\n    optional: true,\n    type: CodeableConceptSchema \n  }, // Codes for the conclusion\n  \"presentedForm\" : {\n    optional: true,\n    type: Array\n  }, // Entire report as issued\n  \"presentedForm.$\" : {\n    optional: true,\n    type: AttachmentSchema \n  } // Entire report as issued\n});\n\nDiagnosticReportSchema = DiagnosticReportDstu2;\n\nBaseSchema.extend(DiagnosticReportSchema);\nDomainResourceSchema.extend(DiagnosticReportSchema);\nDiagnosticReports.attachSchema(DiagnosticReportSchema);\n\nexport default { DiagnosticReport, DiagnosticReports, DiagnosticReportSchema, DiagnosticReportDstu2, DiagnosticReportStu3 };","\n\nimport DiagnosticReportsPage from './client/DiagnosticReportsPage';\nimport DiagnosticReportsTable from './client/DiagnosticReportsTable';\nimport { DiagnosticReport, DiagnosticReports, DiagnosticReportSchema } from './lib/DiagnosticReports';\n\nvar DynamicRoutes = [{\n  'name': 'DiagnosticReportsPage',\n  'path': '/diagnostic-reports',\n  'component': DiagnosticReportsPage,\n  'requireAuth': true\n}];\n\nvar SidebarElements = [{\n  'primaryText': 'DiagnosticReports',\n  'to': '/diagnostic-reports',\n  'href': '/diagnostic-reports'\n}];\n\nexport { \n  SidebarElements, \n  DynamicRoutes, \n\n  DiagnosticReportsPage,\n  DiagnosticReportsTable\n};\n\n\n","// =======================================================================\n// Using DSTU2  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n//\n// https://www.hl7.org/fhir/DSTU2/diagnosticreport.html\n//\n//\n// =======================================================================\n\n\nimport { CardActions, CardText } from 'material-ui/Card';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport DatePicker from 'material-ui/DatePicker';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport TextField from 'material-ui/TextField';\nimport { browserHistory } from 'react-router';\nimport { get, set } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport { moment } from 'meteor/momentjs:moment'\n\n\n\nSession.setDefault('fhirDiagnosticReportData', false);\nSession.setDefault('fhirVersion', 'v1.0.2');\n\nexport class DiagnosticReportDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      diagnosticReportId: false,\n      diagnosticReport: {\n        resourceType: \"DiagnosticReport\",\n        code: {\n          text: ''\n        },\n        status: \"final\",\n        issued: \"\",\n        subject: {\n          display: '',\n          reference: ''\n        },\n        performer: {\n          actor: {\n            display: '',\n            reference: ''\n          }\n        },\n        identifier: [],\n        category: {\n          coding: []\n        },\n        effectiveDateTime: new Date(),\n        conclusion: \"\"\n      },\n      form: {\n        identifier: '',\n        status: '',\n        code: '',\n        category: '',\n        subjectDisplay: '',\n        subjectReference: '',\n        performerDisplay: '',\n        performerReference: '',\n        effectiveDateTime: '',\n        conclusion: ''\n      }\n    }\n  }\n  dehydrateFhirResource(diagnosticReport) {\n    let formData = Object.assign({}, this.state.form);\n\n    formData.identifier = get(diagnosticReport, 'identifier[0].value')\n    formData.status = get(diagnosticReport, 'status')    \n    formData.code = get(diagnosticReport, 'code.text')\n    formData.category = get(diagnosticReport, 'category.text')\n    formData.subjectDisplay = get(diagnosticReport, 'subject.display')\n    formData.subjectReference = get(diagnosticReport, 'subject.reference')\n    formData.performerDisplay = get(diagnosticReport, 'performer.display')\n    formData.performerReference = get(diagnosticReport, 'performer.reference')\n    formData.effectiveDateTime = get(diagnosticReport, 'effectiveDateTime')\n    formData.conclusion = get(diagnosticReport, 'conclusion')\n\n    return formData;\n  }\n  shouldComponentUpdate(nextProps){\n    process.env.NODE_ENV === \"test\" && console.log('DiagnosticReportDetail.shouldComponentUpdate()', nextProps, this.state)\n    let shouldUpdate = true;\n\n    // both false; don't take any more updates\n    if(nextProps.diagnosticReport === this.state.diagnosticReport){\n      shouldUpdate = false;\n    }\n\n    // received an diagnosticReport from the table; okay lets update again\n    if(nextProps.diagnosticReportId !== this.state.diagnosticReportId){\n      this.setState({diagnosticReportId: nextProps.diagnosticReportId})\n      \n      if(nextProps.diagnosticReport){\n        this.setState({diagnosticReport: nextProps.diagnosticReport})     \n        this.setState({form: this.dehydrateFhirResource(nextProps.diagnosticReport)})       \n      }\n      shouldUpdate = true;\n    }\n \n    return shouldUpdate;\n  }\n  getMeteorData() {\n    let data = {\n      diagnosticReportId: this.props.diagnosticReportId,\n      diagnosticReport: false,\n      showDatePicker: false,\n      fhirVersion: this.props.fhirVersion,\n      form: this.state.form\n    };\n\n    if(this.props.fhirVersion){\n      data.fhirVersion = this.props.fhirVersion;\n    }\n\n    if(this.props.showDatePicker){\n      data.showDatePicker = this.props.showDatePicker\n    }\n\n    if(this.props.diagnosticReport){\n      data.diagnosticReport = this.props.diagnosticReport;\n    }\n\n    // if (Session.get('fhirDiagnosticReportData')) {\n    //   data.diagnosticReport = Session.get('fhirDiagnosticReportData');\n    // } else {\n    //   // if (this.data.diagnosticReportId) {\n    //   //   data.diagnosticReportId = this.data.diagnosticReportId;\n    //     //console.log(\"selectedDiagnosticReport\", this.data.diagnosticReportId);\n\n    //     let selectedDiagnosticReport = DiagnosticReports.findOne({_id: this.data.diagnosticReportId});\n    //     //console.log(\"selectedDiagnosticReport\", selectedDiagnosticReport);\n\n    //     if (selectedDiagnosticReport) {\n    //       data.diagnosticReport = selectedDiagnosticReport;\n    //     }\n    //   // } else {\n    //   //   data.diagnosticReport = defaultDiagnosticReport;\n    //   // }\n    // }\n    \n    // if(data.diagnosticReport.category && data.diagnosticReport.category.coding){\n    //   data.diagnosticReport.category.coding.forEach(function(coding){\n    //     data.diagnosticReport.categoryText = coding.code;      \n    //   });\n    // }\n\n    // if(data.fhirVersion === \"v1.0.2\"){\n    //   data.diagnosticReport.performerDisplay = get(data, 'diagnosticReport.performer.display');\n    //   data.diagnosticReport.performerReference = get(data, 'diagnosticReport.performer.reference');\n    // }\n\n    // if(data.fhirVersion === \"v3.0.1\"){\n    //   data.diagnosticReport.performerDisplay = get(data, 'diagnosticReport.performer[0].actor.display');\n    //   data.diagnosticReport.performerReference = get(data, 'diagnosticReport.performer[0].actor.reference');\n    // }\n    \n\n    // if (this.data.diagnosticReportId) {\n    //   data.diagnosticReportId = this.data.diagnosticReportId;\n    // }  \n\n\n    console.log('DiagnosticReportDetail[data]', data);\n    return data;\n  }\n  renderDatePicker(showDatePicker, datePickerValue){\n    if (typeof datePickerValue === \"string\"){\n      datePickerValue = new Date(datePickerValue);\n    }\n    if (showDatePicker) {\n      return (\n        <Row>\n          <Col md={3} >\n            <DatePicker \n              name='effectiveDate'\n              floatingLabelText=\"Effective Date\" \n              hintText=\"YYYY-MM-DD\" \n              container=\"inline\" \n              mode=\"landscape\"\n              value={ datePickerValue ? datePickerValue : null}    \n              onChange={ this.changeState.bind(this, 'effectiveDate')}    \n              floatingLabelFixed={true}\n              fullWidth  \n              />    \n          </Col>\n        </Row>     \n      );\n    }\n  }\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('DiagnosticReportDetail.render()', this.state)\n    let formData = this.state.form;\n\n    return (\n      <div id={this.props.id} className=\"diagnosticReportDetail\">\n        <CardText>\n        <Row>\n            <Col md={3}>\n              <TextField\n                id='identifierInput'\n                ref='identifier'\n                name='identifier'\n                floatingLabelText='Identifier'\n                value={ get(formData, 'identifier') }\n                onChange={ this.changeState.bind(this, 'identifier')}\n                hintText='CR-01292494'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='statusInput'\n                ref='status'\n                name='status'\n                floatingLabelText='Status'\n                value={ get(formData, 'status') }\n                onChange={ this.changeState.bind(this, 'status')}\n                hintText='final'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='codeInput'\n                ref='code'\n                name='code'\n                floatingLabelText='Code'\n                value={ get(formData, 'code') }\n                onChange={ this.changeState.bind(this, 'code')}\n                hintText='Chest PA/Lateral'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={3}>\n              <TextField\n                id='categoryInput'\n                ref='category'\n                name='category'\n                floatingLabelText='Category'\n                value={ get(formData, 'category') }\n                onChange={ this.changeState.bind(this, 'category')}\n                hintText='Computed Radiography'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={6} >\n              <TextField\n                id='subjectDisplayInput'\n                ref='subjectDisplay'\n                name='subjectDisplay'\n                floatingLabelText='Subject'\n                value={ get(formData, 'subjectDisplay') }\n                onChange={ this.changeState.bind(this, 'subjectDisplay')}\n                hintText='Jane Doe'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={6} >\n              <TextField\n                id='subjectReferenceInput'\n                ref='subjectReference'\n                name='subjectReference'\n                floatingLabelText='Subject Reference'\n                value={ get(formData, 'subjectReference') }\n                onChange={ this.changeState.bind(this, 'subjectReference')}\n                hintText='Patient/123456790'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={6} >\n              <TextField\n                id='performerDisplayInput'\n                ref='performerDisplay'\n                name='performerDisplay'\n                floatingLabelText='Performer'\n                value={ get(formData, 'performerDisplay') }\n                onChange={ this.changeState.bind(this, 'performerDisplay')}\n                hintText='Gregory House'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>\n            </Col>\n            <Col md={6} >\n              <TextField\n                id='performerReferenceInput'\n                ref='performerReference'\n                name='performerReference'\n                floatingLabelText='Performer'\n                value={ get(formData, 'performerReference') }\n                onChange={ this.changeState.bind(this, 'performerReference')}\n                hintText='Practitioner/123456790'\n                floatingLabelFixed={true}\n                fullWidth\n                /><br/>   \n            </Col>\n          </Row>\n\n          { this.renderDatePicker(true, get(formData, 'effectiveDate') ) }\n\n          <TextField\n            id='conclusionInput'\n            ref='conclusion'\n            name='conclusion'\n            floatingLabelText='Conclusion'\n            value={ get(formData, 'conclusion') }\n            onChange={ this.changeState.bind(this, 'conclusion')}\n            multiLine={true}          \n            rows={5}\n            fullWidth\n            /><br/>\n      </CardText>\n        <CardActions>\n          { this.determineButtons(this.data.diagnosticReportId) }\n        </CardActions>\n      </div>\n    );\n  }\n\n  determineButtons(diagnosticReportId){\n    if (diagnosticReportId) {\n      return (\n        <div>\n          <RaisedButton id=\"updateDiagnosticReportButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)}  style={{marginRight: '20px'}}  />\n          <RaisedButton id=\"deleteDiagnosticReportButton\" label=\"Delete\" onClick={this.handleDeleteButton.bind(this)} />\n        </div>\n      );\n    } else {\n      return(\n        <RaisedButton id=\"saveDiagnosticReportButton\" label=\"Save\" primary={true} onClick={this.handleSaveButton.bind(this)} />\n      );\n    }\n  }\n  updateFormData(formData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"DiagnosticReportDetail.updateFormData\", formData, field, textValue);\n\n    switch (field) {\n      case \"identifier\":\n        set(formData, 'identifier', textValue)\n        break;\n      case \"status\":\n        set(formData, 'status', textValue)\n        break;        \n      case \"code\":\n        set(formData, 'code', textValue)\n        break;\n      case \"category\":\n        set(formData, 'category', textValue)\n        break;\n\n      case \"subjectDisplay\":\n        set(formData, 'subjectDisplay', textValue)\n        break;\n      case \"subjectReference\":\n        set(formData, 'subjectReference', textValue)\n        break;\n      case \"performerDisplay\":\n        set(formData, 'performerDisplay', textValue)\n        break;\n      case \"performerReference\":\n        set(formData, 'performerReference', textValue)\n        break;\n      case \"effectiveDateTime\":\n        set(formData, 'effectiveDateTime', textValue)\n        break;\n      case \"conclusion\":\n        set(formData, 'conclusion', textValue)\n        break;\n      default:\n    }\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n    return formData;\n  }\n  updateDiagnosticReport(diagnosticReportData, field, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"DiagnosticReportDetail.updateDiagnosticReport\", diagnosticReportData, field, textValue);\n\n    switch (field) {\n      case \"identifier\":\n        set(diagnosticReportData, 'identifier[0].value', textValue)\n        break;\n      case \"status\":\n        set(diagnosticReportData, 'status', textValue)\n        break;        \n      case \"code\":\n        set(diagnosticReportData, 'code.text', textValue)\n        break;\n      case \"category\":\n        set(diagnosticReportData, 'category.text', textValue)\n        break;\n\n      case \"subjectDisplay\":\n        set(diagnosticReportData, 'subject.display', textValue)\n        break;\n      case \"subjectReference\":\n        set(diagnosticReportData, 'subject.reference', textValue)\n        break;\n      case \"performerDisplay\":\n        set(diagnosticReportData, 'performer.display', textValue)\n        break;\n      case \"performerReference\":\n        set(diagnosticReportData, 'performer.reference', textValue)\n        break;\n      case \"effectiveDateTime\":\n        set(diagnosticReportData, 'effectiveDateTime', textValue)\n        break;\n      case \"conclusion\":\n        set(diagnosticReportData, 'conclusion', textValue)\n        break;\n      default:\n    }\n    return diagnosticReportData;\n  }\n\n\n  changeState(field, event, textValue){\n    if(process.env.NODE_ENV === \"test\") console.log(\"   \");\n    if(process.env.NODE_ENV === \"test\") console.log(\"DiagnosticReportDetail.changeState\", field, textValue);\n    if(process.env.NODE_ENV === \"test\") console.log(\"this.state\", this.state);\n\n    let formData = Object.assign({}, this.state.form);\n    let diagnosticReportData = Object.assign({}, this.state.diagnosticReport);\n\n    formData = this.updateFormData(formData, field, textValue);\n    diagnosticReportData = this.updateDiagnosticReport(diagnosticReportData, field, textValue);\n\n    if(process.env.NODE_ENV === \"test\") console.log(\"diagnosticReportData\", diagnosticReportData);\n    if(process.env.NODE_ENV === \"test\") console.log(\"formData\", formData);\n\n    this.setState({diagnosticReport: diagnosticReportData})\n    this.setState({form: formData})\n  }\n\n  handleSaveButton(){\n    if(process.env.NODE_ENV === \"test\") console.log('^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&&')\n    let self = this;\n\n    console.log('Saving a new DiagnosticReport...', this.state)\n\n    let fhirDiagnosticReportData = Object.assign({}, this.state.diagnosticReport);\n\n    if(process.env.NODE_ENV === \"test\") console.log('fhirDiagnosticReportData', fhirDiagnosticReportData);\n\n\n    let diagnosticReportValidator = DiagnosticReportSchema.newContext();\n    diagnosticReportValidator.validate(fhirDiagnosticReportData)\n\n    console.log('IsValid: ', diagnosticReportValidator.isValid())\n    console.log('ValidationErrors: ', diagnosticReportValidator.validationErrors());\n\n    if (this.data.diagnosticReportId) {\n      if(process.env.NODE_ENV === \"test\") console.log(\"Updating diagnosticReport...\");\n      delete fhirDiagnosticReportData._id;\n\n      fhirDiagnosticReportData.issued = new Date();\n      \n      DiagnosticReports._collection.update(\n        {_id: this.data.diagnosticReportId}, {$set: fhirDiagnosticReportData }, function(error, result) {\n          if (error) {\n            console.log(\"error\", error);\n\n            Bert.alert(error.reason, 'danger');\n          }\n          if (result) {\n            HipaaLogger.logEvent({eventType: \"update\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"DiagnosticReports\", recordId: self.data.diagnosticReportId});\n            Session.set('diagnosticReportPageTabIndex', 1);\n            Session.set('selectedDiagnosticReport', false);\n            Session.set('fhirDiagnosticReportData', false);\n            Bert.alert('DiagnosticReport updated!', 'success');\n          }\n        });\n    } else {\n\n      if(process.env.NODE_ENV === \"test\") {\n        console.log(\"create a new diagnosticReport\", fhirDiagnosticReportData);\n      }\n\n      fhirDiagnosticReportData.effectiveDateTime = new Date();\n      fhirDiagnosticReportData.issued = new Date();\n\n      // if(this.data.fhirVersion === \"v1.0.2\"){\n      //   fhirDiagnosticReportData.performer = fhirDiagnosticReportData.performer[0];\n      // }\n      \n      DiagnosticReports._collection.insert(fhirDiagnosticReportData,function(error, result) {\n        if (error) {\n          console.log(\"error\", error);\n          Bert.alert(error.reason, 'danger');\n        }\n        if (result) {\n          HipaaLogger.logEvent({eventType: \"create\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"DiagnosticReports\", recordId: result});\n          Session.set('diagnosticReportPageTabIndex', 1);\n          Session.set('selectedDiagnosticReport', false);\n          Session.set('fhirDiagnosticReportData', false);\n          Bert.alert('DiagnosticReport added!', 'success');\n        }\n      });\n    }\n  }\n\n  handleCancelButton(){\n    Session.set('diagnosticReportPageTabIndex', 1);\n  }\n\n  handleDeleteButton(){\n    let self = this;\n    DiagnosticReports._collection.remove({_id: this.data.diagnosticReportId}, function(error, result){\n      if (error) {\n        Bert.alert(error.reason, 'danger');\n      }\n      if (result) {\n        HipaaLogger.logEvent({eventType: \"delete\", userId: Meteor.userId(), userName: Meteor.user().fullName(), collectionName: \"DiagnosticReports\", recordId: self.data.diagnosticReportId});\n        Session.set('diagnosticReportPageTabIndex', 1);\n        Session.set('selectedDiagnosticReport', false);\n        Session.set('fhirDiagnosticReportData', false);\n        Bert.alert('DiagnosticReport removed!', 'success');\n      }\n    });\n  }\n}\n\n\nDiagnosticReportDetail.propTypes = {\n  id: PropTypes.string,\n  diagnosticReportId: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  diagnosticReport: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};\nReactMixin(DiagnosticReportDetail.prototype, ReactMeteorData);\nexport default DiagnosticReportDetail;","import { CardText, CardTitle } from 'material-ui/Card';\nimport {Tab, Tabs} from 'material-ui/Tabs';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport DiagnosticReportDetail from './DiagnosticReportDetail';\nimport DiagnosticReportsTable from './DiagnosticReportsTable';\n\nimport { Meteor } from 'meteor/meteor';\nimport { Session } from 'meteor/session';\n\nimport React  from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin  from 'react-mixin';\n\nSession.setDefault('fhirVersion', 'v1.0.2');\nSession.setDefault('selectedDiagnosticReportId', false);\n\nexport class DiagnosticReportsPage extends React.Component {\n  getMeteorData() {\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity'),\n        tab: {\n          borderBottom: '1px solid lightgray',\n          borderRight: 'none'\n        }\n      },\n      tabIndex: Session.get('diagnosticReportPageTabIndex'),\n      diagnosticReportSearchFilter: Session.get('diagnosticReportSearchFilter'),\n      selectedDiagnosticReportId: Session.get('selectedDiagnosticReportId'),\n      fhirVersion: Session.get('fhirVersion'),\n      selectedDiagnosticReport: false\n    };\n\n    if (Session.get('selectedDiagnosticReportId')){\n      data.selectedDiagnosticReport = DiagnosticReports.findOne({_id: Session.get('selectedDiagnosticReportId')});\n    } else {\n      data.selectedDiagnosticReport = false;\n    }\n\n    data.style = Glass.blur(data.style);\n    data.style.appbar = Glass.darkroom(data.style.appbar);\n    data.style.tab = Glass.darkroom(data.style.tab);\n\n    return data;\n  }\n\n  handleTabChange(index){\n    Session.set('diagnosticReportPageTabIndex', index);\n  }\n\n  onNewTab(){\n    Session.set('selectedDiagnosticReportId', false);\n    Session.set('diagnosticReportUpsert', false);\n  }\n\n  render() {\n    if(process.env.NODE_ENV === \"test\") console.log('In DiagnosticReportsPage render');\n    return (\n      <div id='diagnosticReportsPage'>\n        <VerticalCanvas>\n          <GlassCard height='auto'>\n            <CardTitle title='Diagnostic Reports' />\n            <CardText>\n              <Tabs id=\"diagnosticReportsPageTabs\" default value={this.data.tabIndex} onChange={this.handleTabChange} initialSelectedIndex={1}>\n               <Tab className='newDiagnosticReportTab' label='New' style={this.data.style.tab} onActive={ this.onNewTab } value={0}>\n                 <DiagnosticReportDetail \n                  id='newDiagnosticReport'\n                  fhirVersion={ this.data.fhirVersion }\n                  diagnosticReport={ this.data.selectedDiagnosticReport }\n                  diagnosticReportId={ this.data.selectedDiagnosticReportId } />  \n               </Tab>\n               <Tab className=\"diagnosticReportListTab\" label='DiagnosticReports' onActive={this.handleActive} style={this.data.style.tab} value={1}>\n                <DiagnosticReportsTable fhirVersion={ this.data.fhirVersion }/>\n               </Tab>\n               <Tab className=\"diagnosticReportDetailsTab\" label='Detail' onActive={this.handleActive} style={this.data.style.tab} value={2}>\n                 <DiagnosticReportDetail \n                  id='diagnosticReportDetails' \n                  showDatePicker={true}   \n                  fhirVersion={ this.data.fhirVersion }\n                  diagnosticReport={ this.data.selectedDiagnosticReport }\n                  diagnosticReportId={ this.data.selectedDiagnosticReportId } />               \n               </Tab>\n             </Tabs>\n            </CardText>\n          </GlassCard>\n        </VerticalCanvas>\n      </div>\n    );\n  }\n}\n\nReactMixin(DiagnosticReportsPage.prototype, ReactMeteorData);\n\nexport default DiagnosticReportsPage;","import { Card, CardActions, CardMedia, CardText, CardTitle } from 'material-ui/Card';\nimport { GlassCard, VerticalCanvas, Glass } from 'meteor/clinical:glass-ui';\n\nimport React from 'react';\nimport { ReactMeteorData } from 'meteor/react-meteor-data';\nimport ReactMixin from 'react-mixin';\nimport { Table } from 'react-bootstrap';\nimport Toggle from 'material-ui/Toggle';\nimport { get } from 'lodash';\n\nconst mapDiagnosticReportToRow = function(report, fhirVersion){\n  //console.log('report', report)\n  \n  var newRow = {\n    _id: '',\n    subjectDisplay: '',\n    code: '',\n    status: '',\n    issued: '',\n    performerDisplay: '',\n    identifier: '',\n    category: '',\n    effectiveDate: ''\n  };\n  if (report){\n    if(report._id){\n      newRow._id = report._id;\n    }\n    if(report.subject){\n      if(report.subject.display){\n        newRow.subjectDisplay = report.subject.display;\n      } else {\n        newRow.subjectDisplay = report.subject.reference;          \n      }\n    }\n    if(fhirVersion === \"v3.0.1\"){\n      if(get(report, 'performer[0].actor.display')){\n        newRow.performerDisplay = get(report, 'performer[0].actor.display');\n      } else {\n        newRow.performerDisplay = get(report, 'performer[0].actor.reference');          \n      }\n    }\n    if(fhirVersion === \"v1.0.2\"){\n      if(report.performer){\n        newRow.performerDisplay = get(report, 'performer.display');\n      } else {\n        newRow.performerDisplay = get(report, 'performer.reference'); \n      }      \n    }\n\n    if(get(report, 'category.coding[0].code')){\n      newRow.category = get(report, 'category.coding[0].code');\n    } else {\n      newRow.category = get(report, 'category.text');\n    }\n\n    newRow.code = get(report, 'code.text', '');\n    newRow.identifier = get(report, 'identifier[0].value', '');\n    newRow.status = get(report, 'status', '');\n    newRow.effectiveDate = moment(get(report, 'effectiveDateTime')).format(\"YYYY-MM-DD\");\n    newRow.issued = moment(get(report, 'issued')).format(\"YYYY-MM-DD\"); \n\n    return newRow;  \n  } \n}\n\n\nexport class DiagnosticReportsTable extends React.Component {\n  getMeteorData() {\n\n    // this should all be handled by props\n    // or a mixin!\n    let data = {\n      style: {\n        opacity: Session.get('globalOpacity')\n      },\n      selected: [],\n      diagnosticReports: [],\n      displayToggle: false,\n      displayDates: true,\n      fhirVersion: 'v1.0.2'\n    }\n\n    if(this.props.fhirVersion){\n      data.fhirVersion = this.props.fhirVersion;\n    }\n\n    if(this.props.displayToggles){\n      data.displayToggle = this.props.displayToggles;\n    }\n    if(this.props.displayDates){\n      data.displayDates = this.props.displayDates;\n    }\n    \n    if(this.props.data){\n      this.props.data.map(function(report){\n        data.diagnosticReports.push(mapDiagnosticReportToRow(report, data.fhirVersion));        \n      });\n    } else {\n      if(DiagnosticReports.find().count() > 0){\n        DiagnosticReports.find().map(function(report){\n          data.diagnosticReports.push(mapDiagnosticReportToRow(report, data.fhirVersion));        \n        });\n      }\n    }\n    \n    if(process.env.NODE_ENV === \"test\") console.log(\"DiagnosticReportsTable[data]\", data);\n    return data;\n  };\n\n  renderTogglesHeader(displayToggle){\n    if (displayToggle) {\n      return (\n        <th className=\"toggle\">toggle</th>\n      );\n    }\n  }\n  renderToggles(displayToggle, patientId ){\n    if (displayToggle) {\n      return (\n        <td className=\"toggle\">\n            <Toggle\n              defaultToggled={true}\n            />\n          </td>\n      );\n    }\n  }\n  renderDateHeader(displayDates){\n    if (displayDates) {\n      return (\n        <th className='effectiveDateTime'  style={{width: '120px'}}>effective date</th>\n      );\n    }\n  }\n  renderDate(displayDates, newDate ){\n    if (displayDates) {\n      return (\n        <td className='date'  style={{width: '120px'}}>{ moment(newDate).format('YYYY-MM-DD') }</td>\n      );\n    }\n  }\n  rowClick(id){\n    // console.log('rowClick', id)\n    Session.set('diagnosticReportsUpsert', false);\n    Session.set('selectedDiagnosticReportId', id);\n    Session.set('diagnosticReportPageTabIndex', 2);\n  };\n  render () {\n    if(process.env.NODE_ENV === \"test\") console.log('DiagnosticReportsTable.render()', this.data.diagnosticReports)\n\n    let tableRows = [];\n    for (var i = 0; i < this.data.diagnosticReports.length; i++) {\n\n      tableRows.push(\n        <tr key={i} className=\"diagnosticReportRow\" style={{cursor: \"pointer\"}} onClick={ this.rowClick.bind('this', this.data.diagnosticReports[i]._id)} >\n          { this.renderToggles(this.data.displayToggle, this.data.diagnosticReports[i]) }\n\n          <td className='subjectDisplay' style={{width: '140px'}}>{ this.data.diagnosticReports[i].subjectDisplay }</td>\n          <td className='code'>{ this.data.diagnosticReports[i].code }</td>\n          <td className='status'>{ this.data.diagnosticReports[i].status }</td>\n          <td className='issued'  style={{width: '120px'}}>{ this.data.diagnosticReports[i].issued }</td>\n          <td className='performerDisplay'>{ this.data.diagnosticReports[i].performerDisplay }</td>\n          <td className='identifier'>{ this.data.diagnosticReports[i].identifier }</td>\n          {/* <td className='effectiveDateTime'>{ this.data.diagnosticReports[i].effectiveDate }</td> */}\n          <td className='category'>{ this.data.diagnosticReports[i].category }</td>\n          { this.renderDate(this.data.displayDates, this.data.diagnosticReports[i].effectiveDate) }\n        </tr>\n      )\n    }\n\n    return(\n      <Table id='diagnosticReportsTable' hover >\n        <thead>\n          <tr>\n          { this.renderTogglesHeader(this.data.displayToggle) }\n            <th className='subjectDisplay' style={{width: '140px'}}>subject</th>\n            <th className='code'>code</th>\n            <th className='status'>status</th>\n            <th className='issued' style={{width: '120px'}}>issued</th>\n            <th className='performerDisplay'>performer</th>\n            <th className='identifier'>identifier</th>\n            <th className='category'>category</th>\n            { this.renderDateHeader(this.data.displayDates) }\n          </tr>\n        </thead>\n        <tbody>\n          { tableRows }\n        </tbody>\n      </Table>\n    );\n  }\n}\n\n\nReactMixin(DiagnosticReportsTable.prototype, ReactMeteorData);\nexport default DiagnosticReportsTable;"]}